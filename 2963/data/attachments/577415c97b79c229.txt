[32mINFO    [0m pytest_operator.plugin:plugin.py:734 Connecting to existing model localhost-localhost:test on unspecified cloud
[32mINFO    [0m juju.model:model.py:2097 Deploying local:jammy/opensearch-0
[32mINFO    [0m juju.model:model.py:2097 Deploying ch:amd64/jammy/manual-tls-certificates-108
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:329 



[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:330 Model  Controller           Cloud/Region         Version  SLA          Timestamp
test   localhost-localhost  localhost/localhost  3.5.3    unsupported  03:17:18Z

App                      Version  Status   Scale  Charm                    Channel        Rev  Exposed  Message
manual-tls-certificates           waiting    0/1  manual-tls-certificates  latest/stable  108  no       waiting for machine
opensearch                        waiting    0/3  opensearch                                0  no       waiting for machine

Unit                       Workload  Agent       Machine  Public address  Ports  Message
manual-tls-certificates/0  waiting   allocating  3                               waiting for machine
opensearch/0               waiting   allocating  0                               waiting for machine
opensearch/1               waiting   allocating  1                               waiting for machine
opensearch/2               waiting   allocating  2                               waiting for machine

Machine  State    Address  Inst id  Base          AZ  Message
0        pending           pending  ubuntu@22.04      Creating container
1        pending           pending  ubuntu@22.04      Creating container
2        pending           pending  ubuntu@22.04      Creating container
3        pending           pending  ubuntu@22.04      Creating container

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


03:17:18 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: manual-tls-certificates - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


03:17:29 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: manual-tls-certificates - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


03:17:39 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:348 03:19:43 -- Waiting for model: complete.



[32mINFO    [0m integration.tls.test_manual_tls:test_manual_tls.py:44 Deployed manual-tls-certificates application
[32mINFO    [0m integration.tls.test_manual_tls:test_manual_tls.py:48 Integrated opensearch with manual-tls-certificates
[32mINFO    [0m integration.tls.test_manual_tls:test_manual_tls.py:54 Waiting for CSRs to be created
[32mINFO    [0m root:helpers_manual_tls.py:93 Getting outstanding certificate requests
[32mINFO    [0m root:helpers_manual_tls.py:93 Getting outstanding certificate requests
[32mINFO    [0m root:helpers_manual_tls.py:93 Getting outstanding certificate requests
[32mINFO    [0m root:helpers_manual_tls.py:93 Getting outstanding certificate requests
[32mINFO    [0m root:helpers_manual_tls.py:93 Getting outstanding certificate requests
[32mINFO    [0m root:helpers_manual_tls.py:93 Getting outstanding certificate requests
[32mINFO    [0m root:helpers_manual_tls.py:93 Getting outstanding certificate requests
[32mINFO    [0m root:helpers_manual_tls.py:93 Getting outstanding certificate requests
[32mINFO    [0m root:helpers_manual_tls.py:93 Getting outstanding certificate requests
[32mINFO    [0m root:helpers_manual_tls.py:93 Getting outstanding certificate requests
[32mINFO    [0m root:helpers_manual_tls.py:93 Getting outstanding certificate requests
[32mINFO    [0m root:helpers_manual_tls.py:93 Getting outstanding certificate requests
[32mINFO    [0m root:helpers_manual_tls.py:93 Getting outstanding certificate requests
[32mINFO    [0m root:helpers_manual_tls.py:93 Getting outstanding certificate requests
[32mINFO    [0m root:helpers_manual_tls.py:93 Getting outstanding certificate requests
[32mINFO    [0m root:helpers_manual_tls.py:93 Getting outstanding certificate requests
[32mINFO    [0m root:helpers_manual_tls.py:93 Getting outstanding certificate requests
[32mINFO    [0m root:helpers_manual_tls.py:93 Getting outstanding certificate requests
[32mINFO    [0m integration.tls.test_manual_tls:test_manual_tls.py:58 Signing CSRs
[32mINFO    [0m integration.tls.helpers_manual_tls:helpers_manual_tls.py:147 Generated certificate for opensearch/1
[32mINFO    [0m integration.tls.helpers_manual_tls:helpers_manual_tls.py:165 Provided certificate to opensearch/1
[32mINFO    [0m integration.tls.helpers_manual_tls:helpers_manual_tls.py:147 Generated certificate for opensearch/1
[32mINFO    [0m integration.tls.helpers_manual_tls:helpers_manual_tls.py:165 Provided certificate to opensearch/1
[32mINFO    [0m integration.tls.helpers_manual_tls:helpers_manual_tls.py:147 Generated certificate for opensearch/2
[32mINFO    [0m integration.tls.helpers_manual_tls:helpers_manual_tls.py:165 Provided certificate to opensearch/2
[32mINFO    [0m integration.tls.helpers_manual_tls:helpers_manual_tls.py:147 Generated certificate for opensearch/2
[32mINFO    [0m integration.tls.helpers_manual_tls:helpers_manual_tls.py:165 Provided certificate to opensearch/2
[32mINFO    [0m integration.tls.helpers_manual_tls:helpers_manual_tls.py:147 Generated certificate for opensearch/0
[32mINFO    [0m integration.tls.helpers_manual_tls:helpers_manual_tls.py:165 Provided certificate to opensearch/0
[32mINFO    [0m integration.tls.helpers_manual_tls:helpers_manual_tls.py:147 Generated certificate for opensearch/0
[32mINFO    [0m integration.tls.helpers_manual_tls:helpers_manual_tls.py:165 Provided certificate to opensearch/0
[32mINFO    [0m integration.tls.helpers_manual_tls:helpers_manual_tls.py:147 Generated certificate for opensearch/0
[32mINFO    [0m integration.tls.helpers_manual_tls:helpers_manual_tls.py:165 Provided certificate to opensearch/0
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:329 



[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:330 Model  Controller           Cloud/Region         Version  SLA          Timestamp
test   localhost-localhost  localhost/localhost  3.5.3    unsupported  03:24:50Z

App                      Version  Status       Scale  Charm                    Channel        Rev  Exposed  Message
manual-tls-certificates           active           1  manual-tls-certificates  latest/stable  108  no       No outstanding requests.
opensearch                        maintenance      3  opensearch                                0  no       Waiting for TLS to be fully configured...

Unit                        Workload     Agent      Machine  Public address  Ports  Message
manual-tls-certificates/0*  active       idle       3        10.57.169.160          No outstanding requests.
opensearch/0*               maintenance  executing  0        10.57.169.157          Waiting for TLS to be fully configured...
opensearch/1                maintenance  executing  1        10.57.169.66           Waiting for TLS to be fully configured...
opensearch/2                maintenance  executing  2        10.57.169.65           Waiting for TLS to be fully configured...

Machine  State    Address        Inst id        Base          AZ  Message
0        started  10.57.169.157  juju-c9fe0c-0  ubuntu@22.04      Running
1        started  10.57.169.66   juju-c9fe0c-1  ubuntu@22.04      Running
2        started  10.57.169.65   juju-c9fe0c-2  ubuntu@22.04      Running
3        started  10.57.169.160  juju-c9fe0c-3  ubuntu@22.04      Running

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


03:24:50 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.ac0* -- (10.57.169.157) -- [executing (since: 03:24:47)] maintenance: Waiting for TLS to be fully configured...
		opensearch-1.ac0  -- (10.57.169.66) -- [executing (since: 03:24:50)] maintenance: Waiting for TLS to be fully configured...
		opensearch-2.ac0  -- (10.57.169.65) -- [executing (since: 03:24:48)] maintenance: Waiting for TLS to be fully configured...

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


03:25:02 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.ac0* -- (10.57.169.157) -- [executing (since: 03:24:58)] waiting: Waiting for OpenSearch to start...
		opensearch-1.ac0  -- (10.57.169.66) -- [executing (since: 03:25:02)] waiting: Requesting lock on operation: start
		opensearch-2.ac0  -- (10.57.169.65) -- [executing (since: 03:25:02)] maintenance: Waiting for TLS to be fully configured...

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


03:25:14 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: Waiting for OpenSearch to start...
		opensearch-0.ac0* -- (10.57.169.157) -- [executing (since: 03:24:58)] waiting: Waiting for OpenSearch to start...
		opensearch-1.ac0  -- (10.57.169.66) -- [idle (since: 03:25:13)] waiting: Requesting lock on operation: start
		opensearch-2.ac0  -- (10.57.169.65) -- [executing (since: 03:25:13)] waiting: Requesting lock on operation: start

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


03:25:25 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: Requesting lock on operation: start
		opensearch-0.ac0* -- (10.57.169.157) -- [executing (since: 03:25:25)] active: 
		opensearch-1.ac0  -- (10.57.169.66) -- [idle (since: 03:25:25)] waiting: Requesting lock on operation: start
		opensearch-2.ac0  -- (10.57.169.65) -- [executing (since: 03:25:24)] waiting: Requesting lock on operation: start

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


03:25:37 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: Waiting for OpenSearch to start...
		opensearch-0.ac0* -- (10.57.169.157) -- [idle (since: 03:25:33)] active: 
		opensearch-1.ac0  -- (10.57.169.66) -- [executing (since: 03:25:29)] waiting: Waiting for OpenSearch to start...
		opensearch-2.ac0  -- (10.57.169.65) -- [idle (since: 03:25:34)] waiting: Requesting lock on operation: start

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


03:25:48 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: Waiting for OpenSearch to start...
		opensearch-0.ac0* -- (10.57.169.157) -- [executing (since: 03:25:47)] active: 
		opensearch-1.ac0  -- (10.57.169.66) -- [executing (since: 03:25:48)] active: 
		opensearch-2.ac0  -- (10.57.169.65) -- [executing (since: 03:25:44)] waiting: Waiting for OpenSearch to start...

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


03:26:00 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: Waiting for OpenSearch to start...
		opensearch-0.ac0* -- (10.57.169.157) -- [idle (since: 03:25:49)] active: 
		opensearch-1.ac0  -- (10.57.169.66) -- [idle (since: 03:25:49)] active: 
		opensearch-2.ac0  -- (10.57.169.65) -- [executing (since: 03:26:00)] waiting: Waiting for OpenSearch to start...

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


03:26:12 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.ac0* -- (10.57.169.157) -- [idle (since: 03:26:07)] active: 
		opensearch-1.ac0  -- (10.57.169.66) -- [idle (since: 03:26:06)] active: 
		opensearch-2.ac0  -- (10.57.169.65) -- [idle (since: 03:26:06)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


03:26:24 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.ac0* -- (10.57.169.157) -- [idle (since: 03:26:07)] active: 
		opensearch-1.ac0  -- (10.57.169.66) -- [idle (since: 03:26:06)] active: 
		opensearch-2.ac0  -- (10.57.169.65) -- [idle (since: 03:26:06)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


03:26:35 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:348 03:26:37 -- Waiting for model: complete.



[32mINFO    [0m integration.tls.test_manual_tls:test_manual_tls.py:72 Scaling up the application by adding a new unit
[32mINFO    [0m integration.tls.test_manual_tls:test_manual_tls.py:76 Waiting for the new unit to be in maintenance waiting for certificates
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:329 



[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:330 Model  Controller           Cloud/Region         Version  SLA          Timestamp
test   localhost-localhost  localhost/localhost  3.5.3    unsupported  03:26:37Z

App                      Version  Status   Scale  Charm                    Channel        Rev  Exposed  Message
manual-tls-certificates           active       1  manual-tls-certificates  latest/stable  108  no       No outstanding requests.
opensearch                        waiting    3/4  opensearch                                0  no       waiting for machine

Unit                        Workload  Agent       Machine  Public address  Ports     Message
manual-tls-certificates/0*  active    idle        3        10.57.169.160             No outstanding requests.
opensearch/0*               active    idle        0        10.57.169.157   9200/tcp  
opensearch/1                active    idle        1        10.57.169.66    9200/tcp  
opensearch/2                active    idle        2        10.57.169.65    9200/tcp  
opensearch/3                waiting   allocating  4                                  waiting for machine

Machine  State    Address        Inst id        Base          AZ  Message
0        started  10.57.169.157  juju-c9fe0c-0  ubuntu@22.04      Running
1        started  10.57.169.66   juju-c9fe0c-1  ubuntu@22.04      Running
2        started  10.57.169.65   juju-c9fe0c-2  ubuntu@22.04      Running
3        started  10.57.169.160  juju-c9fe0c-3  ubuntu@22.04      Running
4        pending                 pending        ubuntu@22.04      

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


03:26:37 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:251 opensearch -- expected units: 4 -- current: 3
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


03:26:48 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:251 opensearch -- expected units: 4 -- current: 3
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


03:26:59 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch waiting -- message: waiting for machine
		opensearch-0.ac0* -- (10.57.169.157) -- [idle (since: 03:26:07)] active: 
		opensearch-1.ac0  -- (10.57.169.66) -- [idle (since: 03:26:06)] active: 
		opensearch-2.ac0  -- (10.57.169.65) -- [idle (since: 03:26:06)] active: 
		opensearch-3.ac0  -- (10.57.169.47) -- [allocating (since: 03:26:37)] waiting: waiting for machine

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


03:28:15 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch maintenance -- message: Installing OpenSearch...
		opensearch-0.ac0* -- (10.57.169.157) -- [idle (since: 03:26:07)] active: 
		opensearch-1.ac0  -- (10.57.169.66) -- [idle (since: 03:26:06)] active: 
		opensearch-2.ac0  -- (10.57.169.65) -- [idle (since: 03:26:06)] active: 
		opensearch-3.ac0  -- (10.57.169.47) -- [executing (since: 03:28:07)] maintenance: Installing OpenSearch...

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


03:28:28 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch maintenance -- message: Installing OpenSearch...
		opensearch-0.ac0* -- (10.57.169.157) -- [idle (since: 03:26:07)] active: 
		opensearch-1.ac0  -- (10.57.169.66) -- [idle (since: 03:26:06)] active: 
		opensearch-2.ac0  -- (10.57.169.65) -- [idle (since: 03:26:06)] active: 
		opensearch-3.ac0  -- (10.57.169.47) -- [executing (since: 03:28:07)] maintenance: Installing OpenSearch...

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


03:28:40 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch maintenance -- message: Installing OpenSearch...
		opensearch-0.ac0* -- (10.57.169.157) -- [idle (since: 03:26:07)] active: 
		opensearch-1.ac0  -- (10.57.169.66) -- [idle (since: 03:26:06)] active: 
		opensearch-2.ac0  -- (10.57.169.65) -- [idle (since: 03:26:06)] active: 
		opensearch-3.ac0  -- (10.57.169.47) -- [executing (since: 03:28:07)] maintenance: Installing OpenSearch...

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


03:28:52 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch maintenance -- message: Installing OpenSearch...
		opensearch-0.ac0* -- (10.57.169.157) -- [idle (since: 03:26:07)] active: 
		opensearch-1.ac0  -- (10.57.169.66) -- [idle (since: 03:26:06)] active: 
		opensearch-2.ac0  -- (10.57.169.65) -- [idle (since: 03:26:06)] active: 
		opensearch-3.ac0  -- (10.57.169.47) -- [executing (since: 03:28:07)] maintenance: Installing OpenSearch...

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


03:29:04 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.ac0* -- (10.57.169.157) -- [executing (since: 03:29:03)] active: 
		opensearch-1.ac0  -- (10.57.169.66) -- [executing (since: 03:29:03)] active: 
		opensearch-2.ac0  -- (10.57.169.65) -- [idle (since: 03:29:04)] active: 
		opensearch-3.ac0  -- (10.57.169.47) -- [executing (since: 03:29:03)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


03:29:16 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.ac0* -- (10.57.169.157) -- [idle (since: 03:29:05)] active: 
		opensearch-1.ac0  -- (10.57.169.66) -- [idle (since: 03:29:04)] active: 
		opensearch-2.ac0  -- (10.57.169.65) -- [idle (since: 03:29:04)] active: 
		opensearch-3.ac0  -- (10.57.169.47) -- [executing (since: 03:29:16)] maintenance: Waiting for TLS to be fully configured...

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


03:29:29 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.ac0* -- (10.57.169.157) -- [idle (since: 03:29:05)] active: 
		opensearch-1.ac0  -- (10.57.169.66) -- [idle (since: 03:29:04)] active: 
		opensearch-2.ac0  -- (10.57.169.65) -- [idle (since: 03:29:04)] active: 
		opensearch-3.ac0  -- (10.57.169.47) -- [idle (since: 03:29:25)] maintenance: Waiting for TLS to be fully configured...

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


03:29:40 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.ac0* -- (10.57.169.157) -- [idle (since: 03:29:05)] active: 
		opensearch-1.ac0  -- (10.57.169.66) -- [idle (since: 03:29:04)] active: 
		opensearch-2.ac0  -- (10.57.169.65) -- [idle (since: 03:29:04)] active: 
		opensearch-3.ac0  -- (10.57.169.47) -- [idle (since: 03:29:25)] maintenance: Waiting for TLS to be fully configured...

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


03:29:52 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.ac0* -- (10.57.169.157) -- [idle (since: 03:29:05)] active: 
		opensearch-1.ac0  -- (10.57.169.66) -- [idle (since: 03:29:04)] active: 
		opensearch-2.ac0  -- (10.57.169.65) -- [idle (since: 03:29:04)] active: 
		opensearch-3.ac0  -- (10.57.169.47) -- [idle (since: 03:29:25)] maintenance: Waiting for TLS to be fully configured...

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


03:30:04 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:348 03:30:06 -- Waiting for model: complete.



[32mINFO    [0m integration.tls.test_manual_tls:test_manual_tls.py:85 Waiting for the new unit to request certificates
[32mINFO    [0m root:helpers_manual_tls.py:93 Getting outstanding certificate requests
[32mINFO    [0m integration.tls.test_manual_tls:test_manual_tls.py:89 Signing CSRs
[32mINFO    [0m integration.tls.helpers_manual_tls:helpers_manual_tls.py:147 Generated certificate for opensearch/3
[32mINFO    [0m integration.tls.helpers_manual_tls:helpers_manual_tls.py:165 Provided certificate to opensearch/3
[32mINFO    [0m integration.tls.helpers_manual_tls:helpers_manual_tls.py:147 Generated certificate for opensearch/3
[32mINFO    [0m integration.tls.helpers_manual_tls:helpers_manual_tls.py:165 Provided certificate to opensearch/3
[32mINFO    [0m integration.tls.test_manual_tls:test_manual_tls.py:93 Waiting for the new unit to be active
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:329 



[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:330 Model  Controller           Cloud/Region         Version  SLA          Timestamp
test   localhost-localhost  localhost/localhost  3.5.3    unsupported  03:30:10Z

App                      Version  Status       Scale  Charm                    Channel        Rev  Exposed  Message
manual-tls-certificates           active           1  manual-tls-certificates  latest/stable  108  no       No outstanding requests.
opensearch                        maintenance      4  opensearch                                0  no       Waiting for TLS to be fully configured...

Unit                        Workload     Agent      Machine  Public address  Ports     Message
manual-tls-certificates/0*  active       idle       3        10.57.169.160             No outstanding requests.
opensearch/0*               active       executing  0        10.57.169.157   9200/tcp  
opensearch/1                active       executing  1        10.57.169.66    9200/tcp  
opensearch/2                active       executing  2        10.57.169.65    9200/tcp  
opensearch/3                maintenance  executing  4        10.57.169.47              Waiting for TLS to be fully configured...

Machine  State    Address        Inst id        Base          AZ  Message
0        started  10.57.169.157  juju-c9fe0c-0  ubuntu@22.04      Running
1        started  10.57.169.66   juju-c9fe0c-1  ubuntu@22.04      Running
2        started  10.57.169.65   juju-c9fe0c-2  ubuntu@22.04      Running
3        started  10.57.169.160  juju-c9fe0c-3  ubuntu@22.04      Running
4        started  10.57.169.47   juju-c9fe0c-4  ubuntu@22.04      Running

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


03:30:10 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.ac0* -- (10.57.169.157) -- [executing (since: 03:30:08)] active: 
		opensearch-1.ac0  -- (10.57.169.66) -- [executing (since: 03:30:08)] active: 
		opensearch-2.ac0  -- (10.57.169.65) -- [executing (since: 03:30:08)] active: 
		opensearch-3.ac0  -- (10.57.169.47) -- [executing (since: 03:30:08)] maintenance: Waiting for TLS to be fully configured...

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


03:30:21 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch waiting -- message: Requesting lock on operation: start
		opensearch-0.ac0* -- (10.57.169.157) -- [executing (since: 03:30:21)] active: 
		opensearch-1.ac0  -- (10.57.169.66) -- [idle (since: 03:30:21)] active: 
		opensearch-2.ac0  -- (10.57.169.65) -- [idle (since: 03:30:21)] active: 
		opensearch-3.ac0  -- (10.57.169.47) -- [executing (since: 03:30:19)] waiting: Requesting lock on operation: start

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


03:30:34 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch waiting -- message: Waiting for OpenSearch to start...
		opensearch-0.ac0* -- (10.57.169.157) -- [idle (since: 03:30:23)] active: 
		opensearch-1.ac0  -- (10.57.169.66) -- [idle (since: 03:30:21)] active: 
		opensearch-2.ac0  -- (10.57.169.65) -- [idle (since: 03:30:21)] active: 
		opensearch-3.ac0  -- (10.57.169.47) -- [executing (since: 03:30:19)] waiting: Waiting for OpenSearch to start...

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


03:30:47 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.ac0* -- (10.57.169.157) -- [executing (since: 03:30:46)] active: 
		opensearch-1.ac0  -- (10.57.169.66) -- [idle (since: 03:30:46)] active: 
		opensearch-2.ac0  -- (10.57.169.65) -- [idle (since: 03:30:46)] active: 
		opensearch-3.ac0  -- (10.57.169.47) -- [idle (since: 03:30:46)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


03:30:58 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.ac0* -- (10.57.169.157) -- [idle (since: 03:30:47)] active: 
		opensearch-1.ac0  -- (10.57.169.66) -- [idle (since: 03:30:46)] active: 
		opensearch-2.ac0  -- (10.57.169.65) -- [idle (since: 03:30:46)] active: 
		opensearch-3.ac0  -- (10.57.169.47) -- [idle (since: 03:30:46)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


03:31:10 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.ac0* -- (10.57.169.157) -- [idle (since: 03:30:47)] active: 
		opensearch-1.ac0  -- (10.57.169.66) -- [idle (since: 03:30:46)] active: 
		opensearch-2.ac0  -- (10.57.169.65) -- [idle (since: 03:30:46)] active: 
		opensearch-3.ac0  -- (10.57.169.47) -- [idle (since: 03:30:46)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


03:31:22 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:348 03:31:25 -- Waiting for model: complete.
[32mINFO    [0m pytest_operator.plugin:plugin.py:862 Model status:

Model  Controller           Cloud/Region         Version  SLA          Timestamp
test   localhost-localhost  localhost/localhost  3.5.3    unsupported  03:31:25Z

App                      Version  Status  Scale  Charm                    Channel        Rev  Exposed  Message
manual-tls-certificates           active      1  manual-tls-certificates  latest/stable  108  no       No outstanding requests.
opensearch                        active      4  opensearch                                0  no       

Unit                        Workload  Agent  Machine  Public address  Ports     Message
manual-tls-certificates/0*  active    idle   3        10.57.169.160             No outstanding requests.
opensearch/0*               active    idle   0        10.57.169.157   9200/tcp  
opensearch/1                active    idle   1        10.57.169.66    9200/tcp  
opensearch/2                active    idle   2        10.57.169.65    9200/tcp  
opensearch/3                active    idle   4        10.57.169.47    9200/tcp  

Machine  State    Address        Inst id        Base          AZ  Message
0        started  10.57.169.157  juju-c9fe0c-0  ubuntu@22.04      Running
1        started  10.57.169.66   juju-c9fe0c-1  ubuntu@22.04      Running
2        started  10.57.169.65   juju-c9fe0c-2  ubuntu@22.04      Running
3        started  10.57.169.160  juju-c9fe0c-3  ubuntu@22.04      Running
4        started  10.57.169.47   juju-c9fe0c-4  ubuntu@22.04      Running

[32mINFO    [0m pytest_operator.plugin:plugin.py:868 Juju error logs:

machine-0: 03:18:44 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-0: 03:18:44 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-opensearch-0: 03:18:44 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-1: 03:18:45 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-1: 03:18:45 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-opensearch-1: 03:18:45 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-3: 03:18:51 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-3: 03:18:51 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-manual-tls-certificates-0: 03:18:51 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-2: 03:19:04 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-2: 03:19:04 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-opensearch-2: 03:19:04 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
unit-opensearch-2: 03:24:47 ERROR unit.opensearch/2.juju-log certificates:3: err:  / out: keytool error: java.lang.Exception: Keystore file does not exist: /var/snap/opensearch/current/etc/opensearch/certificates/ca.p12

unit-opensearch-0: 03:24:49 ERROR unit.opensearch/0.juju-log certificates:3: err:  / out: keytool error: java.lang.Exception: Keystore file does not exist: /var/snap/opensearch/current/etc/opensearch/certificates/ca.p12

unit-opensearch-1: 03:24:57 ERROR unit.opensearch/1.juju-log certificates:3: err:  / out: keytool error: java.lang.Exception: Keystore file does not exist: /var/snap/opensearch/current/etc/opensearch/certificates/ca.p12

unit-opensearch-0: 03:24:58 ERROR unit.opensearch/0.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-0: 03:24:59 ERROR unit.opensearch/0.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-0: 03:24:59 ERROR unit.opensearch/0.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-0: 03:25:00 ERROR unit.opensearch/0.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-1: 03:25:01 ERROR unit.opensearch/1.juju-log node-lock-fallback:2: Cannot connect to the OpenSearch server...
unit-opensearch-1: 03:25:02 ERROR unit.opensearch/1.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-0: 03:25:03 ERROR unit.opensearch/0.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-1: 03:25:03 ERROR unit.opensearch/1.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-1: 03:25:04 ERROR unit.opensearch/1.juju-log certificates:3: Cannot connect to the OpenSearch server...
unit-opensearch-1: 03:25:05 ERROR unit.opensearch/1.juju-log certificates:3: Cannot connect to the OpenSearch server...
unit-opensearch-0: 03:25:06 ERROR unit.opensearch/0.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-1: 03:25:06 ERROR unit.opensearch/1.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-1: 03:25:07 ERROR unit.opensearch/1.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-1: 03:25:08 ERROR unit.opensearch/1.juju-log node-lock-fallback:2: Cannot connect to the OpenSearch server...
unit-opensearch-0: 03:25:09 ERROR unit.opensearch/0.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-1: 03:25:09 ERROR unit.opensearch/1.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-1: 03:25:10 ERROR unit.opensearch/1.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-1: 03:25:11 ERROR unit.opensearch/1.juju-log opensearch-peers:1: Cannot connect to the OpenSearch server...
unit-opensearch-0: 03:25:12 ERROR unit.opensearch/0.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-2: 03:25:12 ERROR unit.opensearch/2.juju-log node-lock-fallback:2: Cannot connect to the OpenSearch server...
unit-opensearch-1: 03:25:13 ERROR unit.opensearch/1.juju-log node-lock-fallback:2: Cannot connect to the OpenSearch server...
unit-opensearch-2: 03:25:13 ERROR unit.opensearch/2.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-2: 03:25:14 ERROR unit.opensearch/2.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-2: 03:25:15 ERROR unit.opensearch/2.juju-log node-lock-fallback:2: Cannot connect to the OpenSearch server...
unit-opensearch-1: 03:25:15 ERROR unit.opensearch/1.juju-log node-lock-fallback:2: Cannot connect to the OpenSearch server...
unit-opensearch-2: 03:25:15 ERROR unit.opensearch/2.juju-log node-lock-fallback:2: Cannot connect to the OpenSearch server...
unit-opensearch-1: 03:25:16 ERROR unit.opensearch/1.juju-log node-lock-fallback:2: Cannot connect to the OpenSearch server...
unit-opensearch-2: 03:25:16 ERROR unit.opensearch/2.juju-log node-lock-fallback:2: Cannot connect to the OpenSearch server...
unit-opensearch-1: 03:25:17 ERROR unit.opensearch/1.juju-log node-lock-fallback:2: Cannot connect to the OpenSearch server...
unit-opensearch-2: 03:25:17 ERROR unit.opensearch/2.juju-log node-lock-fallback:2: Cannot connect to the OpenSearch server...
unit-opensearch-1: 03:25:18 ERROR unit.opensearch/1.juju-log opensearch-peers:1: Cannot connect to the OpenSearch server...
unit-opensearch-2: 03:25:18 ERROR unit.opensearch/2.juju-log opensearch-peers:1: Cannot connect to the OpenSearch server...
unit-opensearch-1: 03:25:19 ERROR unit.opensearch/1.juju-log opensearch-peers:1: Cannot connect to the OpenSearch server...
unit-opensearch-2: 03:25:19 ERROR unit.opensearch/2.juju-log opensearch-peers:1: Cannot connect to the OpenSearch server...
unit-opensearch-1: 03:25:20 ERROR unit.opensearch/1.juju-log opensearch-peers:1: Cannot connect to the OpenSearch server...
unit-opensearch-2: 03:25:20 ERROR unit.opensearch/2.juju-log opensearch-peers:1: Cannot connect to the OpenSearch server...
unit-opensearch-2: 03:25:21 ERROR unit.opensearch/2.juju-log opensearch-peers:1: Cannot connect to the OpenSearch server...
unit-opensearch-1: 03:25:21 ERROR unit.opensearch/1.juju-log node-lock-fallback:2: Cannot connect to the OpenSearch server...
unit-opensearch-2: 03:25:22 ERROR unit.opensearch/2.juju-log node-lock-fallback:2: Cannot connect to the OpenSearch server...
unit-opensearch-2: 03:25:23 ERROR unit.opensearch/2.juju-log node-lock-fallback:2: Cannot connect to the OpenSearch server...
unit-opensearch-1: 03:25:24 ERROR unit.opensearch/1.juju-log node-lock-fallback:2: Cannot connect to the OpenSearch server...
unit-opensearch-2: 03:25:24 ERROR unit.opensearch/2.juju-log node-lock-fallback:2: Cannot connect to the OpenSearch server...
unit-opensearch-1: 03:25:25 ERROR unit.opensearch/1.juju-log node-lock-fallback:2: Cannot connect to the OpenSearch server...
unit-opensearch-2: 03:25:25 ERROR unit.opensearch/2.juju-log node-lock-fallback:2: Cannot connect to the OpenSearch server...
unit-opensearch-1: 03:25:29 ERROR unit.opensearch/1.juju-log opensearch-peers:1: Cannot connect to the OpenSearch server...
unit-opensearch-2: 03:25:29 ERROR unit.opensearch/2.juju-log node-lock-fallback:2: Cannot connect to the OpenSearch server...
unit-opensearch-1: 03:25:30 ERROR unit.opensearch/1.juju-log opensearch-peers:1: Cannot connect to the OpenSearch server...
unit-opensearch-2: 03:25:31 ERROR unit.opensearch/2.juju-log opensearch-peers:1: Cannot connect to the OpenSearch server...
unit-opensearch-2: 03:25:32 ERROR unit.opensearch/2.juju-log opensearch-peers:1: Cannot connect to the OpenSearch server...
unit-opensearch-2: 03:25:33 ERROR unit.opensearch/2.juju-log upgrade-version-a:0: Cannot connect to the OpenSearch server...
unit-opensearch-2: 03:25:44 ERROR unit.opensearch/2.juju-log node-lock-fallback:2: Cannot connect to the OpenSearch server...
unit-opensearch-2: 03:25:46 ERROR unit.opensearch/2.juju-log node-lock-fallback:2: Cannot connect to the OpenSearch server...
machine-4: 03:27:58 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-4: 03:27:58 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-opensearch-3: 03:27:58 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
unit-opensearch-3: 03:30:10 ERROR unit.opensearch/3.juju-log certificates:3: err:  / out: keytool error: java.lang.Exception: Keystore file does not exist: /var/snap/opensearch/current/etc/opensearch/certificates/ca.p12

unit-opensearch-3: 03:30:20 ERROR unit.opensearch/3.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-3: 03:30:22 ERROR unit.opensearch/3.juju-log Cannot connect to the OpenSearch server...

[32mINFO    [0m pytest_operator.plugin:plugin.py:947 Forgetting model main...