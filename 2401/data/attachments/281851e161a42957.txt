[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:329 



[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:330 Model  Controller           Cloud/Region         Version  SLA          Timestamp
test   localhost-localhost  localhost/localhost  3.4.4    unsupported  02:24:30Z

App                       Version  Status   Scale  Charm                     Channel        Rev  Exposed  Message
grafana-agent                      blocked      3  grafana-agent             latest/edge    223  no       Missing ['grafana-cloud-config']|['grafana-dashboards-provider']|['logging-consumer']|['send-remote-write'] for cos-a...
opensearch                         active       3  opensearch                                 0  no       
self-signed-certificates           active       1  self-signed-certificates  latest/stable  155  no       

Unit                         Workload  Agent      Machine  Public address  Ports     Message
opensearch/0                 active    executing  1        10.32.19.28     9200/tcp  (config-changed) 
  grafana-agent/0*           blocked   idle                10.32.19.28               Missing ['grafana-cloud-config']|['grafana-dashboards-provider']|['logging-consumer']|['send-remote-write'] for cos-a...
opensearch/1*                active    executing  2        10.32.19.105    9200/tcp  (config-changed) 
  grafana-agent/3            blocked   idle                10.32.19.105              Missing ['grafana-cloud-config']|['grafana-dashboards-provider']|['logging-consumer']|['send-remote-write'] for cos-a...
opensearch/2                 active    executing  3        10.32.19.66     9200/tcp  (config-changed) 
  grafana-agent/1            blocked   idle                10.32.19.66               Missing ['grafana-cloud-config']|['grafana-dashboards-provider']|['logging-consumer']|['send-remote-write'] for cos-a...
self-signed-certificates/0*  active    idle       0        10.32.19.168              

Machine  State    Address       Inst id        Base          AZ  Message
0        started  10.32.19.168  juju-114c42-0  ubuntu@22.04      Running
1        started  10.32.19.28   juju-114c42-1  ubuntu@22.04      Running
2        started  10.32.19.105  juju-114c42-2  ubuntu@22.04      Running
3        started  10.32.19.66   juju-114c42-3  ubuntu@22.04      Running

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:24:30 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [executing (since: 02:24:30)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [executing (since: 02:24:30)] active: 
		opensearch-2.791  -- (10.32.19.66) -- [executing (since: 02:24:30)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:24:43 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Plugin configuration check.
		opensearch-0.791  -- (10.32.19.28) -- [executing (since: 02:24:30)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [executing (since: 02:24:30)] active: 
		opensearch-2.791  -- (10.32.19.66) -- [executing (since: 02:24:30)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:24:55 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Plugin configuration check.
		opensearch-0.791  -- (10.32.19.28) -- [executing (since: 02:24:30)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [executing (since: 02:24:30)] active: 
		opensearch-2.791  -- (10.32.19.66) -- [executing (since: 02:24:30)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:25:08 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Plugin configuration check.
		opensearch-0.791  -- (10.32.19.28) -- [executing (since: 02:24:30)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [executing (since: 02:24:30)] active: 
		opensearch-2.791  -- (10.32.19.66) -- [executing (since: 02:24:30)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:25:20 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Plugin configuration check.
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:25:19)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [executing (since: 02:24:30)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:25:20)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:25:32 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Plugin configuration check.
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:25:19)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [executing (since: 02:24:30)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:25:20)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:25:45 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Plugin configuration check.
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:25:19)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [executing (since: 02:24:30)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:25:20)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:25:57 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Plugin configuration check.
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:25:19)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [executing (since: 02:24:30)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:25:20)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:26:09 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Plugin configuration check.
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:25:19)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [executing (since: 02:24:30)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:25:20)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:26:21 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Plugin configuration check.
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:25:19)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [executing (since: 02:24:30)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:25:20)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:26:34 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Plugin configuration check.
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:25:19)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [executing (since: 02:24:30)] waiting: Waiting for OpenSearch to start...
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:25:20)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:26:47 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [executing (since: 02:26:46)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [executing (since: 02:26:42)] active: 
		opensearch-2.791  -- (10.32.19.66) -- [executing (since: 02:26:46)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:27:00 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [executing (since: 02:26:46)] waiting: The OpenSearch service stopped.
		opensearch-1.791* -- (10.32.19.105) -- [executing (since: 02:26:42)] active: 
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:26:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:27:12 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [executing (since: 02:26:46)] waiting: The OpenSearch service stopped.
		opensearch-1.791* -- (10.32.19.105) -- [executing (since: 02:26:42)] active: 
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:26:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:27:24 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [executing (since: 02:26:46)] waiting: The OpenSearch service stopped.
		opensearch-1.791* -- (10.32.19.105) -- [executing (since: 02:26:42)] active: 
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:26:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:27:36 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [executing (since: 02:26:46)] waiting: The OpenSearch service stopped.
		opensearch-1.791* -- (10.32.19.105) -- [executing (since: 02:26:42)] active: 
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:26:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:27:49 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [executing (since: 02:26:46)] waiting: The OpenSearch service stopped.
		opensearch-1.791* -- (10.32.19.105) -- [executing (since: 02:26:42)] active: 
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:26:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:28:01 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [executing (since: 02:26:46)] waiting: Waiting for OpenSearch to start...
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:27:55)] active: 
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:26:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:28:13 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [executing (since: 02:26:46)] waiting: Waiting for OpenSearch to start...
		opensearch-1.791* -- (10.32.19.105) -- [executing (since: 02:28:10)] active: 
		opensearch-2.791  -- (10.32.19.66) -- [executing (since: 02:28:11)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:28:25 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:28:17)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:28:22)] active: 
		opensearch-2.791  -- (10.32.19.66) -- [executing (since: 02:28:17)] waiting: Waiting for OpenSearch to start...

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:28:37 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:28:17)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:28:22)] active: 
		opensearch-2.791  -- (10.32.19.66) -- [executing (since: 02:28:17)] waiting: Waiting for OpenSearch to start...

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:28:51 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:28:50)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [executing (since: 02:28:47)] active: 
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:28:49)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:29:03 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:28:50)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:28:53)] active: 
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:28:49)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:29:15 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:28:50)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:28:53)] active: 
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:28:49)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:29:27 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:28:50)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:28:53)] active: 
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:28:49)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:29:39 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:28:50)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:28:53)] active: 
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:28:49)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:29:52 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:28:50)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:28:53)] active: 
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:28:49)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:30:04 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:28:50)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:28:53)] active: 
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:28:49)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:30:16 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:348 02:30:18 -- Waiting for model: complete.



[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:329 



[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:330 Model  Controller           Cloud/Region         Version  SLA          Timestamp
test   localhost-localhost  localhost/localhost  3.4.4    unsupported  02:30:18Z

App                       Version  Status   Scale  Charm                     Channel        Rev  Exposed  Message
grafana-agent                      blocked      3  grafana-agent             latest/edge    223  no       Missing ['grafana-cloud-config']|['grafana-dashboards-provider']|['logging-consumer']|['send-remote-write'] for cos-a...
opensearch                         active       3  opensearch                                 0  no       
self-signed-certificates           active       1  self-signed-certificates  latest/stable  155  no       

Unit                         Workload  Agent  Machine  Public address  Ports     Message
opensearch/0                 active    idle   1        10.32.19.28     9200/tcp  
  grafana-agent/0*           blocked   idle            10.32.19.28               Missing ['grafana-cloud-config']|['grafana-dashboards-provider']|['logging-consumer']|['send-remote-write'] for cos-a...
opensearch/1*                active    idle   2        10.32.19.105    9200/tcp  
  grafana-agent/3            blocked   idle            10.32.19.105              Missing ['grafana-cloud-config']|['grafana-dashboards-provider']|['logging-consumer']|['send-remote-write'] for cos-a...
opensearch/2                 active    idle   3        10.32.19.66     9200/tcp  
  grafana-agent/1            blocked   idle            10.32.19.66               Missing ['grafana-cloud-config']|['grafana-dashboards-provider']|['logging-consumer']|['send-remote-write'] for cos-a...
self-signed-certificates/0*  active    idle   0        10.32.19.168              

Machine  State    Address       Inst id        Base          AZ  Message
0        started  10.32.19.168  juju-114c42-0  ubuntu@22.04      Running
1        started  10.32.19.28   juju-114c42-1  ubuntu@22.04      Running
2        started  10.32.19.105  juju-114c42-2  ubuntu@22.04      Running
3        started  10.32.19.66   juju-114c42-3  ubuntu@22.04      Running

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:30:18 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:348 02:30:20 -- Waiting for model: complete.



[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:329 



[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:330 Model  Controller           Cloud/Region         Version  SLA          Timestamp
test   localhost-localhost  localhost/localhost  3.4.4    unsupported  02:30:20Z

App                       Version  Status   Scale  Charm                     Channel        Rev  Exposed  Message
grafana-agent                      blocked      3  grafana-agent             latest/edge    223  no       Missing ['grafana-cloud-config']|['grafana-dashboards-provider']|['logging-consumer']|['send-remote-write'] for cos-a...
opensearch                         active       3  opensearch                                 0  no       
self-signed-certificates           active       1  self-signed-certificates  latest/stable  155  no       

Unit                         Workload  Agent      Machine  Public address  Ports     Message
opensearch/0                 active    executing  1        10.32.19.28     9200/tcp  (config-changed) 
  grafana-agent/0*           blocked   idle                10.32.19.28               Missing ['grafana-cloud-config']|['grafana-dashboards-provider']|['logging-consumer']|['send-remote-write'] for cos-a...
opensearch/1*                active    executing  2        10.32.19.105    9200/tcp  (config-changed) 
  grafana-agent/3            blocked   idle                10.32.19.105              Missing ['grafana-cloud-config']|['grafana-dashboards-provider']|['logging-consumer']|['send-remote-write'] for cos-a...
opensearch/2                 active    executing  3        10.32.19.66     9200/tcp  (config-changed) 
  grafana-agent/1            blocked   idle                10.32.19.66               Missing ['grafana-cloud-config']|['grafana-dashboards-provider']|['logging-consumer']|['send-remote-write'] for cos-a...
self-signed-certificates/0*  active    idle       0        10.32.19.168              

Machine  State    Address       Inst id        Base          AZ  Message
0        started  10.32.19.168  juju-114c42-0  ubuntu@22.04      Running
1        started  10.32.19.28   juju-114c42-1  ubuntu@22.04      Running
2        started  10.32.19.105  juju-114c42-2  ubuntu@22.04      Running
3        started  10.32.19.66   juju-114c42-3  ubuntu@22.04      Running

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:30:20 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [executing (since: 02:30:19)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [executing (since: 02:30:18)] active: 
		opensearch-2.791  -- (10.32.19.66) -- [executing (since: 02:30:19)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:30:32 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Plugin configuration check.
		opensearch-0.791  -- (10.32.19.28) -- [executing (since: 02:30:19)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [executing (since: 02:30:18)] active: 
		opensearch-2.791  -- (10.32.19.66) -- [executing (since: 02:30:19)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:30:44 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Plugin configuration check.
		opensearch-0.791  -- (10.32.19.28) -- [executing (since: 02:30:19)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [executing (since: 02:30:18)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [executing (since: 02:30:19)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:30:58 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:31:10 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:31:22 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:31:34 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:31:46 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:31:59 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:32:11 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:32:23 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:32:35 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:32:47 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:33:00 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:33:12 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:33:24 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:33:36 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:33:48 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:34:01 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:34:13 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:34:25 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:34:37 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:34:49 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:35:02 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:35:14 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:35:26 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:35:38 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:35:50 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:36:03 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:36:15 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:36:27 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:36:39 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:36:51 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:37:05 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:37:17 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:37:29 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:37:41 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:37:53 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:38:06 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:38:18 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:38:30 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:38:42 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:38:54 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:39:07 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:39:19 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:39:31 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:39:43 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:39:55 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:40:08 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:40:20 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:40:32 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:40:45 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:40:57 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:41:10 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:41:22 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:41:34 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:41:45 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:41:57 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:42:10 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:42:22 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:42:34 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:42:46 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:42:58 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:43:11 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:43:23 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:43:35 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:43:47 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:43:59 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:44:12 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:44:24 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:44:36 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:44:49 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:45:01 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:45:14 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:45:26 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:45:38 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:45:50 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:46:02 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:46:14 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:46:26 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:46:38 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:46:50 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:47:02 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:47:15 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:47:27 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:47:39 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:47:51 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:48:04 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:48:17 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:48:29 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:48:41 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:48:53 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:49:05 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:49:18 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:49:30 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:49:42 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:49:54 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:50:06 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:50:19 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.791  -- (10.32.19.28) -- [idle (since: 02:30:55)] active: 
		opensearch-1.791* -- (10.32.19.105) -- [idle (since: 02:30:54)] waiting: The OpenSearch service stopped.
		opensearch-2.791  -- (10.32.19.66) -- [idle (since: 02:30:55)] active: 

[31m[1mERROR   [0m integration.helpers_deployments:helpers_deployments.py:352 wait_until -- Timed out!



[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:353 Model  Controller           Cloud/Region         Version  SLA          Timestamp
test   localhost-localhost  localhost/localhost  3.4.4    unsupported  02:50:21Z

App                       Version  Status   Scale  Charm                     Channel        Rev  Exposed  Message
grafana-agent                      blocked      3  grafana-agent             latest/edge    223  no       Missing ['grafana-cloud-config']|['grafana-dashboards-provider']|['logging-consumer']|['send-remote-write'] for cos-a...
opensearch                         active       3  opensearch                                 0  no       
self-signed-certificates           active       1  self-signed-certificates  latest/stable  155  no       

Unit                         Workload  Agent  Machine  Public address  Ports     Message
opensearch/0                 active    idle   1        10.32.19.28     9200/tcp  
  grafana-agent/0*           blocked   idle            10.32.19.28               Missing ['grafana-cloud-config']|['grafana-dashboards-provider']|['logging-consumer']|['send-remote-write'] for cos-a...
opensearch/1*                waiting   idle   2        10.32.19.105    9200/tcp  The OpenSearch service stopped.
  grafana-agent/3            blocked   idle            10.32.19.105              Missing ['grafana-cloud-config']|['grafana-dashboards-provider']|['logging-consumer']|['send-remote-write'] for cos-a...
opensearch/2                 active    idle   3        10.32.19.66     9200/tcp  
  grafana-agent/1            blocked   idle            10.32.19.66               Missing ['grafana-cloud-config']|['grafana-dashboards-provider']|['logging-consumer']|['send-remote-write'] for cos-a...
self-signed-certificates/0*  active    idle   0        10.32.19.168              

Machine  State    Address       Inst id        Base          AZ  Message
0        started  10.32.19.168  juju-114c42-0  ubuntu@22.04      Running
1        started  10.32.19.28   juju-114c42-1  ubuntu@22.04      Running
2        started  10.32.19.105  juju-114c42-2  ubuntu@22.04      Running
3        started  10.32.19.66   juju-114c42-3  ubuntu@22.04      Running

[31m[1mERROR   [0m integration.helpers_deployments:helpers_deployments.py:92 Dumping juju logs for all:
[31m[1mERROR   [0m integration.helpers_deployments:helpers_deployments.py:93 unit-opensearch-0: 02:48:07 ERROR unit.opensearch/0.juju-log [Errno 111] Connection refused
unit-opensearch-0: 02:48:07 ERROR unit.opensearch/0.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:48:07 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:07 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:07 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:48:07 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:07 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:48:07 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:07 DEBUG unit.opensearch/0.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-2: 02:48:07 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:07 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:07 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-0: 02:48:07 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:48:07 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:48:07 DEBUG unit.opensearch/2.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-0: 02:48:07 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:07 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:07 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:07 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:48:07 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:48:07 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:07 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:07 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:07 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:07 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:48:07 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:48:07 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:07 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:07 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:08 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:08 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:48:08 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:48:08 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:08 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:08 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET /_nodes HTTP/11" 200 50713
unit-opensearch-2: 02:48:08 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:48:08 DEBUG unit.opensearch/0.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-0: 02:48:08 ERROR unit.opensearch/0.juju-log [Errno 111] Connection refused
unit-opensearch-0: 02:48:08 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:08 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET /_nodes HTTP/11" 200 50713
unit-opensearch-0: 02:48:08 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:48:08 DEBUG unit.opensearch/2.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-0: 02:48:08 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:08 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:48:08 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:08 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:08 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:48:08 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:48:08 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:08 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:08 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:08 ERROR unit.opensearch/0.juju-log [Errno 111] Connection refused
unit-opensearch-0: 02:48:08 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:08 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:48:08 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:48:08 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:08 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-0: 02:48:08 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:08 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:08 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:08 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:48:08 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:48:08 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:08 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:08 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:08 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:08 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:48:08 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:48:08 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:08 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:08 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:08 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:08 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:48:08 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:48:08 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:08 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:48:08 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:08 ERROR unit.opensearch/0.juju-log Request GET to https://10.32.19.28:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.28:9200/.charm_node_lock/_source/0
unit-opensearch-2: 02:48:08 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:48:08 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:48:08 ERROR unit.opensearch/2.juju-log Request GET to https://10.32.19.66:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.66:9200/.charm_node_lock/_source/0
unit-opensearch-1: 02:48:08 DEBUG unit.opensearch/1.juju-log ops 2.14.1 up and running.
unit-opensearch-1: 02:48:08 DEBUG unit.opensearch/1.juju-log Re-emitting deferred event <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[442]>.
unit-opensearch-1: 02:48:08 ERROR unit.opensearch/1.juju-log [Errno 111] Connection refused
unit-opensearch-1: 02:48:08 ERROR unit.opensearch/1.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-1: 02:48:08 ERROR unit.opensearch/1.juju-log [Errno 111] Connection refused
unit-opensearch-1: 02:48:08 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:08 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:48:08 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:08 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:08 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:48:08 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:08 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:08 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:48:08 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:08 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:08 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:48:08 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:08 DEBUG unit.opensearch/1.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-1: 02:48:08 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:08 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:48:08 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:08 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:08 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:48:08 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:08 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:08 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:48:08 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:08 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:08 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:48:08 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:08 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:08 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:48:08 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET /_nodes HTTP/11" 200 50713
unit-opensearch-1: 02:48:08 DEBUG unit.opensearch/1.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-1: 02:48:08 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:08 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:48:08 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:08 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:08 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:48:08 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:08 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:08 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:48:08 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:08 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:08 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:48:08 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:08 ERROR unit.opensearch/1.juju-log [Errno 111] Connection refused
unit-opensearch-1: 02:48:08 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:08 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:48:08 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:08 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:08 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:48:09 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:09 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:09 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:48:09 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:09 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:09 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:48:09 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:09 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:09 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:48:09 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-1: 02:48:09 ERROR unit.opensearch/1.juju-log Request GET to https://10.32.19.66:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.66:9200/.charm_node_lock/_source/0
unit-opensearch-0: 02:48:09 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:09 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:48:09 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:48:09 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:09 ERROR unit.opensearch/0.juju-log Request GET to https://10.32.19.28:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.28:9200/.charm_node_lock/_source/0
unit-opensearch-2: 02:48:09 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:48:09 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:48:09 ERROR unit.opensearch/2.juju-log Request GET to https://10.32.19.66:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.66:9200/.charm_node_lock/_source/0
unit-opensearch-1: 02:48:10 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:10 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:48:10 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-1: 02:48:10 ERROR unit.opensearch/1.juju-log Request GET to https://10.32.19.66:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.66:9200/.charm_node_lock/_source/0
unit-opensearch-0: 02:48:10 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:10 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:48:10 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:48:10 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:10 ERROR unit.opensearch/0.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.32.19.28:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-2: 02:48:10 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:48:10 DEBUG unit.opensearch/0.juju-log Lock to restart opensearch not acquired. Will retry next event
unit-opensearch-0: 02:48:10 DEBUG unit.opensearch/0.juju-log Deferring <_RestartOpenSearch via OpenSearchOperatorCharm/_restart_opensearch_event[471]>.
unit-opensearch-0: 02:48:10 DEBUG unit.opensearch/0.juju-log Emitting Juju event update_status.
unit-opensearch-2: 02:48:10 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:48:10 ERROR unit.opensearch/2.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.32.19.66:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-2: 02:48:10 DEBUG unit.opensearch/2.juju-log Lock to restart opensearch not acquired. Will retry next event
unit-opensearch-2: 02:48:10 DEBUG unit.opensearch/2.juju-log Deferring <_RestartOpenSearch via OpenSearchOperatorCharm/_restart_opensearch_event[413]>.
unit-opensearch-0: 02:48:10 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:10 DEBUG unit.opensearch/2.juju-log Emitting Juju event update_status.
unit-opensearch-0: 02:48:10 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:48:10 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:10 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:10 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:48:10 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:10 DEBUG unit.opensearch/0.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-2: 02:48:10 DEBUG unit.opensearch/2.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-self-signed-certificates-0: 02:48:10 DEBUG unit.self-signed-certificates/0.juju-log ops 2.14.0 up and running.
unit-self-signed-certificates-0: 02:48:10 DEBUG unit.self-signed-certificates/0.juju-log no relation on 'tracing': tracing not ready
unit-self-signed-certificates-0: 02:48:10 DEBUG unit.self-signed-certificates/0.juju-log Emitting Juju event update_status.
unit-opensearch-0: 02:48:10 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 02:48:10 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-self-signed-certificates-0: 02:48:11 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-1: 02:48:11 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:11 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:48:11 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-1: 02:48:11 ERROR unit.opensearch/1.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-1/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-1/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-1/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-1/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-1/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.32.19.66:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-1: 02:48:11 DEBUG unit.opensearch/1.juju-log Lock to start opensearch not acquired. Will retry next event
unit-opensearch-1: 02:48:11 DEBUG unit.opensearch/1.juju-log Deferring <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[442]>.
unit-opensearch-1: 02:48:11 DEBUG unit.opensearch/1.juju-log Emitting Juju event update_status.
unit-opensearch-1: 02:48:11 ERROR unit.opensearch/1.juju-log [Errno 111] Connection refused
unit-opensearch-1: 02:48:11 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-1: 02:48:16 DEBUG unit.grafana-agent/1.juju-log ops 2.14.1 up and running.
unit-grafana-agent-0: 02:48:16 DEBUG unit.grafana-agent/0.juju-log ops 2.14.1 up and running.
unit-grafana-agent-3: 02:48:16 DEBUG unit.grafana-agent/3.juju-log ops 2.14.1 up and running.
unit-grafana-agent-1: 02:48:16 DEBUG unit.grafana-agent/1.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-0: 02:48:16 DEBUG unit.grafana-agent/0.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-1: 02:48:16 DEBUG unit.grafana-agent/1.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x75c59fa3ab60> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-0: 02:48:16 DEBUG unit.grafana-agent/0.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x7af2fe776c00> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-3: 02:48:16 DEBUG unit.grafana-agent/3.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-1: 02:48:16 DEBUG unit.grafana-agent/1.juju-log Emitting Juju event update_status.
unit-grafana-agent-0: 02:48:16 DEBUG unit.grafana-agent/0.juju-log Emitting Juju event update_status.
unit-grafana-agent-3: 02:48:16 DEBUG unit.grafana-agent/3.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x78a40e972ca0> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-3: 02:48:16 DEBUG unit.grafana-agent/3.juju-log Emitting Juju event update_status.
unit-grafana-agent-1: 02:48:16 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-3: 02:48:16 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-0: 02:48:16 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 02:48:17 DEBUG unit.opensearch/2.juju-log ops 2.14.1 up and running.
unit-opensearch-0: 02:48:17 DEBUG unit.opensearch/0.juju-log ops 2.14.1 up and running.
unit-opensearch-2: 02:48:17 DEBUG unit.opensearch/2.juju-log Re-emitting deferred event <_RestartOpenSearch via OpenSearchOperatorCharm/_restart_opensearch_event[413]>.
unit-opensearch-0: 02:48:17 DEBUG unit.opensearch/0.juju-log Re-emitting deferred event <_RestartOpenSearch via OpenSearchOperatorCharm/_restart_opensearch_event[471]>.
unit-opensearch-2: 02:48:17 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:17 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:17 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:48:17 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:48:17 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:17 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:17 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:17 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:48:17 ERROR unit.opensearch/0.juju-log [Errno 111] Connection refused
unit-opensearch-0: 02:48:17 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:17 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:17 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:48:17 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:48:17 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:17 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:17 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:48:17 ERROR unit.opensearch/0.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:48:17 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:17 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:17 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-0: 02:48:17 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:48:17 DEBUG unit.opensearch/2.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-2: 02:48:17 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:17 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:17 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:48:17 DEBUG unit.opensearch/0.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-0: 02:48:17 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:17 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:48:17 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:17 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:17 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:17 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:48:17 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:17 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:48:17 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:17 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:17 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:17 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:48:17 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:17 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:17 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:48:17 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:17 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:48:17 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:17 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:17 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:48:17 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET /_nodes HTTP/11" 200 50713
unit-opensearch-2: 02:48:17 DEBUG unit.opensearch/2.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-2: 02:48:17 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:17 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET /_nodes HTTP/11" 200 50713
unit-opensearch-2: 02:48:17 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:48:17 DEBUG unit.opensearch/0.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-0: 02:48:17 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:17 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:17 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:48:17 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:48:17 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-0: 02:48:17 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:17 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:17 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:17 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:48:17 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:48:17 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:17 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:17 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:17 ERROR unit.opensearch/0.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:48:17 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:48:17 ERROR unit.opensearch/0.juju-log [Errno 111] Connection refused
unit-opensearch-0: 02:48:17 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:17 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:17 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:48:17 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:17 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:48:17 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:17 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:17 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:17 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:48:17 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:17 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:48:17 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:17 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:17 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:17 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:48:17 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:17 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:48:17 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:17 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:17 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-0: 02:48:17 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:48:17 ERROR unit.opensearch/2.juju-log Request GET to https://10.32.19.66:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.66:9200/.charm_node_lock/_source/0
unit-opensearch-0: 02:48:17 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-0: 02:48:17 ERROR unit.opensearch/0.juju-log Request GET to https://10.32.19.28:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.28:9200/.charm_node_lock/_source/0
unit-opensearch-1: 02:48:18 DEBUG unit.opensearch/1.juju-log ops 2.14.1 up and running.
unit-opensearch-1: 02:48:18 DEBUG unit.opensearch/1.juju-log Re-emitting deferred event <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[442]>.
unit-opensearch-1: 02:48:18 ERROR unit.opensearch/1.juju-log [Errno 111] Connection refused
unit-opensearch-1: 02:48:18 ERROR unit.opensearch/1.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-1: 02:48:18 ERROR unit.opensearch/1.juju-log [Errno 111] Connection refused
unit-opensearch-1: 02:48:18 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:18 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:48:18 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:18 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:18 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:48:18 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:18 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:18 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:48:18 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:18 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:18 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:48:18 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:18 DEBUG unit.opensearch/1.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-1: 02:48:18 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:18 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:48:18 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:18 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:18 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:48:18 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:18 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:18 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:48:18 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:18 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:18 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:18 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:48:18 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:48:18 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:18 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:48:18 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-1: 02:48:18 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:18 ERROR unit.opensearch/2.juju-log Request GET to https://10.32.19.66:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.66:9200/.charm_node_lock/_source/0
unit-opensearch-1: 02:48:18 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:18 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:48:18 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-0: 02:48:18 ERROR unit.opensearch/0.juju-log Request GET to https://10.32.19.28:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.28:9200/.charm_node_lock/_source/0
unit-opensearch-1: 02:48:18 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET /_nodes HTTP/11" 200 50713
unit-opensearch-1: 02:48:18 DEBUG unit.opensearch/1.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-1: 02:48:18 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:18 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:48:18 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:19 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:19 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:48:19 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:19 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:19 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:48:19 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:19 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:19 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:48:19 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:19 ERROR unit.opensearch/1.juju-log [Errno 111] Connection refused
unit-opensearch-1: 02:48:19 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-self-signed-certificates-0: 02:48:19 DEBUG unit.self-signed-certificates/0.juju-log ops 2.14.0 up and running.
unit-opensearch-1: 02:48:19 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:48:19 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:19 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:19 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:48:19 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-self-signed-certificates-0: 02:48:19 DEBUG unit.self-signed-certificates/0.juju-log no relation on 'tracing': tracing not ready
unit-opensearch-1: 02:48:19 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:19 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:48:19 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-self-signed-certificates-0: 02:48:19 DEBUG unit.self-signed-certificates/0.juju-log Emitting Juju event update_status.
unit-opensearch-1: 02:48:19 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:19 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:48:19 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:19 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:19 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:48:19 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-1: 02:48:19 ERROR unit.opensearch/1.juju-log Request GET to https://10.32.19.28:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.28:9200/.charm_node_lock/_source/0
unit-self-signed-certificates-0: 02:48:19 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 02:48:19 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:19 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:48:19 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:19 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:48:19 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:48:19 ERROR unit.opensearch/2.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.32.19.66:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-2: 02:48:19 DEBUG unit.opensearch/2.juju-log Lock to restart opensearch not acquired. Will retry next event
unit-opensearch-0: 02:48:19 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:48:19 DEBUG unit.opensearch/2.juju-log Deferring <_RestartOpenSearch via OpenSearchOperatorCharm/_restart_opensearch_event[413]>.
unit-opensearch-2: 02:48:19 DEBUG unit.opensearch/2.juju-log Emitting Juju event update_status.
unit-opensearch-0: 02:48:19 ERROR unit.opensearch/0.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.32.19.28:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-0: 02:48:19 DEBUG unit.opensearch/0.juju-log Lock to restart opensearch not acquired. Will retry next event
unit-opensearch-0: 02:48:19 DEBUG unit.opensearch/0.juju-log Deferring <_RestartOpenSearch via OpenSearchOperatorCharm/_restart_opensearch_event[471]>.
unit-opensearch-2: 02:48:20 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:20 DEBUG unit.opensearch/0.juju-log Emitting Juju event update_status.
unit-opensearch-2: 02:48:20 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:48:20 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:20 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:20 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:48:20 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:20 DEBUG unit.opensearch/2.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-0: 02:48:20 DEBUG unit.opensearch/0.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-1: 02:48:20 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:20 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-1: 02:48:20 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:48:20 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-1: 02:48:20 ERROR unit.opensearch/1.juju-log Request GET to https://10.32.19.28:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.28:9200/.charm_node_lock/_source/0
unit-opensearch-0: 02:48:20 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-1: 02:48:21 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:21 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:48:21 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-1: 02:48:21 ERROR unit.opensearch/1.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-1/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-1/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-1/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-1/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-1/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.32.19.28:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-1: 02:48:21 DEBUG unit.opensearch/1.juju-log Lock to start opensearch not acquired. Will retry next event
unit-opensearch-1: 02:48:21 DEBUG unit.opensearch/1.juju-log Deferring <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[442]>.
unit-opensearch-1: 02:48:21 DEBUG unit.opensearch/1.juju-log Emitting Juju event update_status.
unit-opensearch-1: 02:48:21 ERROR unit.opensearch/1.juju-log [Errno 111] Connection refused
unit-opensearch-1: 02:48:21 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-1: 02:48:25 DEBUG unit.grafana-agent/1.juju-log ops 2.14.1 up and running.
unit-grafana-agent-3: 02:48:25 DEBUG unit.grafana-agent/3.juju-log ops 2.14.1 up and running.
unit-grafana-agent-0: 02:48:25 DEBUG unit.grafana-agent/0.juju-log ops 2.14.1 up and running.
unit-grafana-agent-1: 02:48:25 DEBUG unit.grafana-agent/1.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-1: 02:48:25 DEBUG unit.grafana-agent/1.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x7b5d41a1ea20> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-1: 02:48:25 DEBUG unit.grafana-agent/1.juju-log Emitting Juju event update_status.
unit-grafana-agent-3: 02:48:25 DEBUG unit.grafana-agent/3.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-0: 02:48:25 DEBUG unit.grafana-agent/0.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-3: 02:48:25 DEBUG unit.grafana-agent/3.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x76b30df82c50> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-0: 02:48:25 DEBUG unit.grafana-agent/0.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x7c8a0d976c00> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-3: 02:48:25 DEBUG unit.grafana-agent/3.juju-log Emitting Juju event update_status.
unit-grafana-agent-0: 02:48:25 DEBUG unit.grafana-agent/0.juju-log Emitting Juju event update_status.
unit-grafana-agent-1: 02:48:26 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-3: 02:48:26 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-0: 02:48:26 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-self-signed-certificates-0: 02:48:27 DEBUG unit.self-signed-certificates/0.juju-log ops 2.14.0 up and running.
unit-self-signed-certificates-0: 02:48:27 DEBUG unit.self-signed-certificates/0.juju-log no relation on 'tracing': tracing not ready
unit-self-signed-certificates-0: 02:48:27 DEBUG unit.self-signed-certificates/0.juju-log Emitting Juju event update_status.
unit-self-signed-certificates-0: 02:48:27 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 02:48:28 DEBUG unit.opensearch/2.juju-log ops 2.14.1 up and running.
unit-opensearch-0: 02:48:28 DEBUG unit.opensearch/0.juju-log ops 2.14.1 up and running.
unit-opensearch-2: 02:48:28 DEBUG unit.opensearch/2.juju-log Re-emitting deferred event <_RestartOpenSearch via OpenSearchOperatorCharm/_restart_opensearch_event[413]>.
unit-opensearch-2: 02:48:28 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:28 DEBUG unit.opensearch/0.juju-log Re-emitting deferred event <_RestartOpenSearch via OpenSearchOperatorCharm/_restart_opensearch_event[471]>.
unit-opensearch-1: 02:48:29 DEBUG unit.opensearch/1.juju-log ops 2.14.1 up and running.
unit-opensearch-2: 02:48:29 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:48:29 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:29 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:29 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:48:29 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:29 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:29 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:48:29 ERROR unit.opensearch/0.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:48:29 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:29 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:29 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-0: 02:48:29 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:48:29 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:29 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:48:29 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:29 ERROR unit.opensearch/0.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:48:29 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:29 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:29 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-0: 02:48:29 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:48:29 DEBUG unit.opensearch/2.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-2: 02:48:29 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:29 DEBUG unit.opensearch/1.juju-log Re-emitting deferred event <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[442]>.
unit-opensearch-2: 02:48:29 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:48:29 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:29 DEBUG unit.opensearch/0.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-0: 02:48:29 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:29 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:29 ERROR unit.opensearch/1.juju-log [Errno 111] Connection refused
unit-opensearch-0: 02:48:29 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:48:29 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:29 ERROR unit.opensearch/1.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-2: 02:48:29 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:48:29 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:29 ERROR unit.opensearch/1.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:48:29 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:29 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:29 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:48:29 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:29 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:29 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:29 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:48:29 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:29 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:48:29 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:29 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:48:29 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:29 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:48:29 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:29 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:29 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:29 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:48:29 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:29 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:48:29 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET /_nodes HTTP/11" 200 50713
unit-opensearch-2: 02:48:29 DEBUG unit.opensearch/2.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-0: 02:48:29 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET /_nodes HTTP/11" 200 50713
unit-opensearch-2: 02:48:29 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:29 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:29 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:48:29 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:29 DEBUG unit.opensearch/0.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-0: 02:48:29 ERROR unit.opensearch/0.juju-log [Errno 111] Connection refused
unit-opensearch-1: 02:48:29 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:48:29 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:29 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:29 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:48:29 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:29 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-1: 02:48:29 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:29 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:29 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:48:29 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:29 ERROR unit.opensearch/0.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:48:29 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:48:29 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:29 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:29 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:48:29 DEBUG unit.opensearch/1.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-2: 02:48:29 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:29 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:29 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-0: 02:48:29 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:29 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:48:29 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:29 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:29 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:48:29 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:29 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:48:29 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:29 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:29 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:48:29 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:29 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:29 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:29 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:48:29 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:29 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:48:29 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:29 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:29 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:48:29 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:29 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:29 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:29 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:48:29 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:48:29 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:29 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:29 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:29 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:29 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:29 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:48:29 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:48:29 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:29 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:48:29 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:29 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:29 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-1: 02:48:29 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:48:29 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:48:29 ERROR unit.opensearch/2.juju-log Request GET to https://10.32.19.66:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.66:9200/.charm_node_lock/_source/0
unit-opensearch-0: 02:48:29 ERROR unit.opensearch/0.juju-log Request GET to https://10.32.19.28:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.28:9200/.charm_node_lock/_source/0
unit-opensearch-1: 02:48:29 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET /_nodes HTTP/11" 200 50713
unit-opensearch-1: 02:48:29 DEBUG unit.opensearch/1.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-1: 02:48:29 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:29 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:48:29 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:29 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:29 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:48:29 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:29 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:29 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:48:29 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:29 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:29 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:48:29 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:29 ERROR unit.opensearch/1.juju-log [Errno 111] Connection refused
unit-opensearch-1: 02:48:29 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:29 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:48:29 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:29 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:29 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:48:29 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:29 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:29 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:48:29 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:29 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:29 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:48:29 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:29 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:29 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:48:29 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-1: 02:48:29 ERROR unit.opensearch/1.juju-log Request GET to https://10.32.19.66:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.66:9200/.charm_node_lock/_source/0
unit-opensearch-2: 02:48:30 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:30 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:30 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:48:30 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:48:30 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-0: 02:48:30 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:48:30 ERROR unit.opensearch/2.juju-log Request GET to https://10.32.19.66:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.66:9200/.charm_node_lock/_source/0
unit-opensearch-0: 02:48:30 ERROR unit.opensearch/0.juju-log Request GET to https://10.32.19.28:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.28:9200/.charm_node_lock/_source/0
unit-opensearch-1: 02:48:30 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:30 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:48:30 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-1: 02:48:30 ERROR unit.opensearch/1.juju-log Request GET to https://10.32.19.66:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.66:9200/.charm_node_lock/_source/0
unit-opensearch-2: 02:48:31 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:31 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:31 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:48:31 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:48:31 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-0: 02:48:31 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:48:31 ERROR unit.opensearch/2.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.32.19.66:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-2: 02:48:31 DEBUG unit.opensearch/2.juju-log Lock to restart opensearch not acquired. Will retry next event
unit-opensearch-0: 02:48:31 ERROR unit.opensearch/0.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.32.19.28:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-2: 02:48:31 DEBUG unit.opensearch/2.juju-log Deferring <_RestartOpenSearch via OpenSearchOperatorCharm/_restart_opensearch_event[413]>.
unit-opensearch-0: 02:48:31 DEBUG unit.opensearch/0.juju-log Lock to restart opensearch not acquired. Will retry next event
unit-opensearch-2: 02:48:31 DEBUG unit.opensearch/2.juju-log Emitting Juju event update_status.
unit-opensearch-0: 02:48:31 DEBUG unit.opensearch/0.juju-log Deferring <_RestartOpenSearch via OpenSearchOperatorCharm/_restart_opensearch_event[471]>.
unit-opensearch-0: 02:48:31 DEBUG unit.opensearch/0.juju-log Emitting Juju event update_status.
unit-opensearch-2: 02:48:31 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:31 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:48:31 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:31 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:48:31 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:31 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:31 DEBUG unit.opensearch/2.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-0: 02:48:31 DEBUG unit.opensearch/0.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-1: 02:48:31 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:31 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:48:31 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-1: 02:48:31 ERROR unit.opensearch/1.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-1/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-1/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-1/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-1/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-1/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.32.19.66:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-1: 02:48:31 DEBUG unit.opensearch/1.juju-log Lock to start opensearch not acquired. Will retry next event
unit-opensearch-1: 02:48:31 DEBUG unit.opensearch/1.juju-log Deferring <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[442]>.
unit-opensearch-1: 02:48:31 DEBUG unit.opensearch/1.juju-log Emitting Juju event update_status.
unit-opensearch-1: 02:48:31 ERROR unit.opensearch/1.juju-log [Errno 111] Connection refused
unit-opensearch-0: 02:48:31 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 02:48:31 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-1: 02:48:32 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-3: 02:48:36 DEBUG unit.grafana-agent/3.juju-log ops 2.14.1 up and running.
unit-grafana-agent-0: 02:48:36 DEBUG unit.grafana-agent/0.juju-log ops 2.14.1 up and running.
unit-grafana-agent-3: 02:48:36 DEBUG unit.grafana-agent/3.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-1: 02:48:36 DEBUG unit.grafana-agent/1.juju-log ops 2.14.1 up and running.
unit-grafana-agent-3: 02:48:36 DEBUG unit.grafana-agent/3.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x77def7586c00> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-3: 02:48:36 DEBUG unit.grafana-agent/3.juju-log Emitting Juju event update_status.
unit-grafana-agent-0: 02:48:36 DEBUG unit.grafana-agent/0.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-0: 02:48:36 DEBUG unit.grafana-agent/0.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x7e20bae1eb10> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-0: 02:48:36 DEBUG unit.grafana-agent/0.juju-log Emitting Juju event update_status.
unit-grafana-agent-1: 02:48:36 DEBUG unit.grafana-agent/1.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-1: 02:48:36 DEBUG unit.grafana-agent/1.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x7c9cd262eac0> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-1: 02:48:36 DEBUG unit.grafana-agent/1.juju-log Emitting Juju event update_status.
unit-self-signed-certificates-0: 02:48:37 DEBUG unit.self-signed-certificates/0.juju-log ops 2.14.0 up and running.
unit-self-signed-certificates-0: 02:48:37 DEBUG unit.self-signed-certificates/0.juju-log no relation on 'tracing': tracing not ready
unit-self-signed-certificates-0: 02:48:37 DEBUG unit.self-signed-certificates/0.juju-log Emitting Juju event update_status.
unit-grafana-agent-3: 02:48:37 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-0: 02:48:37 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-1: 02:48:37 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-self-signed-certificates-0: 02:48:37 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 02:48:37 DEBUG unit.opensearch/2.juju-log ops 2.14.1 up and running.
unit-opensearch-0: 02:48:37 DEBUG unit.opensearch/0.juju-log ops 2.14.1 up and running.
unit-opensearch-0: 02:48:37 DEBUG unit.opensearch/0.juju-log Re-emitting deferred event <_RestartOpenSearch via OpenSearchOperatorCharm/_restart_opensearch_event[471]>.
unit-opensearch-2: 02:48:37 DEBUG unit.opensearch/2.juju-log Re-emitting deferred event <_RestartOpenSearch via OpenSearchOperatorCharm/_restart_opensearch_event[413]>.
unit-opensearch-0: 02:48:38 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:38 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:38 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:48:38 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:48:38 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:38 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:38 ERROR unit.opensearch/0.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:48:38 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-0: 02:48:38 ERROR unit.opensearch/0.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:48:38 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-0: 02:48:38 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:38 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:38 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:48:38 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:48:38 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:38 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:38 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:38 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:38 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:48:38 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:48:38 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:38 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:38 DEBUG unit.opensearch/0.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-2: 02:48:38 DEBUG unit.opensearch/2.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-0: 02:48:38 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:38 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:38 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:48:38 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:48:38 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:38 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:38 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:38 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:38 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:48:38 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:48:38 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:38 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:38 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:38 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:48:38 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:38 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:48:38 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:38 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:38 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:38 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:38 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:48:38 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:48:38 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET /_nodes HTTP/11" 200 50713
unit-opensearch-2: 02:48:38 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET /_nodes HTTP/11" 200 50713
unit-opensearch-0: 02:48:38 DEBUG unit.opensearch/0.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-2: 02:48:38 DEBUG unit.opensearch/2.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-0: 02:48:38 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:38 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-0: 02:48:38 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:48:38 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:48:38 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:38 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:38 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:48:38 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:38 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:48:38 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:38 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:38 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:38 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:48:38 ERROR unit.opensearch/0.juju-log [Errno 111] Connection refused
unit-opensearch-0: 02:48:38 ERROR unit.opensearch/0.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:48:38 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:38 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:38 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:38 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:48:38 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:48:38 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:38 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:38 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:38 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:48:38 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:38 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:48:38 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:38 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:38 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:38 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:48:38 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:38 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:48:38 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:38 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:38 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:38 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:48:38 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:38 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:48:38 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-0: 02:48:38 ERROR unit.opensearch/0.juju-log Request GET to https://10.32.19.28:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.28:9200/.charm_node_lock/_source/0
unit-opensearch-2: 02:48:38 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:48:38 ERROR unit.opensearch/2.juju-log Request GET to https://10.32.19.66:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.66:9200/.charm_node_lock/_source/0
unit-opensearch-0: 02:48:39 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:39 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:48:39 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:39 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:48:39 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-0: 02:48:39 ERROR unit.opensearch/0.juju-log Request GET to https://10.32.19.28:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.28:9200/.charm_node_lock/_source/0
unit-opensearch-2: 02:48:39 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:48:39 ERROR unit.opensearch/2.juju-log Request GET to https://10.32.19.66:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.66:9200/.charm_node_lock/_source/0
unit-opensearch-0: 02:48:40 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:40 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:40 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:48:40 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:48:40 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:48:40 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-0: 02:48:40 ERROR unit.opensearch/0.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.32.19.28:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-0: 02:48:40 DEBUG unit.opensearch/0.juju-log Lock to restart opensearch not acquired. Will retry next event
unit-opensearch-2: 02:48:40 ERROR unit.opensearch/2.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.32.19.66:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-0: 02:48:40 DEBUG unit.opensearch/0.juju-log Deferring <_RestartOpenSearch via OpenSearchOperatorCharm/_restart_opensearch_event[471]>.
unit-opensearch-2: 02:48:40 DEBUG unit.opensearch/2.juju-log Lock to restart opensearch not acquired. Will retry next event
unit-opensearch-0: 02:48:40 DEBUG unit.opensearch/0.juju-log Emitting Juju event update_status.
unit-opensearch-2: 02:48:40 DEBUG unit.opensearch/2.juju-log Deferring <_RestartOpenSearch via OpenSearchOperatorCharm/_restart_opensearch_event[413]>.
unit-opensearch-2: 02:48:40 DEBUG unit.opensearch/2.juju-log Emitting Juju event update_status.
unit-opensearch-0: 02:48:40 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:40 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:40 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:48:40 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:40 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:48:40 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:40 DEBUG unit.opensearch/0.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-2: 02:48:40 DEBUG unit.opensearch/2.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-0: 02:48:40 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 02:48:40 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-1: 02:48:40 DEBUG unit.opensearch/1.juju-log ops 2.14.1 up and running.
unit-opensearch-1: 02:48:41 DEBUG unit.opensearch/1.juju-log Re-emitting deferred event <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[442]>.
unit-opensearch-1: 02:48:41 ERROR unit.opensearch/1.juju-log [Errno 111] Connection refused
unit-opensearch-1: 02:48:41 ERROR unit.opensearch/1.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-1: 02:48:41 ERROR unit.opensearch/1.juju-log [Errno 111] Connection refused
unit-opensearch-1: 02:48:41 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:41 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:48:41 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:41 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:41 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:48:41 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:41 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:41 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:48:41 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:41 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:41 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:48:41 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:41 DEBUG unit.opensearch/1.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-1: 02:48:41 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:41 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:48:41 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:41 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:41 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:48:41 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:41 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:41 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:48:41 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:41 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:41 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:48:41 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:41 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:41 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:48:41 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET /_nodes HTTP/11" 200 50713
unit-opensearch-1: 02:48:41 DEBUG unit.opensearch/1.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-1: 02:48:41 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:41 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:48:41 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:41 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:41 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:48:41 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:41 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:41 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:48:41 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:41 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:41 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:48:41 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:41 ERROR unit.opensearch/1.juju-log [Errno 111] Connection refused
unit-opensearch-1: 02:48:41 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:41 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:48:41 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:41 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:41 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:48:41 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:41 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:41 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:48:41 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:41 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:41 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:48:41 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:41 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:41 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:48:41 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-1: 02:48:41 ERROR unit.opensearch/1.juju-log Request GET to https://10.32.19.28:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.28:9200/.charm_node_lock/_source/0
unit-opensearch-1: 02:48:42 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:42 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:48:42 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-1: 02:48:42 ERROR unit.opensearch/1.juju-log Request GET to https://10.32.19.28:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.28:9200/.charm_node_lock/_source/0
unit-opensearch-1: 02:48:43 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:43 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:48:43 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-1: 02:48:43 ERROR unit.opensearch/1.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-1/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-1/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-1/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-1/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-1/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.32.19.28:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-1: 02:48:43 DEBUG unit.opensearch/1.juju-log Lock to start opensearch not acquired. Will retry next event
unit-opensearch-1: 02:48:43 DEBUG unit.opensearch/1.juju-log Deferring <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[442]>.
unit-opensearch-1: 02:48:43 DEBUG unit.opensearch/1.juju-log Emitting Juju event update_status.
unit-opensearch-1: 02:48:43 ERROR unit.opensearch/1.juju-log [Errno 111] Connection refused
unit-opensearch-1: 02:48:43 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-0: 02:48:46 DEBUG unit.opensearch/0.juju-log ops 2.14.1 up and running.
unit-opensearch-2: 02:48:46 DEBUG unit.opensearch/2.juju-log ops 2.14.1 up and running.
unit-opensearch-0: 02:48:46 DEBUG unit.opensearch/0.juju-log Re-emitting deferred event <_RestartOpenSearch via OpenSearchOperatorCharm/_restart_opensearch_event[471]>.
unit-opensearch-2: 02:48:46 DEBUG unit.opensearch/2.juju-log Re-emitting deferred event <_RestartOpenSearch via OpenSearchOperatorCharm/_restart_opensearch_event[413]>.
unit-opensearch-0: 02:48:46 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:46 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:46 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:48:46 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:46 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:48:46 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:46 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:46 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:48:46 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:46 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:46 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:48:46 ERROR unit.opensearch/0.juju-log [Errno 111] Connection refused
unit-opensearch-0: 02:48:46 ERROR unit.opensearch/0.juju-log [Errno 111] Connection refused
unit-opensearch-0: 02:48:46 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:46 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:46 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:48:46 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:48:46 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-0: 02:48:46 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:46 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:46 DEBUG unit.opensearch/0.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-2: 02:48:46 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:48:46 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:46 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:48:46 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:46 DEBUG unit.opensearch/2.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-0: 02:48:46 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:46 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:46 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:46 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:48:46 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:48:46 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:46 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:46 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:46 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:46 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:48:46 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:48:46 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:46 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:46 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:46 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:46 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:48:46 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:48:46 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:46 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:46 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET /_nodes HTTP/11" 200 50713
unit-opensearch-2: 02:48:46 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:48:46 DEBUG unit.opensearch/0.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-0: 02:48:46 ERROR unit.opensearch/0.juju-log [Errno 111] Connection refused
unit-opensearch-0: 02:48:46 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:46 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET /_nodes HTTP/11" 200 50713
unit-opensearch-0: 02:48:46 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:48:46 DEBUG unit.opensearch/2.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-2: 02:48:46 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-0: 02:48:46 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:46 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:46 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:46 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:48:46 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:48:46 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:46 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:46 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-0: 02:48:46 ERROR unit.opensearch/0.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:48:46 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:46 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:46 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:48:46 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:48:46 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:46 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:46 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:46 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:46 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:48:46 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:48:46 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:46 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:46 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:46 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:46 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:48:46 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:48:46 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:46 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:46 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:46 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:46 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:48:46 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:48:46 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:46 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:46 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-0: 02:48:46 ERROR unit.opensearch/0.juju-log Request GET to https://10.32.19.28:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.28:9200/.charm_node_lock/_source/0
unit-opensearch-2: 02:48:46 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:48:46 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:48:46 ERROR unit.opensearch/2.juju-log Request GET to https://10.32.19.66:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.66:9200/.charm_node_lock/_source/0
unit-opensearch-0: 02:48:47 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:47 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:48:47 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:47 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-0: 02:48:47 ERROR unit.opensearch/0.juju-log Request GET to https://10.32.19.28:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.28:9200/.charm_node_lock/_source/0
unit-opensearch-2: 02:48:47 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:48:47 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:48:47 ERROR unit.opensearch/2.juju-log Request GET to https://10.32.19.66:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.66:9200/.charm_node_lock/_source/0
unit-grafana-agent-3: 02:48:48 DEBUG unit.grafana-agent/3.juju-log ops 2.14.1 up and running.
unit-grafana-agent-3: 02:48:48 DEBUG unit.grafana-agent/3.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-3: 02:48:48 DEBUG unit.grafana-agent/3.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x79644e776bb0> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-3: 02:48:48 DEBUG unit.grafana-agent/3.juju-log Emitting Juju event update_status.
unit-grafana-agent-3: 02:48:48 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-0: 02:48:48 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:48 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:48:48 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:48 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:48:48 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:48:48 ERROR unit.opensearch/0.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.32.19.28:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-0: 02:48:48 DEBUG unit.opensearch/0.juju-log Lock to restart opensearch not acquired. Will retry next event
unit-opensearch-0: 02:48:48 DEBUG unit.opensearch/0.juju-log Deferring <_RestartOpenSearch via OpenSearchOperatorCharm/_restart_opensearch_event[471]>.
unit-opensearch-2: 02:48:48 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-0: 02:48:48 DEBUG unit.opensearch/0.juju-log Emitting Juju event update_status.
unit-opensearch-2: 02:48:48 ERROR unit.opensearch/2.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.32.19.66:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-2: 02:48:48 DEBUG unit.opensearch/2.juju-log Lock to restart opensearch not acquired. Will retry next event
unit-opensearch-2: 02:48:48 DEBUG unit.opensearch/2.juju-log Deferring <_RestartOpenSearch via OpenSearchOperatorCharm/_restart_opensearch_event[413]>.
unit-opensearch-0: 02:48:48 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:48 DEBUG unit.opensearch/2.juju-log Emitting Juju event update_status.
unit-self-signed-certificates-0: 02:48:48 DEBUG unit.self-signed-certificates/0.juju-log ops 2.14.0 up and running.
unit-opensearch-0: 02:48:48 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:48:48 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:48 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:48 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-self-signed-certificates-0: 02:48:48 DEBUG unit.self-signed-certificates/0.juju-log no relation on 'tracing': tracing not ready
unit-opensearch-2: 02:48:48 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-self-signed-certificates-0: 02:48:48 DEBUG unit.self-signed-certificates/0.juju-log Emitting Juju event update_status.
unit-opensearch-0: 02:48:48 DEBUG unit.opensearch/0.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-2: 02:48:49 DEBUG unit.opensearch/2.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-0: 02:48:49 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 02:48:49 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-self-signed-certificates-0: 02:48:49 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-1: 02:48:49 DEBUG unit.opensearch/1.juju-log ops 2.14.1 up and running.
unit-grafana-agent-0: 02:48:49 DEBUG unit.grafana-agent/0.juju-log ops 2.14.1 up and running.
unit-grafana-agent-1: 02:48:49 DEBUG unit.grafana-agent/1.juju-log ops 2.14.1 up and running.
unit-grafana-agent-0: 02:48:49 DEBUG unit.grafana-agent/0.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-0: 02:48:49 DEBUG unit.grafana-agent/0.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x741efa986c00> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-1: 02:48:49 DEBUG unit.grafana-agent/1.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-0: 02:48:49 DEBUG unit.grafana-agent/0.juju-log Emitting Juju event update_status.
unit-grafana-agent-1: 02:48:49 DEBUG unit.grafana-agent/1.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x78d34197ea20> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-1: 02:48:49 DEBUG unit.grafana-agent/1.juju-log Emitting Juju event update_status.
unit-opensearch-1: 02:48:49 DEBUG unit.opensearch/1.juju-log Re-emitting deferred event <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[442]>.
unit-opensearch-1: 02:48:49 ERROR unit.opensearch/1.juju-log [Errno 111] Connection refused
unit-opensearch-1: 02:48:49 ERROR unit.opensearch/1.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-1: 02:48:49 ERROR unit.opensearch/1.juju-log [Errno 111] Connection refused
unit-opensearch-1: 02:48:49 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:49 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:48:49 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:49 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:49 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:48:49 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:49 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:49 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:48:49 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:49 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:49 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:48:49 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:49 DEBUG unit.opensearch/1.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-1: 02:48:49 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:49 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:48:49 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:49 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:49 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:48:49 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:49 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-grafana-agent-0: 02:48:49 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-1: 02:48:49 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-1: 02:48:49 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:48:50 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:50 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:50 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:48:50 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:50 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:50 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:48:50 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET /_nodes HTTP/11" 200 50713
unit-opensearch-1: 02:48:50 DEBUG unit.opensearch/1.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-1: 02:48:50 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:50 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:48:50 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:50 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:50 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:48:50 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:50 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:50 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:48:50 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:50 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:50 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:48:50 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:50 ERROR unit.opensearch/1.juju-log [Errno 111] Connection refused
unit-opensearch-1: 02:48:50 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:50 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:48:50 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:50 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:50 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:48:50 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:50 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:50 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:48:50 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:50 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:50 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:48:50 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:50 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:50 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:48:50 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-1: 02:48:50 ERROR unit.opensearch/1.juju-log Request GET to https://10.32.19.66:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.66:9200/.charm_node_lock/_source/0
unit-opensearch-1: 02:48:51 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:51 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:48:51 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-1: 02:48:51 ERROR unit.opensearch/1.juju-log Request GET to https://10.32.19.66:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.66:9200/.charm_node_lock/_source/0
unit-opensearch-1: 02:48:52 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:52 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:48:52 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-1: 02:48:52 ERROR unit.opensearch/1.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-1/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-1/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-1/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-1/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-1/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.32.19.66:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-1: 02:48:52 DEBUG unit.opensearch/1.juju-log Lock to start opensearch not acquired. Will retry next event
unit-opensearch-1: 02:48:52 DEBUG unit.opensearch/1.juju-log Deferring <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[442]>.
unit-opensearch-1: 02:48:52 DEBUG unit.opensearch/1.juju-log Emitting Juju event update_status.
unit-opensearch-1: 02:48:52 ERROR unit.opensearch/1.juju-log [Errno 111] Connection refused
unit-opensearch-1: 02:48:52 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-0: 02:48:54 DEBUG unit.opensearch/0.juju-log ops 2.14.1 up and running.
unit-opensearch-2: 02:48:54 DEBUG unit.opensearch/2.juju-log ops 2.14.1 up and running.
unit-opensearch-0: 02:48:55 DEBUG unit.opensearch/0.juju-log Re-emitting deferred event <_RestartOpenSearch via OpenSearchOperatorCharm/_restart_opensearch_event[471]>.
unit-opensearch-0: 02:48:55 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:55 DEBUG unit.opensearch/2.juju-log Re-emitting deferred event <_RestartOpenSearch via OpenSearchOperatorCharm/_restart_opensearch_event[413]>.
unit-opensearch-0: 02:48:55 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:48:55 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:55 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:55 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:48:55 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:55 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:48:55 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:55 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:55 ERROR unit.opensearch/0.juju-log [Errno 111] Connection refused
unit-opensearch-0: 02:48:55 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:55 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:55 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:48:55 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:48:55 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:55 ERROR unit.opensearch/0.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:48:55 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:55 DEBUG unit.opensearch/0.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-2: 02:48:55 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-0: 02:48:55 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:55 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:55 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:48:55 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:48:55 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:55 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:55 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-0: 02:48:55 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:55 DEBUG unit.opensearch/2.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-0: 02:48:55 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:48:55 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:55 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:48:55 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:55 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:55 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:48:55 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:55 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:55 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:48:55 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:55 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:55 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:48:55 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:55 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:55 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:48:55 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET /_nodes HTTP/11" 200 50713
unit-opensearch-2: 02:48:55 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:55 DEBUG unit.opensearch/0.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-2: 02:48:55 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:55 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:55 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:48:55 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:48:55 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:55 ERROR unit.opensearch/0.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:48:55 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET /_nodes HTTP/11" 200 50713
unit-opensearch-0: 02:48:55 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:55 DEBUG unit.opensearch/2.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-0: 02:48:55 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:48:55 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:48:55 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:55 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:55 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:48:55 ERROR unit.opensearch/0.juju-log [Errno 111] Connection refused
unit-opensearch-0: 02:48:55 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:55 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:55 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:48:55 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:55 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:48:55 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:55 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:55 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:48:55 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:48:55 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:48:55 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:55 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:55 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:48:55 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:55 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:48:55 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:55 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:55 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:55 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:48:55 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:55 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:48:55 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:55 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:55 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:48:55 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:48:55 ERROR unit.opensearch/0.juju-log Request GET to https://10.32.19.28:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.28:9200/.charm_node_lock/_source/0
unit-opensearch-2: 02:48:55 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:55 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:55 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:48:55 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:48:55 ERROR unit.opensearch/2.juju-log Request GET to https://10.32.19.66:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.66:9200/.charm_node_lock/_source/0
unit-opensearch-0: 02:48:56 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:56 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:48:56 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-0: 02:48:56 ERROR unit.opensearch/0.juju-log Request GET to https://10.32.19.28:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.28:9200/.charm_node_lock/_source/0
unit-opensearch-2: 02:48:56 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:56 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:48:56 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:48:56 ERROR unit.opensearch/2.juju-log Request GET to https://10.32.19.66:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.66:9200/.charm_node_lock/_source/0
unit-opensearch-0: 02:48:57 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:57 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:48:57 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-0: 02:48:57 ERROR unit.opensearch/0.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.32.19.28:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-0: 02:48:57 DEBUG unit.opensearch/0.juju-log Lock to restart opensearch not acquired. Will retry next event
unit-opensearch-2: 02:48:57 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:48:57 DEBUG unit.opensearch/0.juju-log Deferring <_RestartOpenSearch via OpenSearchOperatorCharm/_restart_opensearch_event[471]>.
unit-opensearch-0: 02:48:57 DEBUG unit.opensearch/0.juju-log Emitting Juju event update_status.
unit-opensearch-2: 02:48:57 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:48:57 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:57 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-0: 02:48:57 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:48:57 ERROR unit.opensearch/2.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.32.19.66:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-2: 02:48:57 DEBUG unit.opensearch/2.juju-log Lock to restart opensearch not acquired. Will retry next event
unit-opensearch-2: 02:48:57 DEBUG unit.opensearch/2.juju-log Deferring <_RestartOpenSearch via OpenSearchOperatorCharm/_restart_opensearch_event[413]>.
unit-opensearch-0: 02:48:57 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:57 DEBUG unit.opensearch/2.juju-log Emitting Juju event update_status.
unit-opensearch-2: 02:48:57 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:48:57 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:48:57 DEBUG unit.opensearch/0.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-2: 02:48:57 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:48:57 DEBUG unit.opensearch/2.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-0: 02:48:57 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 02:48:57 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-1: 02:48:58 DEBUG unit.opensearch/1.juju-log ops 2.14.1 up and running.
unit-opensearch-1: 02:48:58 DEBUG unit.opensearch/1.juju-log Re-emitting deferred event <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[442]>.
unit-self-signed-certificates-0: 02:48:58 DEBUG unit.self-signed-certificates/0.juju-log ops 2.14.0 up and running.
unit-opensearch-1: 02:48:58 ERROR unit.opensearch/1.juju-log [Errno 111] Connection refused
unit-opensearch-1: 02:48:58 ERROR unit.opensearch/1.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-1: 02:48:58 ERROR unit.opensearch/1.juju-log [Errno 111] Connection refused
unit-self-signed-certificates-0: 02:48:58 DEBUG unit.self-signed-certificates/0.juju-log no relation on 'tracing': tracing not ready
unit-self-signed-certificates-0: 02:48:58 DEBUG unit.self-signed-certificates/0.juju-log Emitting Juju event update_status.
unit-opensearch-1: 02:48:58 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:58 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:48:58 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:58 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:58 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:48:58 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:58 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:58 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:48:58 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:58 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:58 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:48:58 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:58 DEBUG unit.opensearch/1.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-1: 02:48:58 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:58 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:48:59 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:59 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:59 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:48:59 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:59 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:59 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:48:59 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:59 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:59 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:48:59 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:59 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:59 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:48:59 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET /_nodes HTTP/11" 200 50713
unit-opensearch-1: 02:48:59 DEBUG unit.opensearch/1.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-1: 02:48:59 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:59 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:48:59 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:59 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:59 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:48:59 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:59 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:59 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:48:59 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:59 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:59 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:48:59 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:59 ERROR unit.opensearch/1.juju-log [Errno 111] Connection refused
unit-opensearch-1: 02:48:59 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:59 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:48:59 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:59 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-self-signed-certificates-0: 02:48:59 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-1: 02:48:59 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:48:59 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:59 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:59 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:48:59 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:59 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:59 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:48:59 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:48:59 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:48:59 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:48:59 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-1: 02:48:59 ERROR unit.opensearch/1.juju-log Request GET to https://10.32.19.28:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.28:9200/.charm_node_lock/_source/0
unit-grafana-agent-0: 02:48:59 DEBUG unit.grafana-agent/0.juju-log ops 2.14.1 up and running.
unit-grafana-agent-1: 02:48:59 DEBUG unit.grafana-agent/1.juju-log ops 2.14.1 up and running.
unit-grafana-agent-0: 02:48:59 DEBUG unit.grafana-agent/0.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-1: 02:48:59 DEBUG unit.grafana-agent/1.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-0: 02:48:59 DEBUG unit.grafana-agent/0.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x7df58a0369d0> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-1: 02:48:59 DEBUG unit.grafana-agent/1.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x74f91537ebb0> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-0: 02:48:59 DEBUG unit.grafana-agent/0.juju-log Emitting Juju event update_status.
unit-grafana-agent-1: 02:48:59 DEBUG unit.grafana-agent/1.juju-log Emitting Juju event update_status.
unit-grafana-agent-0: 02:48:59 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-1: 02:48:59 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-1: 02:49:00 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:00 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:49:00 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-1: 02:49:00 ERROR unit.opensearch/1.juju-log Request GET to https://10.32.19.28:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.28:9200/.charm_node_lock/_source/0
unit-opensearch-1: 02:49:01 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:01 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:49:01 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-1: 02:49:01 ERROR unit.opensearch/1.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-1/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-1/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-1/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-1/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-1/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.32.19.28:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-1: 02:49:01 DEBUG unit.opensearch/1.juju-log Lock to start opensearch not acquired. Will retry next event
unit-opensearch-1: 02:49:01 DEBUG unit.opensearch/1.juju-log Deferring <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[442]>.
unit-opensearch-1: 02:49:01 DEBUG unit.opensearch/1.juju-log Emitting Juju event update_status.
unit-opensearch-1: 02:49:01 ERROR unit.opensearch/1.juju-log [Errno 111] Connection refused
unit-opensearch-1: 02:49:01 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-3: 02:49:02 DEBUG unit.grafana-agent/3.juju-log ops 2.14.1 up and running.
unit-grafana-agent-3: 02:49:02 DEBUG unit.grafana-agent/3.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-3: 02:49:02 DEBUG unit.grafana-agent/3.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x7e7ec683aa70> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-3: 02:49:02 DEBUG unit.grafana-agent/3.juju-log Emitting Juju event update_status.
unit-grafana-agent-3: 02:49:02 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 02:49:04 DEBUG unit.opensearch/2.juju-log ops 2.14.1 up and running.
unit-opensearch-0: 02:49:04 DEBUG unit.opensearch/0.juju-log ops 2.14.1 up and running.
unit-opensearch-2: 02:49:04 DEBUG unit.opensearch/2.juju-log Re-emitting deferred event <_RestartOpenSearch via OpenSearchOperatorCharm/_restart_opensearch_event[413]>.
unit-opensearch-0: 02:49:04 DEBUG unit.opensearch/0.juju-log Re-emitting deferred event <_RestartOpenSearch via OpenSearchOperatorCharm/_restart_opensearch_event[471]>.
unit-opensearch-2: 02:49:04 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:04 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:04 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:49:04 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:49:04 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:04 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:49:04 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:49:04 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:04 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:49:04 ERROR unit.opensearch/0.juju-log [Errno 111] Connection refused
unit-opensearch-0: 02:49:04 ERROR unit.opensearch/0.juju-log [Errno 111] Connection refused
unit-opensearch-0: 02:49:04 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:04 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:04 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:49:04 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:04 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:49:04 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:04 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:04 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:04 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:49:04 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:49:04 DEBUG unit.opensearch/2.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-0: 02:49:04 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:49:04 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:04 DEBUG unit.opensearch/0.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-2: 02:49:04 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:49:04 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:04 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:49:04 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:49:04 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:04 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:49:04 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:49:04 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:04 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:49:04 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:49:04 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:04 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:49:04 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:49:04 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:04 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:49:04 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:49:04 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:04 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:49:04 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:49:04 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:04 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:49:04 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET /_nodes HTTP/11" 200 50713
unit-opensearch-0: 02:49:04 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET /_nodes HTTP/11" 200 50713
unit-opensearch-2: 02:49:04 DEBUG unit.opensearch/2.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-0: 02:49:04 DEBUG unit.opensearch/0.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-2: 02:49:04 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:04 ERROR unit.opensearch/0.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:49:04 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:49:04 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:04 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:49:04 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:49:04 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-0: 02:49:04 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:49:04 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:04 ERROR unit.opensearch/0.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:49:04 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:49:04 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:04 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:49:04 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:49:04 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-0: 02:49:04 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:49:04 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:04 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:49:04 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:04 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:49:04 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:04 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:49:04 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:04 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:49:04 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:04 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:49:04 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:49:04 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:04 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:49:04 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:49:04 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:04 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:49:04 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:04 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:49:04 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:04 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:04 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:49:04 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:49:04 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-0: 02:49:04 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-0: 02:49:04 ERROR unit.opensearch/0.juju-log Request GET to https://10.32.19.28:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.28:9200/.charm_node_lock/_source/0
unit-opensearch-2: 02:49:04 ERROR unit.opensearch/2.juju-log Request GET to https://10.32.19.66:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.66:9200/.charm_node_lock/_source/0
unit-opensearch-0: 02:49:05 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:05 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:05 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:49:05 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:49:05 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:49:05 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-0: 02:49:05 ERROR unit.opensearch/0.juju-log Request GET to https://10.32.19.28:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.28:9200/.charm_node_lock/_source/0
unit-opensearch-2: 02:49:05 ERROR unit.opensearch/2.juju-log Request GET to https://10.32.19.66:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.66:9200/.charm_node_lock/_source/0
unit-opensearch-0: 02:49:06 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:06 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:06 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:49:06 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:49:06 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:49:06 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-0: 02:49:06 ERROR unit.opensearch/0.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.32.19.28:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-2: 02:49:06 ERROR unit.opensearch/2.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.32.19.66:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-0: 02:49:06 DEBUG unit.opensearch/0.juju-log Lock to restart opensearch not acquired. Will retry next event
unit-opensearch-2: 02:49:06 DEBUG unit.opensearch/2.juju-log Lock to restart opensearch not acquired. Will retry next event
unit-opensearch-0: 02:49:06 DEBUG unit.opensearch/0.juju-log Deferring <_RestartOpenSearch via OpenSearchOperatorCharm/_restart_opensearch_event[471]>.
unit-opensearch-2: 02:49:06 DEBUG unit.opensearch/2.juju-log Deferring <_RestartOpenSearch via OpenSearchOperatorCharm/_restart_opensearch_event[413]>.
unit-opensearch-0: 02:49:06 DEBUG unit.opensearch/0.juju-log Emitting Juju event update_status.
unit-opensearch-2: 02:49:06 DEBUG unit.opensearch/2.juju-log Emitting Juju event update_status.
unit-opensearch-0: 02:49:06 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:06 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:06 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:49:06 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:49:06 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:49:06 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:49:06 DEBUG unit.opensearch/2.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-0: 02:49:06 DEBUG unit.opensearch/0.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-2: 02:49:07 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-0: 02:49:07 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-1: 02:49:07 DEBUG unit.opensearch/1.juju-log ops 2.14.1 up and running.
unit-opensearch-1: 02:49:07 DEBUG unit.opensearch/1.juju-log Re-emitting deferred event <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[442]>.
unit-opensearch-1: 02:49:07 ERROR unit.opensearch/1.juju-log [Errno 111] Connection refused
unit-opensearch-1: 02:49:07 ERROR unit.opensearch/1.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-1: 02:49:07 ERROR unit.opensearch/1.juju-log [Errno 111] Connection refused
unit-opensearch-1: 02:49:07 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:07 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:49:07 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:07 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:07 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:49:07 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:07 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:07 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:49:07 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:07 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:07 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:49:07 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:07 DEBUG unit.opensearch/1.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-1: 02:49:07 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:07 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:49:07 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:07 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:07 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:49:07 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:07 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:07 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:49:07 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:07 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:07 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:49:07 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:07 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:07 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:49:07 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET /_nodes HTTP/11" 200 50713
unit-opensearch-1: 02:49:07 DEBUG unit.opensearch/1.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-1: 02:49:07 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:07 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:49:07 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:07 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:07 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:49:07 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:07 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:07 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:49:07 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:07 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:07 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:49:07 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:07 ERROR unit.opensearch/1.juju-log [Errno 111] Connection refused
unit-opensearch-1: 02:49:07 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:07 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:49:07 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:07 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:07 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:49:07 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:07 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:07 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:49:07 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:07 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:07 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:49:07 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:07 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:07 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:49:07 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-1: 02:49:07 ERROR unit.opensearch/1.juju-log Request GET to https://10.32.19.66:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.66:9200/.charm_node_lock/_source/0
unit-opensearch-1: 02:49:08 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:08 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:49:08 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-1: 02:49:08 ERROR unit.opensearch/1.juju-log Request GET to https://10.32.19.66:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.66:9200/.charm_node_lock/_source/0
unit-opensearch-1: 02:49:09 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:09 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:49:09 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-1: 02:49:09 ERROR unit.opensearch/1.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-1/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-1/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-1/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-1/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-1/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.32.19.66:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-1: 02:49:09 DEBUG unit.opensearch/1.juju-log Lock to start opensearch not acquired. Will retry next event
unit-opensearch-1: 02:49:09 DEBUG unit.opensearch/1.juju-log Deferring <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[442]>.
unit-opensearch-1: 02:49:09 DEBUG unit.opensearch/1.juju-log Emitting Juju event update_status.
unit-opensearch-1: 02:49:09 ERROR unit.opensearch/1.juju-log [Errno 111] Connection refused
unit-self-signed-certificates-0: 02:49:10 DEBUG unit.self-signed-certificates/0.juju-log ops 2.14.0 up and running.
unit-self-signed-certificates-0: 02:49:10 DEBUG unit.self-signed-certificates/0.juju-log no relation on 'tracing': tracing not ready
unit-self-signed-certificates-0: 02:49:10 DEBUG unit.self-signed-certificates/0.juju-log Emitting Juju event update_status.
unit-opensearch-1: 02:49:10 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-self-signed-certificates-0: 02:49:10 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-3: 02:49:11 DEBUG unit.grafana-agent/3.juju-log ops 2.14.1 up and running.
unit-grafana-agent-1: 02:49:11 DEBUG unit.grafana-agent/1.juju-log ops 2.14.1 up and running.
unit-grafana-agent-0: 02:49:11 DEBUG unit.grafana-agent/0.juju-log ops 2.14.1 up and running.
unit-grafana-agent-3: 02:49:11 DEBUG unit.grafana-agent/3.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-3: 02:49:11 DEBUG unit.grafana-agent/3.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x7c1f6d836bb0> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-1: 02:49:11 DEBUG unit.grafana-agent/1.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-3: 02:49:11 DEBUG unit.grafana-agent/3.juju-log Emitting Juju event update_status.
unit-grafana-agent-0: 02:49:11 DEBUG unit.grafana-agent/0.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-1: 02:49:11 DEBUG unit.grafana-agent/1.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x75186f38ac00> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-1: 02:49:11 DEBUG unit.grafana-agent/1.juju-log Emitting Juju event update_status.
unit-grafana-agent-0: 02:49:11 DEBUG unit.grafana-agent/0.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x71c587f76b60> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-0: 02:49:11 DEBUG unit.grafana-agent/0.juju-log Emitting Juju event update_status.
unit-grafana-agent-1: 02:49:11 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-3: 02:49:11 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-0: 02:49:11 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-0: 02:49:14 DEBUG unit.opensearch/0.juju-log ops 2.14.1 up and running.
unit-opensearch-2: 02:49:14 DEBUG unit.opensearch/2.juju-log ops 2.14.1 up and running.
unit-opensearch-2: 02:49:14 DEBUG unit.opensearch/2.juju-log Re-emitting deferred event <_RestartOpenSearch via OpenSearchOperatorCharm/_restart_opensearch_event[413]>.
unit-opensearch-0: 02:49:14 DEBUG unit.opensearch/0.juju-log Re-emitting deferred event <_RestartOpenSearch via OpenSearchOperatorCharm/_restart_opensearch_event[471]>.
unit-opensearch-0: 02:49:14 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:14 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:14 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:49:14 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:49:14 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:14 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:14 ERROR unit.opensearch/0.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:49:14 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-0: 02:49:14 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:14 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:14 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:49:14 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:49:14 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:49:14 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:14 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:14 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:14 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:49:14 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:49:14 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:49:14 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:14 ERROR unit.opensearch/0.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:49:14 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-0: 02:49:14 DEBUG unit.opensearch/0.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-2: 02:49:14 DEBUG unit.opensearch/2.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-0: 02:49:14 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:14 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:14 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:49:14 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:49:14 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:49:14 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:14 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:14 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:14 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:49:14 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:49:14 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:14 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:14 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:14 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:49:14 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:14 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:49:14 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:14 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:49:14 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:14 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:14 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:49:14 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:49:14 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET /_nodes HTTP/11" 200 50713
unit-opensearch-0: 02:49:14 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET /_nodes HTTP/11" 200 50713
unit-opensearch-2: 02:49:14 DEBUG unit.opensearch/2.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-0: 02:49:14 DEBUG unit.opensearch/0.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-2: 02:49:14 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-0: 02:49:14 ERROR unit.opensearch/0.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:49:14 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:14 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:14 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:49:14 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:49:14 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:14 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:49:14 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:14 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:14 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:49:14 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:49:14 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:14 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:49:14 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-0: 02:49:14 ERROR unit.opensearch/0.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:49:14 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:14 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:14 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:49:14 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:49:14 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:14 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:49:14 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:14 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:14 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:49:14 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:49:14 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:14 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:49:14 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:14 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:14 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:49:14 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:49:14 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:14 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:49:14 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:14 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:14 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:49:14 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:49:14 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:49:14 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-0: 02:49:14 ERROR unit.opensearch/0.juju-log Request GET to https://10.32.19.28:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.28:9200/.charm_node_lock/_source/0
unit-opensearch-2: 02:49:14 ERROR unit.opensearch/2.juju-log Request GET to https://10.32.19.66:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.66:9200/.charm_node_lock/_source/0
unit-opensearch-0: 02:49:15 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:15 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:15 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:49:15 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:49:15 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-0: 02:49:15 ERROR unit.opensearch/0.juju-log Request GET to https://10.32.19.28:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.28:9200/.charm_node_lock/_source/0
unit-opensearch-2: 02:49:15 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:49:15 ERROR unit.opensearch/2.juju-log Request GET to https://10.32.19.66:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.66:9200/.charm_node_lock/_source/0
unit-opensearch-1: 02:49:16 DEBUG unit.opensearch/1.juju-log ops 2.14.1 up and running.
unit-opensearch-1: 02:49:16 DEBUG unit.opensearch/1.juju-log Re-emitting deferred event <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[442]>.
unit-opensearch-1: 02:49:16 ERROR unit.opensearch/1.juju-log [Errno 111] Connection refused
unit-opensearch-1: 02:49:16 ERROR unit.opensearch/1.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-1: 02:49:16 ERROR unit.opensearch/1.juju-log [Errno 111] Connection refused
unit-opensearch-1: 02:49:16 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:16 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:49:16 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:16 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:16 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:49:16 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:16 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:16 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:49:16 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:16 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:16 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:49:16 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:16 DEBUG unit.opensearch/1.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-1: 02:49:16 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:16 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:49:16 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:16 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:16 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:49:16 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:16 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:16 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:49:16 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:16 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:16 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:49:16 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:16 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:16 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:49:16 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET /_nodes HTTP/11" 200 50713
unit-opensearch-1: 02:49:16 DEBUG unit.opensearch/1.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-1: 02:49:16 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:16 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:49:16 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:16 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:16 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:49:16 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:16 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:16 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:49:16 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:16 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:16 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:49:16 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:16 ERROR unit.opensearch/1.juju-log [Errno 111] Connection refused
unit-opensearch-1: 02:49:16 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:16 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:49:16 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:16 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:16 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:49:16 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:16 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:16 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:49:16 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:16 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:16 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:49:16 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:16 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:16 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:49:16 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-1: 02:49:16 ERROR unit.opensearch/1.juju-log Request GET to https://10.32.19.28:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.28:9200/.charm_node_lock/_source/0
unit-opensearch-0: 02:49:16 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:16 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:49:16 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:16 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:49:16 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-0: 02:49:16 ERROR unit.opensearch/0.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.32.19.28:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-2: 02:49:16 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-0: 02:49:16 DEBUG unit.opensearch/0.juju-log Lock to restart opensearch not acquired. Will retry next event
unit-opensearch-0: 02:49:16 DEBUG unit.opensearch/0.juju-log Deferring <_RestartOpenSearch via OpenSearchOperatorCharm/_restart_opensearch_event[471]>.
unit-opensearch-2: 02:49:16 ERROR unit.opensearch/2.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.32.19.66:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-2: 02:49:16 DEBUG unit.opensearch/2.juju-log Lock to restart opensearch not acquired. Will retry next event
unit-opensearch-0: 02:49:16 DEBUG unit.opensearch/0.juju-log Emitting Juju event update_status.
unit-opensearch-2: 02:49:16 DEBUG unit.opensearch/2.juju-log Deferring <_RestartOpenSearch via OpenSearchOperatorCharm/_restart_opensearch_event[413]>.
unit-opensearch-2: 02:49:16 DEBUG unit.opensearch/2.juju-log Emitting Juju event update_status.
unit-opensearch-0: 02:49:16 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:16 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:49:16 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:16 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:49:16 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:49:16 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:16 DEBUG unit.opensearch/0.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-2: 02:49:16 DEBUG unit.opensearch/2.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-0: 02:49:17 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 02:49:17 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-1: 02:49:17 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:17 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:49:17 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-1: 02:49:17 ERROR unit.opensearch/1.juju-log Request GET to https://10.32.19.28:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.28:9200/.charm_node_lock/_source/0
unit-opensearch-1: 02:49:18 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:18 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:49:18 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-1: 02:49:18 ERROR unit.opensearch/1.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-1/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-1/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-1/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-1/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-1/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.32.19.28:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-1: 02:49:18 DEBUG unit.opensearch/1.juju-log Lock to start opensearch not acquired. Will retry next event
unit-opensearch-1: 02:49:18 DEBUG unit.opensearch/1.juju-log Deferring <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[442]>.
unit-opensearch-1: 02:49:18 DEBUG unit.opensearch/1.juju-log Emitting Juju event update_status.
unit-opensearch-1: 02:49:18 ERROR unit.opensearch/1.juju-log [Errno 111] Connection refused
unit-opensearch-1: 02:49:19 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-0: 02:49:19 DEBUG unit.grafana-agent/0.juju-log ops 2.14.1 up and running.
unit-grafana-agent-3: 02:49:19 DEBUG unit.grafana-agent/3.juju-log ops 2.14.1 up and running.
unit-grafana-agent-0: 02:49:19 DEBUG unit.grafana-agent/0.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-0: 02:49:19 DEBUG unit.grafana-agent/0.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x719e80c3ab60> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-3: 02:49:19 DEBUG unit.grafana-agent/3.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-0: 02:49:19 DEBUG unit.grafana-agent/0.juju-log Emitting Juju event update_status.
unit-grafana-agent-3: 02:49:19 DEBUG unit.grafana-agent/3.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x764c99042c00> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-1: 02:49:19 DEBUG unit.grafana-agent/1.juju-log ops 2.14.1 up and running.
unit-grafana-agent-3: 02:49:19 DEBUG unit.grafana-agent/3.juju-log Emitting Juju event update_status.
unit-grafana-agent-1: 02:49:19 DEBUG unit.grafana-agent/1.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-1: 02:49:19 DEBUG unit.grafana-agent/1.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x7398b0772b10> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-1: 02:49:19 DEBUG unit.grafana-agent/1.juju-log Emitting Juju event update_status.
unit-grafana-agent-0: 02:49:20 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-3: 02:49:20 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-1: 02:49:20 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-self-signed-certificates-0: 02:49:21 DEBUG unit.self-signed-certificates/0.juju-log ops 2.14.0 up and running.
unit-self-signed-certificates-0: 02:49:21 DEBUG unit.self-signed-certificates/0.juju-log no relation on 'tracing': tracing not ready
unit-self-signed-certificates-0: 02:49:21 DEBUG unit.self-signed-certificates/0.juju-log Emitting Juju event update_status.
unit-self-signed-certificates-0: 02:49:21 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 02:49:23 DEBUG unit.opensearch/2.juju-log ops 2.14.1 up and running.
unit-opensearch-0: 02:49:23 DEBUG unit.opensearch/0.juju-log ops 2.14.1 up and running.
unit-opensearch-2: 02:49:23 DEBUG unit.opensearch/2.juju-log Re-emitting deferred event <_RestartOpenSearch via OpenSearchOperatorCharm/_restart_opensearch_event[413]>.
unit-opensearch-0: 02:49:23 DEBUG unit.opensearch/0.juju-log Re-emitting deferred event <_RestartOpenSearch via OpenSearchOperatorCharm/_restart_opensearch_event[471]>.
unit-opensearch-0: 02:49:23 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:23 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:23 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:49:23 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:49:23 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:49:23 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:23 ERROR unit.opensearch/0.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:49:23 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-0: 02:49:23 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:23 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:23 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:49:23 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:49:23 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:49:23 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:49:23 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-0: 02:49:23 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:23 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:23 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:49:23 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:49:23 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:49:23 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:23 ERROR unit.opensearch/0.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:49:23 DEBUG unit.opensearch/2.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-0: 02:49:23 DEBUG unit.opensearch/0.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-2: 02:49:23 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:23 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:23 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:49:23 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:49:23 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:49:23 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:23 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:23 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:23 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:49:23 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:49:23 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:49:23 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:23 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:23 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:23 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:49:23 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:49:23 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:49:23 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:23 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:23 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:23 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:49:23 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:49:23 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET /_nodes HTTP/11" 200 50713
unit-opensearch-2: 02:49:23 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET /_nodes HTTP/11" 200 50713
unit-opensearch-0: 02:49:23 DEBUG unit.opensearch/0.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-2: 02:49:23 DEBUG unit.opensearch/2.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-0: 02:49:23 ERROR unit.opensearch/0.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:49:23 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:23 ERROR unit.opensearch/0.juju-log [Errno 111] Connection refused
unit-opensearch-0: 02:49:23 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:23 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:49:23 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:49:23 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:23 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:49:23 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-0: 02:49:23 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:23 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-0: 02:49:23 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:49:23 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:23 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:49:23 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:23 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:23 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:23 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:49:23 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:23 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:49:23 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:23 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:23 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:23 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:49:23 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:23 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:49:23 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:23 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:23 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:49:23 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:49:23 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:23 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:49:23 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:23 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:23 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:23 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:49:23 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:23 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:49:23 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-0: 02:49:23 ERROR unit.opensearch/0.juju-log Request GET to https://10.32.19.28:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.28:9200/.charm_node_lock/_source/0
unit-opensearch-2: 02:49:23 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:49:23 ERROR unit.opensearch/2.juju-log Request GET to https://10.32.19.66:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.66:9200/.charm_node_lock/_source/0
unit-opensearch-0: 02:49:24 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:24 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:49:24 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:24 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:49:24 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-0: 02:49:24 ERROR unit.opensearch/0.juju-log Request GET to https://10.32.19.28:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.28:9200/.charm_node_lock/_source/0
unit-opensearch-2: 02:49:24 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:49:24 ERROR unit.opensearch/2.juju-log Request GET to https://10.32.19.66:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.66:9200/.charm_node_lock/_source/0
unit-opensearch-0: 02:49:25 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:25 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:49:25 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:25 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:49:25 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-0: 02:49:25 ERROR unit.opensearch/0.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.32.19.28:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-2: 02:49:25 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-0: 02:49:25 DEBUG unit.opensearch/0.juju-log Lock to restart opensearch not acquired. Will retry next event
unit-opensearch-0: 02:49:25 DEBUG unit.opensearch/0.juju-log Deferring <_RestartOpenSearch via OpenSearchOperatorCharm/_restart_opensearch_event[471]>.
unit-opensearch-2: 02:49:25 ERROR unit.opensearch/2.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.32.19.66:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-0: 02:49:26 DEBUG unit.opensearch/0.juju-log Emitting Juju event update_status.
unit-opensearch-2: 02:49:26 DEBUG unit.opensearch/2.juju-log Lock to restart opensearch not acquired. Will retry next event
unit-opensearch-2: 02:49:26 DEBUG unit.opensearch/2.juju-log Deferring <_RestartOpenSearch via OpenSearchOperatorCharm/_restart_opensearch_event[413]>.
unit-opensearch-2: 02:49:26 DEBUG unit.opensearch/2.juju-log Emitting Juju event update_status.
unit-opensearch-0: 02:49:26 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:26 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:49:26 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:26 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:49:26 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:49:26 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:26 DEBUG unit.opensearch/0.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-2: 02:49:26 DEBUG unit.opensearch/2.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-0: 02:49:26 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 02:49:26 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-1: 02:49:26 DEBUG unit.opensearch/1.juju-log ops 2.14.1 up and running.
unit-opensearch-1: 02:49:27 DEBUG unit.opensearch/1.juju-log Re-emitting deferred event <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[442]>.
unit-opensearch-1: 02:49:27 ERROR unit.opensearch/1.juju-log [Errno 111] Connection refused
unit-opensearch-1: 02:49:27 ERROR unit.opensearch/1.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-1: 02:49:27 ERROR unit.opensearch/1.juju-log [Errno 111] Connection refused
unit-opensearch-1: 02:49:27 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:27 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:49:27 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:27 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:27 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:49:27 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:27 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:27 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:49:27 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:27 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:27 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:49:27 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:27 DEBUG unit.opensearch/1.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-1: 02:49:27 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:27 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:49:27 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:27 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:27 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:49:27 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:27 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:27 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:49:27 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:27 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:27 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:49:27 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:27 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:27 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:49:27 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET /_nodes HTTP/11" 200 50713
unit-opensearch-1: 02:49:27 DEBUG unit.opensearch/1.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-1: 02:49:27 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:27 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:49:27 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:27 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:27 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:49:27 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:27 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:27 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:49:27 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:27 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:27 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:49:27 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:27 ERROR unit.opensearch/1.juju-log [Errno 111] Connection refused
unit-opensearch-1: 02:49:27 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:27 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:49:27 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:27 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:27 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:49:27 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:27 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:27 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:49:27 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:27 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:27 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:49:27 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:27 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:27 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:49:27 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-1: 02:49:27 ERROR unit.opensearch/1.juju-log Request GET to https://10.32.19.28:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.28:9200/.charm_node_lock/_source/0
unit-opensearch-1: 02:49:28 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:28 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:49:28 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-1: 02:49:28 ERROR unit.opensearch/1.juju-log Request GET to https://10.32.19.28:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.28:9200/.charm_node_lock/_source/0
unit-opensearch-1: 02:49:29 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:29 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:49:29 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-1: 02:49:29 ERROR unit.opensearch/1.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-1/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-1/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-1/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-1/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-1/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.32.19.28:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-1: 02:49:29 DEBUG unit.opensearch/1.juju-log Lock to start opensearch not acquired. Will retry next event
unit-opensearch-1: 02:49:29 DEBUG unit.opensearch/1.juju-log Deferring <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[442]>.
unit-opensearch-1: 02:49:29 DEBUG unit.opensearch/1.juju-log Emitting Juju event update_status.
unit-opensearch-1: 02:49:29 ERROR unit.opensearch/1.juju-log [Errno 111] Connection refused
unit-opensearch-1: 02:49:29 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-3: 02:49:30 DEBUG unit.grafana-agent/3.juju-log ops 2.14.1 up and running.
unit-grafana-agent-1: 02:49:30 DEBUG unit.grafana-agent/1.juju-log ops 2.14.1 up and running.
unit-grafana-agent-0: 02:49:30 DEBUG unit.grafana-agent/0.juju-log ops 2.14.1 up and running.
unit-grafana-agent-3: 02:49:30 DEBUG unit.grafana-agent/3.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-1: 02:49:30 DEBUG unit.grafana-agent/1.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-3: 02:49:30 DEBUG unit.grafana-agent/3.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x7a2d7563aa70> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-1: 02:49:30 DEBUG unit.grafana-agent/1.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x700d1ac32b10> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-3: 02:49:30 DEBUG unit.grafana-agent/3.juju-log Emitting Juju event update_status.
unit-grafana-agent-0: 02:49:30 DEBUG unit.grafana-agent/0.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-1: 02:49:30 DEBUG unit.grafana-agent/1.juju-log Emitting Juju event update_status.
unit-grafana-agent-0: 02:49:30 DEBUG unit.grafana-agent/0.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x7ac21a986bb0> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-0: 02:49:30 DEBUG unit.grafana-agent/0.juju-log Emitting Juju event update_status.
unit-grafana-agent-3: 02:49:30 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-1: 02:49:30 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-0: 02:49:30 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-0: 02:49:31 DEBUG unit.opensearch/0.juju-log ops 2.14.1 up and running.
unit-self-signed-certificates-0: 02:49:31 DEBUG unit.self-signed-certificates/0.juju-log ops 2.14.0 up and running.
unit-self-signed-certificates-0: 02:49:31 DEBUG unit.self-signed-certificates/0.juju-log no relation on 'tracing': tracing not ready
unit-self-signed-certificates-0: 02:49:31 DEBUG unit.self-signed-certificates/0.juju-log Emitting Juju event update_status.
unit-opensearch-2: 02:49:31 DEBUG unit.opensearch/2.juju-log ops 2.14.1 up and running.
unit-opensearch-0: 02:49:31 DEBUG unit.opensearch/0.juju-log Re-emitting deferred event <_RestartOpenSearch via OpenSearchOperatorCharm/_restart_opensearch_event[471]>.
unit-opensearch-0: 02:49:31 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:31 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:49:31 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:32 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:32 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:49:32 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:32 ERROR unit.opensearch/0.juju-log [Errno 111] Connection refused
unit-opensearch-0: 02:49:32 ERROR unit.opensearch/0.juju-log [Errno 111] Connection refused
unit-opensearch-0: 02:49:32 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:32 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:49:32 DEBUG unit.opensearch/2.juju-log Re-emitting deferred event <_RestartOpenSearch via OpenSearchOperatorCharm/_restart_opensearch_event[413]>.
unit-opensearch-0: 02:49:32 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:32 DEBUG unit.opensearch/0.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-0: 02:49:32 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:32 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:32 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:49:32 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:49:32 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:49:32 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:32 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:49:32 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:32 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:32 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:32 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:49:32 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:32 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:49:32 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:32 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:32 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:32 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:49:32 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:32 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:49:32 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET /_nodes HTTP/11" 200 50713
unit-opensearch-2: 02:49:32 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:32 DEBUG unit.opensearch/0.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-2: 02:49:32 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:49:32 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-0: 02:49:32 ERROR unit.opensearch/0.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:49:32 DEBUG unit.opensearch/2.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-0: 02:49:32 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:32 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:32 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:49:32 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:49:32 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:49:32 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:32 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:32 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:32 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:49:32 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:49:32 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:32 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:32 ERROR unit.opensearch/0.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:49:32 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:32 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:49:32 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:32 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:49:32 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:49:32 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:32 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-self-signed-certificates-0: 02:49:32 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 02:49:32 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:49:32 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:32 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:49:32 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET /_nodes HTTP/11" 200 50713
unit-opensearch-0: 02:49:32 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:32 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:32 DEBUG unit.opensearch/2.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-0: 02:49:32 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:49:32 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:32 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:49:32 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:49:32 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:49:32 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:49:32 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:32 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:49:32 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:49:32 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:32 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:49:32 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:49:32 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:32 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:32 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:32 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:49:32 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:49:32 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:32 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:49:32 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:32 ERROR unit.opensearch/0.juju-log Request GET to https://10.32.19.28:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.28:9200/.charm_node_lock/_source/0
unit-opensearch-2: 02:49:32 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:49:32 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:49:32 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:32 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:49:32 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:49:32 ERROR unit.opensearch/2.juju-log Request GET to https://10.32.19.66:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.66:9200/.charm_node_lock/_source/0
unit-opensearch-0: 02:49:33 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:33 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:49:33 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-0: 02:49:33 ERROR unit.opensearch/0.juju-log Request GET to https://10.32.19.28:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.28:9200/.charm_node_lock/_source/0
unit-opensearch-2: 02:49:33 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:33 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:49:33 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:49:33 ERROR unit.opensearch/2.juju-log Request GET to https://10.32.19.66:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.66:9200/.charm_node_lock/_source/0
unit-opensearch-0: 02:49:34 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:34 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:49:34 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-0: 02:49:34 ERROR unit.opensearch/0.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.32.19.28:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-0: 02:49:34 DEBUG unit.opensearch/0.juju-log Lock to restart opensearch not acquired. Will retry next event
unit-opensearch-0: 02:49:34 DEBUG unit.opensearch/0.juju-log Deferring <_RestartOpenSearch via OpenSearchOperatorCharm/_restart_opensearch_event[471]>.
unit-opensearch-0: 02:49:34 DEBUG unit.opensearch/0.juju-log Emitting Juju event update_status.
unit-opensearch-2: 02:49:34 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:34 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:49:34 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:34 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:49:34 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-0: 02:49:34 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:49:34 ERROR unit.opensearch/2.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.32.19.66:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-2: 02:49:34 DEBUG unit.opensearch/2.juju-log Lock to restart opensearch not acquired. Will retry next event
unit-opensearch-2: 02:49:34 DEBUG unit.opensearch/2.juju-log Deferring <_RestartOpenSearch via OpenSearchOperatorCharm/_restart_opensearch_event[413]>.
unit-opensearch-2: 02:49:34 DEBUG unit.opensearch/2.juju-log Emitting Juju event update_status.
unit-opensearch-2: 02:49:34 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:34 DEBUG unit.opensearch/0.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-2: 02:49:34 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:49:34 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:49:34 DEBUG unit.opensearch/2.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-0: 02:49:35 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 02:49:35 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-1: 02:49:38 DEBUG unit.opensearch/1.juju-log ops 2.14.1 up and running.
unit-opensearch-1: 02:49:38 DEBUG unit.opensearch/1.juju-log Re-emitting deferred event <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[442]>.
unit-opensearch-1: 02:49:38 ERROR unit.opensearch/1.juju-log [Errno 111] Connection refused
unit-opensearch-1: 02:49:38 ERROR unit.opensearch/1.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-1: 02:49:38 ERROR unit.opensearch/1.juju-log [Errno 111] Connection refused
unit-opensearch-1: 02:49:38 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:38 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:49:38 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:38 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:38 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:49:38 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:38 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:38 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:49:38 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:38 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:38 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:49:38 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:38 DEBUG unit.opensearch/1.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-1: 02:49:38 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:38 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:49:38 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:38 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:38 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:49:38 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:38 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:38 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:49:38 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:38 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:38 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:49:38 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:38 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:38 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:49:38 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET /_nodes HTTP/11" 200 50713
unit-opensearch-1: 02:49:38 DEBUG unit.opensearch/1.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-1: 02:49:38 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:38 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:49:38 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:38 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:38 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:49:38 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:38 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:38 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:49:38 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:38 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:38 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:49:38 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:38 ERROR unit.opensearch/1.juju-log [Errno 111] Connection refused
unit-opensearch-1: 02:49:38 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:38 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:49:38 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:38 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:38 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:49:38 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:38 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:39 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:49:39 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:39 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:39 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:49:39 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:39 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:39 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:49:39 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-1: 02:49:39 ERROR unit.opensearch/1.juju-log Request GET to https://10.32.19.66:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.66:9200/.charm_node_lock/_source/0
unit-grafana-agent-1: 02:49:39 DEBUG unit.grafana-agent/1.juju-log ops 2.14.1 up and running.
unit-grafana-agent-0: 02:49:39 DEBUG unit.grafana-agent/0.juju-log ops 2.14.1 up and running.
unit-grafana-agent-1: 02:49:39 DEBUG unit.grafana-agent/1.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-1: 02:49:39 DEBUG unit.grafana-agent/1.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x798d09a1ebb0> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-0: 02:49:39 DEBUG unit.grafana-agent/0.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-1: 02:49:39 DEBUG unit.grafana-agent/1.juju-log Emitting Juju event update_status.
unit-grafana-agent-0: 02:49:39 DEBUG unit.grafana-agent/0.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x7999d096eb60> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-0: 02:49:40 DEBUG unit.grafana-agent/0.juju-log Emitting Juju event update_status.
unit-opensearch-1: 02:49:40 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:40 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:49:40 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-1: 02:49:40 ERROR unit.opensearch/1.juju-log Request GET to https://10.32.19.66:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.66:9200/.charm_node_lock/_source/0
unit-grafana-agent-1: 02:49:40 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-0: 02:49:40 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-self-signed-certificates-0: 02:49:40 DEBUG unit.self-signed-certificates/0.juju-log ops 2.14.0 up and running.
unit-self-signed-certificates-0: 02:49:40 DEBUG unit.self-signed-certificates/0.juju-log no relation on 'tracing': tracing not ready
unit-self-signed-certificates-0: 02:49:40 DEBUG unit.self-signed-certificates/0.juju-log Emitting Juju event update_status.
unit-self-signed-certificates-0: 02:49:41 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-1: 02:49:41 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:41 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:49:41 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-1: 02:49:41 ERROR unit.opensearch/1.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-1/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-1/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-1/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-1/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-1/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.32.19.66:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-1: 02:49:41 DEBUG unit.opensearch/1.juju-log Lock to start opensearch not acquired. Will retry next event
unit-opensearch-1: 02:49:41 DEBUG unit.opensearch/1.juju-log Deferring <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[442]>.
unit-opensearch-1: 02:49:41 DEBUG unit.opensearch/1.juju-log Emitting Juju event update_status.
unit-opensearch-1: 02:49:41 ERROR unit.opensearch/1.juju-log [Errno 111] Connection refused
unit-opensearch-1: 02:49:41 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-3: 02:49:41 DEBUG unit.grafana-agent/3.juju-log ops 2.14.1 up and running.
unit-grafana-agent-3: 02:49:41 DEBUG unit.grafana-agent/3.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-3: 02:49:41 DEBUG unit.grafana-agent/3.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x78b47257ac00> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-3: 02:49:41 DEBUG unit.grafana-agent/3.juju-log Emitting Juju event update_status.
unit-grafana-agent-3: 02:49:42 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-0: 02:49:42 DEBUG unit.opensearch/0.juju-log ops 2.14.1 up and running.
unit-opensearch-2: 02:49:42 DEBUG unit.opensearch/2.juju-log ops 2.14.1 up and running.
unit-opensearch-2: 02:49:42 DEBUG unit.opensearch/2.juju-log Re-emitting deferred event <_RestartOpenSearch via OpenSearchOperatorCharm/_restart_opensearch_event[413]>.
unit-opensearch-0: 02:49:42 DEBUG unit.opensearch/0.juju-log Re-emitting deferred event <_RestartOpenSearch via OpenSearchOperatorCharm/_restart_opensearch_event[471]>.
unit-opensearch-2: 02:49:42 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:42 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:42 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:49:42 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:49:42 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:49:42 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:42 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:42 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:42 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:49:42 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:49:42 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:49:42 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:42 ERROR unit.opensearch/0.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:49:42 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-0: 02:49:42 ERROR unit.opensearch/0.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:49:42 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:42 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:42 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:49:42 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:49:42 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:42 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:49:42 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-0: 02:49:42 DEBUG unit.opensearch/0.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-2: 02:49:42 DEBUG unit.opensearch/2.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-0: 02:49:42 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:42 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:42 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:49:42 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:49:42 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:42 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:42 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:42 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:49:42 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:42 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:49:42 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:49:42 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:42 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:42 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:42 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:49:42 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:49:43 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:49:43 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:43 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:43 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:43 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:49:43 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:49:43 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET /_nodes HTTP/11" 200 50713
unit-opensearch-2: 02:49:43 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET /_nodes HTTP/11" 200 50713
unit-opensearch-0: 02:49:43 DEBUG unit.opensearch/0.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-2: 02:49:43 DEBUG unit.opensearch/2.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-0: 02:49:43 ERROR unit.opensearch/0.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:49:43 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:43 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:43 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:49:43 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:49:43 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:49:43 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:49:43 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-0: 02:49:43 ERROR unit.opensearch/0.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:49:43 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-0: 02:49:43 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:43 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:43 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:49:43 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:49:43 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:49:43 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:43 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:43 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:43 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:49:43 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:49:43 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:49:43 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:43 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:43 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:49:43 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:43 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:49:43 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:43 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:43 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:43 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:49:43 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:43 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:49:43 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:43 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:43 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:43 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:49:43 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:43 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:49:43 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-0: 02:49:43 ERROR unit.opensearch/0.juju-log Request GET to https://10.32.19.28:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.28:9200/.charm_node_lock/_source/0
unit-opensearch-2: 02:49:43 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:49:43 ERROR unit.opensearch/2.juju-log Request GET to https://10.32.19.66:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.66:9200/.charm_node_lock/_source/0
unit-opensearch-0: 02:49:44 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:44 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:49:44 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:44 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:49:44 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-0: 02:49:44 ERROR unit.opensearch/0.juju-log Request GET to https://10.32.19.28:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.28:9200/.charm_node_lock/_source/0
unit-opensearch-2: 02:49:44 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:49:44 ERROR unit.opensearch/2.juju-log Request GET to https://10.32.19.66:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.66:9200/.charm_node_lock/_source/0
unit-opensearch-0: 02:49:45 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:45 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:49:45 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:45 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:49:45 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-0: 02:49:45 ERROR unit.opensearch/0.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.32.19.28:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-2: 02:49:45 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-0: 02:49:45 DEBUG unit.opensearch/0.juju-log Lock to restart opensearch not acquired. Will retry next event
unit-opensearch-0: 02:49:45 DEBUG unit.opensearch/0.juju-log Deferring <_RestartOpenSearch via OpenSearchOperatorCharm/_restart_opensearch_event[471]>.
unit-opensearch-2: 02:49:45 ERROR unit.opensearch/2.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.32.19.66:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-0: 02:49:45 DEBUG unit.opensearch/0.juju-log Emitting Juju event update_status.
unit-opensearch-2: 02:49:45 DEBUG unit.opensearch/2.juju-log Lock to restart opensearch not acquired. Will retry next event
unit-opensearch-2: 02:49:45 DEBUG unit.opensearch/2.juju-log Deferring <_RestartOpenSearch via OpenSearchOperatorCharm/_restart_opensearch_event[413]>.
unit-opensearch-2: 02:49:45 DEBUG unit.opensearch/2.juju-log Emitting Juju event update_status.
unit-opensearch-0: 02:49:45 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:45 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:49:45 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:45 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:49:45 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:49:45 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:45 DEBUG unit.opensearch/0.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-2: 02:49:45 DEBUG unit.opensearch/2.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-0: 02:49:45 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 02:49:45 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-1: 02:49:49 DEBUG unit.opensearch/1.juju-log ops 2.14.1 up and running.
unit-opensearch-1: 02:49:49 DEBUG unit.opensearch/1.juju-log Re-emitting deferred event <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[442]>.
unit-opensearch-1: 02:49:49 ERROR unit.opensearch/1.juju-log [Errno 111] Connection refused
unit-opensearch-1: 02:49:49 ERROR unit.opensearch/1.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-1: 02:49:49 ERROR unit.opensearch/1.juju-log [Errno 111] Connection refused
unit-opensearch-1: 02:49:49 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:49 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:49:49 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:49 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:49 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:49:49 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:49 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:49 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:49:49 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:49 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:49 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:49:49 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:49 DEBUG unit.opensearch/1.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-1: 02:49:49 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:49 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:49:49 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:49 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:49 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:49:49 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:49 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:49 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:49:49 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:49 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:49 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:49:49 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:49 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:49 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:49:49 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET /_nodes HTTP/11" 200 50713
unit-opensearch-1: 02:49:49 DEBUG unit.opensearch/1.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-1: 02:49:49 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:49 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:49:49 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:49 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:49 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:49:49 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:49 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:49 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:49:49 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:49 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:49 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:49:49 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:49 ERROR unit.opensearch/1.juju-log [Errno 111] Connection refused
unit-opensearch-1: 02:49:49 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:49 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:49:49 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:49 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:49 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:49:49 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:49 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:49 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:49:49 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:49 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:49 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:49:49 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:49:49 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:49 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:49:49 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-1: 02:49:49 ERROR unit.opensearch/1.juju-log Request GET to https://10.32.19.66:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.66:9200/.charm_node_lock/_source/0
unit-opensearch-1: 02:49:50 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:50 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:49:50 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-1: 02:49:50 ERROR unit.opensearch/1.juju-log Request GET to https://10.32.19.66:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.66:9200/.charm_node_lock/_source/0
unit-grafana-agent-1: 02:49:51 DEBUG unit.grafana-agent/1.juju-log ops 2.14.1 up and running.
unit-grafana-agent-0: 02:49:51 DEBUG unit.grafana-agent/0.juju-log ops 2.14.1 up and running.
unit-grafana-agent-1: 02:49:51 DEBUG unit.grafana-agent/1.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-1: 02:49:51 DEBUG unit.grafana-agent/1.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x704920b86c00> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-0: 02:49:51 DEBUG unit.grafana-agent/0.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-1: 02:49:51 DEBUG unit.grafana-agent/1.juju-log Emitting Juju event update_status.
unit-grafana-agent-0: 02:49:51 DEBUG unit.grafana-agent/0.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x7bc6d9972b10> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-0: 02:49:51 DEBUG unit.grafana-agent/0.juju-log Emitting Juju event update_status.
unit-opensearch-1: 02:49:52 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:49:52 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:49:52 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-1: 02:49:52 ERROR unit.opensearch/1.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-1/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-1/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-1/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-1/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-1/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.32.19.66:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-1: 02:49:52 DEBUG unit.opensearch/1.juju-log Lock to start opensearch not acquired. Will retry next event
unit-opensearch-1: 02:49:52 DEBUG unit.opensearch/1.juju-log Deferring <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[442]>.
unit-opensearch-1: 02:49:52 DEBUG unit.opensearch/1.juju-log Emitting Juju event update_status.
unit-opensearch-1: 02:49:52 ERROR unit.opensearch/1.juju-log [Errno 111] Connection refused
unit-grafana-agent-1: 02:49:52 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-0: 02:49:52 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-self-signed-certificates-0: 02:49:52 DEBUG unit.self-signed-certificates/0.juju-log ops 2.14.0 up and running.
unit-opensearch-1: 02:49:52 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-self-signed-certificates-0: 02:49:52 DEBUG unit.self-signed-certificates/0.juju-log no relation on 'tracing': tracing not ready
unit-self-signed-certificates-0: 02:49:52 DEBUG unit.self-signed-certificates/0.juju-log Emitting Juju event update_status.
unit-grafana-agent-3: 02:49:52 DEBUG unit.grafana-agent/3.juju-log ops 2.14.1 up and running.
unit-self-signed-certificates-0: 02:49:52 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-3: 02:49:52 DEBUG unit.grafana-agent/3.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-3: 02:49:52 DEBUG unit.grafana-agent/3.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x7ceef62369d0> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-3: 02:49:52 DEBUG unit.grafana-agent/3.juju-log Emitting Juju event update_status.
unit-grafana-agent-3: 02:49:53 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-0: 02:49:53 DEBUG unit.opensearch/0.juju-log ops 2.14.1 up and running.
unit-opensearch-2: 02:49:53 DEBUG unit.opensearch/2.juju-log ops 2.14.1 up and running.
unit-opensearch-0: 02:49:53 DEBUG unit.opensearch/0.juju-log Re-emitting deferred event <_RestartOpenSearch via OpenSearchOperatorCharm/_restart_opensearch_event[471]>.
unit-opensearch-2: 02:49:53 DEBUG unit.opensearch/2.juju-log Re-emitting deferred event <_RestartOpenSearch via OpenSearchOperatorCharm/_restart_opensearch_event[413]>.
unit-opensearch-0: 02:49:53 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:53 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:53 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:49:53 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:49:53 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:49:53 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:53 ERROR unit.opensearch/0.juju-log [Errno 111] Connection refused
unit-opensearch-0: 02:49:53 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:53 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:53 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:49:53 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:49:53 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:53 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:49:53 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-0: 02:49:53 ERROR unit.opensearch/0.juju-log [Errno 111] Connection refused
unit-opensearch-0: 02:49:53 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:53 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:53 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:49:53 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:49:53 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:49:53 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:53 DEBUG unit.opensearch/0.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-2: 02:49:53 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-0: 02:49:53 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:53 DEBUG unit.opensearch/2.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-0: 02:49:53 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:49:53 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:53 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:49:53 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:53 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:53 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:49:53 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:53 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:49:53 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:49:53 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:53 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:53 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:53 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:49:53 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:53 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:49:53 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:53 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:53 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:53 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:49:53 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:53 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:49:53 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET /_nodes HTTP/11" 200 50713
unit-opensearch-0: 02:49:53 DEBUG unit.opensearch/0.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-2: 02:49:53 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET /_nodes HTTP/11" 200 50713
unit-opensearch-0: 02:49:53 ERROR unit.opensearch/0.juju-log [Errno 111] Connection refused
unit-opensearch-0: 02:49:53 ERROR unit.opensearch/0.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:49:53 DEBUG unit.opensearch/2.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-0: 02:49:53 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:53 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-0: 02:49:53 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:49:53 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:53 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:49:53 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:49:53 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:53 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:53 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-0: 02:49:53 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:49:53 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:53 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:49:53 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:53 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:53 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:53 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:49:53 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:53 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:49:53 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:53 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:53 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:53 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:49:53 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:53 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:49:53 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:53 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:53 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:53 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:49:53 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:53 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:49:53 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:53 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:53 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:53 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:49:53 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:53 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:49:53 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-0: 02:49:53 ERROR unit.opensearch/0.juju-log Request GET to https://10.32.19.28:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.28:9200/.charm_node_lock/_source/0
unit-opensearch-2: 02:49:53 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:49:53 ERROR unit.opensearch/2.juju-log Request GET to https://10.32.19.66:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.66:9200/.charm_node_lock/_source/0
unit-opensearch-0: 02:49:54 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:54 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:49:54 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:54 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:49:54 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-0: 02:49:54 ERROR unit.opensearch/0.juju-log Request GET to https://10.32.19.28:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.28:9200/.charm_node_lock/_source/0
unit-opensearch-2: 02:49:54 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:49:54 ERROR unit.opensearch/2.juju-log Request GET to https://10.32.19.66:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.66:9200/.charm_node_lock/_source/0
unit-opensearch-0: 02:49:55 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:55 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:49:55 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:55 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:49:55 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-0: 02:49:55 ERROR unit.opensearch/0.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.32.19.28:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-2: 02:49:55 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-0: 02:49:55 DEBUG unit.opensearch/0.juju-log Lock to restart opensearch not acquired. Will retry next event
unit-opensearch-0: 02:49:55 DEBUG unit.opensearch/0.juju-log Deferring <_RestartOpenSearch via OpenSearchOperatorCharm/_restart_opensearch_event[471]>.
unit-opensearch-2: 02:49:55 ERROR unit.opensearch/2.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.32.19.66:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-2: 02:49:55 DEBUG unit.opensearch/2.juju-log Lock to restart opensearch not acquired. Will retry next event
unit-opensearch-0: 02:49:55 DEBUG unit.opensearch/0.juju-log Emitting Juju event update_status.
unit-opensearch-2: 02:49:56 DEBUG unit.opensearch/2.juju-log Deferring <_RestartOpenSearch via OpenSearchOperatorCharm/_restart_opensearch_event[413]>.
unit-opensearch-2: 02:49:56 DEBUG unit.opensearch/2.juju-log Emitting Juju event update_status.
unit-opensearch-0: 02:49:56 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:49:56 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:49:56 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:49:56 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:49:56 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:49:56 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:49:56 DEBUG unit.opensearch/0.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-2: 02:49:56 DEBUG unit.opensearch/2.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-0: 02:49:56 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 02:49:56 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-1: 02:50:00 DEBUG unit.grafana-agent/1.juju-log ops 2.14.1 up and running.
unit-grafana-agent-0: 02:50:00 DEBUG unit.grafana-agent/0.juju-log ops 2.14.1 up and running.
unit-grafana-agent-3: 02:50:00 DEBUG unit.grafana-agent/3.juju-log ops 2.14.1 up and running.
unit-grafana-agent-1: 02:50:00 DEBUG unit.grafana-agent/1.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-1: 02:50:00 DEBUG unit.grafana-agent/1.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x717baa97ac00> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-3: 02:50:00 DEBUG unit.grafana-agent/3.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-1: 02:50:00 DEBUG unit.grafana-agent/1.juju-log Emitting Juju event update_status.
unit-grafana-agent-0: 02:50:00 DEBUG unit.grafana-agent/0.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-3: 02:50:00 DEBUG unit.grafana-agent/3.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x764135d82c50> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-0: 02:50:00 DEBUG unit.grafana-agent/0.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x7dedde582c50> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-3: 02:50:00 DEBUG unit.grafana-agent/3.juju-log Emitting Juju event update_status.
unit-grafana-agent-0: 02:50:00 DEBUG unit.grafana-agent/0.juju-log Emitting Juju event update_status.
unit-self-signed-certificates-0: 02:50:00 DEBUG unit.self-signed-certificates/0.juju-log ops 2.14.0 up and running.
unit-self-signed-certificates-0: 02:50:00 DEBUG unit.self-signed-certificates/0.juju-log no relation on 'tracing': tracing not ready
unit-self-signed-certificates-0: 02:50:00 DEBUG unit.self-signed-certificates/0.juju-log Emitting Juju event update_status.
unit-grafana-agent-1: 02:50:00 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-3: 02:50:00 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-0: 02:50:00 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-self-signed-certificates-0: 02:50:01 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-1: 02:50:01 DEBUG unit.opensearch/1.juju-log ops 2.14.1 up and running.
unit-opensearch-1: 02:50:01 DEBUG unit.opensearch/1.juju-log Re-emitting deferred event <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[442]>.
unit-opensearch-1: 02:50:01 ERROR unit.opensearch/1.juju-log [Errno 111] Connection refused
unit-opensearch-1: 02:50:01 ERROR unit.opensearch/1.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-1: 02:50:01 ERROR unit.opensearch/1.juju-log [Errno 111] Connection refused
unit-opensearch-1: 02:50:01 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:50:01 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:50:01 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:50:01 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:50:01 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:50:01 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:50:01 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:50:01 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:50:01 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:50:01 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:50:01 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:50:01 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:50:01 DEBUG unit.opensearch/1.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-1: 02:50:01 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:50:01 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:50:01 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:50:01 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:50:01 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:50:01 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:50:01 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:50:01 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:50:01 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:50:01 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:50:01 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:50:01 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:50:01 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:50:01 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:50:01 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET /_nodes HTTP/11" 200 50713
unit-opensearch-1: 02:50:01 DEBUG unit.opensearch/1.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-1: 02:50:01 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:50:01 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:50:01 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:50:01 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:50:01 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:50:01 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:50:01 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:50:01 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:50:01 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:50:01 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:50:01 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:50:01 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:50:01 ERROR unit.opensearch/1.juju-log [Errno 111] Connection refused
unit-opensearch-1: 02:50:01 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:50:01 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:50:01 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:50:01 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:50:01 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:50:01 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:50:01 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:50:01 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:50:01 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:50:01 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:50:01 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:50:01 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:50:01 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:50:01 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:50:01 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-1: 02:50:01 ERROR unit.opensearch/1.juju-log Request GET to https://10.32.19.66:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.66:9200/.charm_node_lock/_source/0
unit-opensearch-1: 02:50:02 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:50:02 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:50:02 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-1: 02:50:02 ERROR unit.opensearch/1.juju-log Request GET to https://10.32.19.66:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.66:9200/.charm_node_lock/_source/0
unit-opensearch-1: 02:50:03 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:50:03 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:50:03 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-1: 02:50:04 ERROR unit.opensearch/1.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-1/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-1/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-1/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-1/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-1/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.32.19.66:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-1: 02:50:04 DEBUG unit.opensearch/1.juju-log Lock to start opensearch not acquired. Will retry next event
unit-opensearch-1: 02:50:04 DEBUG unit.opensearch/1.juju-log Deferring <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[442]>.
unit-opensearch-1: 02:50:04 DEBUG unit.opensearch/1.juju-log Emitting Juju event update_status.
unit-opensearch-1: 02:50:04 ERROR unit.opensearch/1.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:50:04 DEBUG unit.opensearch/2.juju-log ops 2.14.1 up and running.
unit-opensearch-0: 02:50:04 DEBUG unit.opensearch/0.juju-log ops 2.14.1 up and running.
unit-opensearch-2: 02:50:04 DEBUG unit.opensearch/2.juju-log Re-emitting deferred event <_RestartOpenSearch via OpenSearchOperatorCharm/_restart_opensearch_event[413]>.
unit-opensearch-2: 02:50:04 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:50:04 DEBUG unit.opensearch/0.juju-log Re-emitting deferred event <_RestartOpenSearch via OpenSearchOperatorCharm/_restart_opensearch_event[471]>.
unit-opensearch-2: 02:50:04 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:50:04 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:50:04 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:50:04 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:50:04 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:50:04 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:50:04 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:50:04 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:50:04 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:50:04 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:50:04 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:50:04 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:50:04 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 02:50:04 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:50:04 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:50:04 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-0: 02:50:04 ERROR unit.opensearch/0.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:50:04 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-0: 02:50:04 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:50:04 DEBUG unit.opensearch/2.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-0: 02:50:04 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:50:04 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:50:04 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:50:04 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:50:04 ERROR unit.opensearch/0.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:50:04 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:50:04 DEBUG unit.opensearch/0.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-2: 02:50:04 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:50:04 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:50:04 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:50:04 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:50:04 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:50:04 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:50:04 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:50:04 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:50:04 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:50:04 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:50:04 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:50:04 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:50:04 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:50:04 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:50:04 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:50:04 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:50:04 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:50:04 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET /_nodes HTTP/11" 200 50713
unit-opensearch-0: 02:50:04 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:50:04 DEBUG unit.opensearch/2.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-0: 02:50:04 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:50:04 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:50:04 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:50:04 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET /_nodes HTTP/11" 200 50713
unit-opensearch-2: 02:50:04 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:50:04 DEBUG unit.opensearch/0.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-2: 02:50:04 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-0: 02:50:04 ERROR unit.opensearch/0.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:50:04 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-0: 02:50:04 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:50:04 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:50:04 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:50:04 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:50:04 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:50:04 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:50:04 ERROR unit.opensearch/0.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:50:04 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:50:04 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:50:04 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:50:04 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:50:04 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:50:04 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:50:04 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:50:04 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:50:04 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:50:04 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:50:04 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:50:04 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:50:04 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:50:04 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:50:04 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:50:04 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:50:04 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:50:04 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:50:04 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:50:04 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:50:04 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:50:04 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:50:04 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:50:04 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-0: 02:50:04 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:50:04 ERROR unit.opensearch/2.juju-log Request GET to https://10.32.19.66:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.66:9200/.charm_node_lock/_source/0
unit-opensearch-0: 02:50:04 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:50:04 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-0: 02:50:04 ERROR unit.opensearch/0.juju-log Request GET to https://10.32.19.28:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.28:9200/.charm_node_lock/_source/0
unit-opensearch-2: 02:50:05 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:50:05 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:50:05 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:50:05 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-0: 02:50:05 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:50:05 ERROR unit.opensearch/2.juju-log Request GET to https://10.32.19.66:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.66:9200/.charm_node_lock/_source/0
unit-opensearch-0: 02:50:05 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-0: 02:50:05 ERROR unit.opensearch/0.juju-log Request GET to https://10.32.19.28:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.28:9200/.charm_node_lock/_source/0
unit-opensearch-2: 02:50:06 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:50:06 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:50:06 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:50:06 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-0: 02:50:06 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:50:06 ERROR unit.opensearch/2.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.32.19.66:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-2: 02:50:06 DEBUG unit.opensearch/2.juju-log Lock to restart opensearch not acquired. Will retry next event
unit-opensearch-2: 02:50:06 DEBUG unit.opensearch/2.juju-log Deferring <_RestartOpenSearch via OpenSearchOperatorCharm/_restart_opensearch_event[413]>.
unit-opensearch-2: 02:50:06 DEBUG unit.opensearch/2.juju-log Emitting Juju event update_status.
unit-opensearch-0: 02:50:06 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-0: 02:50:06 ERROR unit.opensearch/0.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.32.19.28:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-0: 02:50:06 DEBUG unit.opensearch/0.juju-log Lock to restart opensearch not acquired. Will retry next event
unit-opensearch-2: 02:50:06 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:50:06 DEBUG unit.opensearch/0.juju-log Deferring <_RestartOpenSearch via OpenSearchOperatorCharm/_restart_opensearch_event[471]>.
unit-opensearch-2: 02:50:06 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:50:06 DEBUG unit.opensearch/0.juju-log Emitting Juju event update_status.
unit-opensearch-2: 02:50:06 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:50:06 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:50:06 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:50:06 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:50:06 DEBUG unit.opensearch/2.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-0: 02:50:06 DEBUG unit.opensearch/0.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-2: 02:50:07 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-0: 02:50:07 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-self-signed-certificates-0: 02:50:08 DEBUG unit.self-signed-certificates/0.juju-log ops 2.14.0 up and running.
unit-self-signed-certificates-0: 02:50:08 DEBUG unit.self-signed-certificates/0.juju-log no relation on 'tracing': tracing not ready
unit-self-signed-certificates-0: 02:50:08 DEBUG unit.self-signed-certificates/0.juju-log Emitting Juju event update_status.
unit-self-signed-certificates-0: 02:50:09 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-1: 02:50:10 DEBUG unit.opensearch/1.juju-log ops 2.14.1 up and running.
unit-opensearch-1: 02:50:10 DEBUG unit.opensearch/1.juju-log Re-emitting deferred event <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[442]>.
unit-opensearch-1: 02:50:10 ERROR unit.opensearch/1.juju-log [Errno 111] Connection refused
unit-opensearch-1: 02:50:10 ERROR unit.opensearch/1.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-1: 02:50:10 ERROR unit.opensearch/1.juju-log [Errno 111] Connection refused
unit-opensearch-1: 02:50:10 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:50:10 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:50:10 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:50:10 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:50:10 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:50:10 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:50:10 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:50:10 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:50:10 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:50:10 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:50:10 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:50:10 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:50:10 DEBUG unit.opensearch/1.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-1: 02:50:10 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:50:10 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:50:10 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:50:10 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:50:10 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:50:10 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:50:10 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:50:10 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:50:10 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:50:10 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:50:10 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:50:10 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:50:10 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:50:10 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:50:10 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET /_nodes HTTP/11" 200 50713
unit-opensearch-1: 02:50:10 DEBUG unit.opensearch/1.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-1: 02:50:10 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:50:10 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:50:10 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:50:10 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:50:10 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:50:10 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:50:10 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:50:10 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:50:10 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:50:10 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:50:10 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:50:10 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:50:10 ERROR unit.opensearch/1.juju-log [Errno 111] Connection refused
unit-opensearch-1: 02:50:10 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:50:10 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:50:10 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:50:10 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:50:10 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:50:10 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:50:10 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:50:10 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-1: 02:50:10 DEBUG unit.opensearch/1.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:50:10 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:50:10 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:50:11 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:50:11 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:50:11 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:50:11 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-1: 02:50:11 ERROR unit.opensearch/1.juju-log Request GET to https://10.32.19.66:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.66:9200/.charm_node_lock/_source/0
unit-grafana-agent-0: 02:50:11 DEBUG unit.grafana-agent/0.juju-log ops 2.14.1 up and running.
unit-grafana-agent-1: 02:50:11 DEBUG unit.grafana-agent/1.juju-log ops 2.14.1 up and running.
unit-grafana-agent-0: 02:50:12 DEBUG unit.grafana-agent/0.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-1: 02:50:12 DEBUG unit.grafana-agent/1.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-0: 02:50:12 DEBUG unit.grafana-agent/0.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x7f27a1d6ab10> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-1: 02:50:12 DEBUG unit.grafana-agent/1.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x7f7b0c97abb0> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-0: 02:50:12 DEBUG unit.grafana-agent/0.juju-log Emitting Juju event update_status.
unit-grafana-agent-1: 02:50:12 DEBUG unit.grafana-agent/1.juju-log Emitting Juju event update_status.
unit-opensearch-1: 02:50:12 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:50:12 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:50:12 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-1: 02:50:12 ERROR unit.opensearch/1.juju-log Request GET to https://10.32.19.66:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.66:9200/.charm_node_lock/_source/0
unit-grafana-agent-1: 02:50:12 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-0: 02:50:12 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-1: 02:50:13 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:50:13 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-1: 02:50:13 DEBUG unit.opensearch/1.juju-log https://10.32.19.66:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-1: 02:50:13 ERROR unit.opensearch/1.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-1/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-1/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-1/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-1/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-1/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.32.19.66:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-1/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-1: 02:50:13 DEBUG unit.opensearch/1.juju-log Lock to start opensearch not acquired. Will retry next event
unit-opensearch-1: 02:50:13 DEBUG unit.opensearch/1.juju-log Deferring <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[442]>.
unit-opensearch-1: 02:50:13 DEBUG unit.opensearch/1.juju-log Emitting Juju event update_status.
unit-opensearch-1: 02:50:13 ERROR unit.opensearch/1.juju-log [Errno 111] Connection refused
unit-opensearch-1: 02:50:13 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-3: 02:50:13 DEBUG unit.grafana-agent/3.juju-log ops 2.14.1 up and running.
unit-grafana-agent-3: 02:50:13 DEBUG unit.grafana-agent/3.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-3: 02:50:13 DEBUG unit.grafana-agent/3.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x77b412e3aa20> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-3: 02:50:13 DEBUG unit.grafana-agent/3.juju-log Emitting Juju event update_status.
unit-grafana-agent-3: 02:50:14 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-0: 02:50:15 DEBUG unit.opensearch/0.juju-log ops 2.14.1 up and running.
unit-opensearch-2: 02:50:15 DEBUG unit.opensearch/2.juju-log ops 2.14.1 up and running.
unit-opensearch-0: 02:50:15 DEBUG unit.opensearch/0.juju-log Re-emitting deferred event <_RestartOpenSearch via OpenSearchOperatorCharm/_restart_opensearch_event[471]>.
unit-opensearch-2: 02:50:15 DEBUG unit.opensearch/2.juju-log Re-emitting deferred event <_RestartOpenSearch via OpenSearchOperatorCharm/_restart_opensearch_event[413]>.
unit-opensearch-0: 02:50:15 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:50:15 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:50:15 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:50:15 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:50:15 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:50:15 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:50:15 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:50:15 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:50:15 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:50:15 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:50:15 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:50:15 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:50:15 ERROR unit.opensearch/0.juju-log [Errno 111] Connection refused
unit-opensearch-0: 02:50:15 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:50:15 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:50:15 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:50:15 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:50:15 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:50:15 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:50:15 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:50:15 ERROR unit.opensearch/0.juju-log [Errno 111] Connection refused
unit-opensearch-0: 02:50:15 DEBUG unit.opensearch/0.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-2: 02:50:15 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:50:15 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:50:15 DEBUG unit.opensearch/2.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-0: 02:50:15 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:50:15 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:50:15 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:50:15 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:50:15 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:50:15 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:50:15 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:50:15 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:50:15 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:50:15 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:50:15 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:50:15 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:50:15 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:50:15 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:50:15 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:50:15 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:50:15 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:50:15 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:50:15 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:50:15 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:50:15 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:50:15 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET /_nodes HTTP/11" 200 50713
unit-opensearch-0: 02:50:15 DEBUG unit.opensearch/0.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-2: 02:50:15 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET /_nodes HTTP/11" 200 50713
unit-opensearch-0: 02:50:15 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:50:15 DEBUG unit.opensearch/2.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-0: 02:50:15 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:50:15 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:50:15 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:50:15 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:50:15 ERROR unit.opensearch/0.juju-log [Errno 111] Connection refused
unit-opensearch-0: 02:50:15 ERROR unit.opensearch/0.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:50:15 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:50:15 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:50:15 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:50:15 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:50:15 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:50:15 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:50:15 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:50:15 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:50:15 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-0: 02:50:15 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:50:15 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:50:15 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:50:15 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:50:15 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:50:15 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:50:15 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:50:15 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:50:15 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:50:15 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:50:15 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:50:15 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:50:15 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:50:15 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:50:15 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:50:15 DEBUG unit.opensearch/0.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:50:15 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-0: 02:50:15 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:50:15 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:50:15 DEBUG unit.opensearch/2.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:50:15 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:50:15 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:50:15 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-0: 02:50:15 ERROR unit.opensearch/0.juju-log Request GET to https://10.32.19.28:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.28:9200/.charm_node_lock/_source/0
unit-opensearch-2: 02:50:15 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:50:15 ERROR unit.opensearch/2.juju-log Request GET to https://10.32.19.66:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.66:9200/.charm_node_lock/_source/0
unit-opensearch-0: 02:50:16 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:50:16 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:50:16 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:50:16 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:50:16 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-0: 02:50:16 ERROR unit.opensearch/0.juju-log Request GET to https://10.32.19.28:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.28:9200/.charm_node_lock/_source/0
unit-opensearch-2: 02:50:16 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:50:16 ERROR unit.opensearch/2.juju-log Request GET to https://10.32.19.66:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.32.19.66:9200/.charm_node_lock/_source/0
unit-opensearch-0: 02:50:17 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:50:17 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:50:17 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:50:17 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-0: 02:50:17 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-0: 02:50:17 ERROR unit.opensearch/0.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.32.19.28:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-0: 02:50:17 DEBUG unit.opensearch/0.juju-log Lock to restart opensearch not acquired. Will retry next event
unit-opensearch-2: 02:50:17 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-0: 02:50:17 DEBUG unit.opensearch/0.juju-log Deferring <_RestartOpenSearch via OpenSearchOperatorCharm/_restart_opensearch_event[471]>.
unit-opensearch-2: 02:50:17 ERROR unit.opensearch/2.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.32.19.66:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-0: 02:50:17 DEBUG unit.opensearch/0.juju-log Emitting Juju event update_status.
unit-opensearch-2: 02:50:17 DEBUG unit.opensearch/2.juju-log Lock to restart opensearch not acquired. Will retry next event
unit-opensearch-2: 02:50:17 DEBUG unit.opensearch/2.juju-log Deferring <_RestartOpenSearch via OpenSearchOperatorCharm/_restart_opensearch_event[413]>.
unit-opensearch-2: 02:50:17 DEBUG unit.opensearch/2.juju-log Emitting Juju event update_status.
unit-opensearch-0: 02:50:17 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:50:17 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.32.19.28:9200
unit-opensearch-2: 02:50:17 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:50:17 DEBUG unit.opensearch/0.juju-log https://10.32.19.28:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:50:17 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.32.19.66:9200
unit-opensearch-2: 02:50:18 DEBUG unit.opensearch/2.juju-log https://10.32.19.66:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:50:18 DEBUG unit.opensearch/0.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-2: 02:50:18 DEBUG unit.opensearch/2.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-0: 02:50:18 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 02:50:18 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-self-signed-certificates-0: 02:50:19 DEBUG unit.self-signed-certificates/0.juju-log ops 2.14.0 up and running.
unit-self-signed-certificates-0: 02:50:19 DEBUG unit.self-signed-certificates/0.juju-log no relation on 'tracing': tracing not ready
unit-self-signed-certificates-0: 02:50:19 DEBUG unit.self-signed-certificates/0.juju-log Emitting Juju event update_status.

[31m[1mERROR   [0m integration.helpers_deployments:helpers_deployments.py:94