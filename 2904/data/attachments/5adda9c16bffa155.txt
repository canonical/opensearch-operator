[32mINFO    [0m pytest_operator.plugin:plugin.py:734 Connecting to existing model localhost-localhost:test on unspecified cloud
[32mINFO    [0m juju.model:model.py:2097 Deploying local:jammy/opensearch-0
[32mINFO    [0m juju.model:model.py:2097 Deploying ch:amd64/jammy/manual-tls-certificates-108
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:329 



[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:330 Model  Controller           Cloud/Region         Version  SLA          Timestamp
test   localhost-localhost  localhost/localhost  3.5.3    unsupported  02:23:08Z

App                      Version  Status   Scale  Charm                    Channel        Rev  Exposed  Message
manual-tls-certificates           waiting    0/1  manual-tls-certificates  latest/stable  108  no       waiting for machine
opensearch                        waiting    0/3  opensearch                                0  no       waiting for machine

Unit                       Workload  Agent       Machine  Public address  Ports  Message
manual-tls-certificates/0  waiting   allocating  3                               waiting for machine
opensearch/0               waiting   allocating  0                               waiting for machine
opensearch/1               waiting   allocating  1                               waiting for machine
opensearch/2               waiting   allocating  2                               waiting for machine

Machine  State    Address  Inst id  Base          AZ  Message
0        pending           pending  ubuntu@22.04      Creating container
1        pending           pending  ubuntu@22.04      Creating container
2        pending           pending  ubuntu@22.04      Creating container
3        pending           pending  ubuntu@22.04      Creating container

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:23:08 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: manual-tls-certificates - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:23:19 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: manual-tls-certificates - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:23:30 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:348 02:27:34 -- Waiting for model: complete.



[32mINFO    [0m integration.tls.test_manual_tls:test_manual_tls.py:44 Deployed manual-tls-certificates application
[32mINFO    [0m integration.tls.test_manual_tls:test_manual_tls.py:48 Integrated opensearch with manual-tls-certificates
[32mINFO    [0m integration.tls.test_manual_tls:test_manual_tls.py:54 Waiting for CSRs to be created
[32mINFO    [0m root:helpers_manual_tls.py:93 Getting outstanding certificate requests
[32mINFO    [0m root:helpers_manual_tls.py:93 Getting outstanding certificate requests
[32mINFO    [0m root:helpers_manual_tls.py:93 Getting outstanding certificate requests
[32mINFO    [0m root:helpers_manual_tls.py:93 Getting outstanding certificate requests
[32mINFO    [0m root:helpers_manual_tls.py:93 Getting outstanding certificate requests
[32mINFO    [0m root:helpers_manual_tls.py:93 Getting outstanding certificate requests
[32mINFO    [0m root:helpers_manual_tls.py:93 Getting outstanding certificate requests
[32mINFO    [0m root:helpers_manual_tls.py:93 Getting outstanding certificate requests
[32mINFO    [0m root:helpers_manual_tls.py:93 Getting outstanding certificate requests
[32mINFO    [0m root:helpers_manual_tls.py:93 Getting outstanding certificate requests
[32mINFO    [0m root:helpers_manual_tls.py:93 Getting outstanding certificate requests
[32mINFO    [0m root:helpers_manual_tls.py:93 Getting outstanding certificate requests
[32mINFO    [0m root:helpers_manual_tls.py:93 Getting outstanding certificate requests
[32mINFO    [0m root:helpers_manual_tls.py:93 Getting outstanding certificate requests
[32mINFO    [0m root:helpers_manual_tls.py:93 Getting outstanding certificate requests
[32mINFO    [0m root:helpers_manual_tls.py:93 Getting outstanding certificate requests
[32mINFO    [0m root:helpers_manual_tls.py:93 Getting outstanding certificate requests
[32mINFO    [0m root:helpers_manual_tls.py:93 Getting outstanding certificate requests
[32mINFO    [0m root:helpers_manual_tls.py:93 Getting outstanding certificate requests
[32mINFO    [0m root:helpers_manual_tls.py:93 Getting outstanding certificate requests
[32mINFO    [0m integration.tls.test_manual_tls:test_manual_tls.py:58 Signing CSRs
[32mINFO    [0m integration.tls.helpers_manual_tls:helpers_manual_tls.py:147 Generated certificate for opensearch/1
[32mINFO    [0m integration.tls.helpers_manual_tls:helpers_manual_tls.py:165 Provided certificate to opensearch/1
[32mINFO    [0m integration.tls.helpers_manual_tls:helpers_manual_tls.py:147 Generated certificate for opensearch/1
[32mINFO    [0m integration.tls.helpers_manual_tls:helpers_manual_tls.py:165 Provided certificate to opensearch/1
[32mINFO    [0m integration.tls.helpers_manual_tls:helpers_manual_tls.py:147 Generated certificate for opensearch/0
[32mINFO    [0m integration.tls.helpers_manual_tls:helpers_manual_tls.py:165 Provided certificate to opensearch/0
[32mINFO    [0m integration.tls.helpers_manual_tls:helpers_manual_tls.py:147 Generated certificate for opensearch/0
[32mINFO    [0m integration.tls.helpers_manual_tls:helpers_manual_tls.py:165 Provided certificate to opensearch/0
[32mINFO    [0m integration.tls.helpers_manual_tls:helpers_manual_tls.py:147 Generated certificate for opensearch/0
[32mINFO    [0m integration.tls.helpers_manual_tls:helpers_manual_tls.py:165 Provided certificate to opensearch/0
[32mINFO    [0m integration.tls.helpers_manual_tls:helpers_manual_tls.py:147 Generated certificate for opensearch/2
[32mINFO    [0m integration.tls.helpers_manual_tls:helpers_manual_tls.py:165 Provided certificate to opensearch/2
[32mINFO    [0m integration.tls.helpers_manual_tls:helpers_manual_tls.py:147 Generated certificate for opensearch/2
[32mINFO    [0m integration.tls.helpers_manual_tls:helpers_manual_tls.py:165 Provided certificate to opensearch/2
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:329 



[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:330 Model  Controller           Cloud/Region         Version  SLA          Timestamp
test   localhost-localhost  localhost/localhost  3.5.3    unsupported  02:33:23Z

App                      Version  Status       Scale  Charm                    Channel        Rev  Exposed  Message
manual-tls-certificates           active           1  manual-tls-certificates  latest/stable  108  no       No outstanding requests.
opensearch                        maintenance      3  opensearch                                0  no       Waiting for TLS to be fully configured...

Unit                        Workload     Agent      Machine  Public address  Ports  Message
manual-tls-certificates/0*  active       idle       3        10.181.102.173         No outstanding requests.
opensearch/0*               maintenance  executing  0        10.181.102.16          Waiting for TLS to be fully configured...
opensearch/1                maintenance  executing  1        10.181.102.178         Waiting for TLS to be fully configured...
opensearch/2                maintenance  executing  2        10.181.102.203         Waiting for TLS to be fully configured...

Machine  State    Address         Inst id        Base          AZ  Message
0        started  10.181.102.16   juju-4313e0-0  ubuntu@22.04      Running
1        started  10.181.102.178  juju-4313e0-1  ubuntu@22.04      Running
2        started  10.181.102.203  juju-4313e0-2  ubuntu@22.04      Running
3        started  10.181.102.173  juju-4313e0-3  ubuntu@22.04      Running

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:33:23 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.e94* -- (10.181.102.16) -- [executing (since: 02:33:22)] maintenance: Waiting for TLS to be fully configured...
		opensearch-1.e94  -- (10.181.102.178) -- [executing (since: 02:33:19)] maintenance: Waiting for TLS to be fully configured...
		opensearch-2.e94  -- (10.181.102.203) -- [executing (since: 02:33:21)] maintenance: Waiting for TLS to be fully configured...

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:33:35 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.e94* -- (10.181.102.16) -- [executing (since: 02:33:28)] waiting: Waiting for OpenSearch to start...
		opensearch-1.e94  -- (10.181.102.178) -- [executing (since: 02:33:35)] maintenance: Waiting for TLS to be fully configured...
		opensearch-2.e94  -- (10.181.102.203) -- [executing (since: 02:33:35)] waiting: Requesting lock on operation: start

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:33:47 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Initializing the security index...
		opensearch-0.e94* -- (10.181.102.16) -- [executing (since: 02:33:44)] maintenance: Initializing the security index...
		opensearch-1.e94  -- (10.181.102.178) -- [executing (since: 02:33:46)] waiting: Requesting lock on operation: start
		opensearch-2.e94  -- (10.181.102.203) -- [executing (since: 02:33:47)] waiting: Requesting lock on operation: start

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:33:59 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: Requesting lock on operation: start
		opensearch-0.e94* -- (10.181.102.16) -- [executing (since: 02:33:59)] active: 
		opensearch-1.e94  -- (10.181.102.178) -- [executing (since: 02:33:59)] waiting: Requesting lock on operation: start
		opensearch-2.e94  -- (10.181.102.203) -- [executing (since: 02:33:59)] waiting: Requesting lock on operation: start

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:34:10 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: Waiting for OpenSearch to start...
		opensearch-0.e94* -- (10.181.102.16) -- [idle (since: 02:34:07)] active: 
		opensearch-1.e94  -- (10.181.102.178) -- [executing (since: 02:33:59)] waiting: Waiting for OpenSearch to start...
		opensearch-2.e94  -- (10.181.102.203) -- [idle (since: 02:34:04)] waiting: Requesting lock on operation: start

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:34:22 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: Waiting for OpenSearch to start...
		opensearch-0.e94* -- (10.181.102.16) -- [idle (since: 02:34:22)] active: 
		opensearch-1.e94  -- (10.181.102.178) -- [idle (since: 02:34:21)] active: 
		opensearch-2.e94  -- (10.181.102.203) -- [executing (since: 02:34:17)] waiting: Waiting for OpenSearch to start...

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:34:34 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: Waiting for OpenSearch to start...
		opensearch-0.e94* -- (10.181.102.16) -- [idle (since: 02:34:22)] active: 
		opensearch-1.e94  -- (10.181.102.178) -- [idle (since: 02:34:21)] active: 
		opensearch-2.e94  -- (10.181.102.203) -- [executing (since: 02:34:17)] waiting: Waiting for OpenSearch to start...

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:34:47 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.e94* -- (10.181.102.16) -- [idle (since: 02:34:43)] active: 
		opensearch-1.e94  -- (10.181.102.178) -- [idle (since: 02:34:42)] active: 
		opensearch-2.e94  -- (10.181.102.203) -- [idle (since: 02:34:42)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:34:58 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.e94* -- (10.181.102.16) -- [idle (since: 02:34:43)] active: 
		opensearch-1.e94  -- (10.181.102.178) -- [idle (since: 02:34:42)] active: 
		opensearch-2.e94  -- (10.181.102.203) -- [idle (since: 02:34:42)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:35:10 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.e94* -- (10.181.102.16) -- [idle (since: 02:34:43)] active: 
		opensearch-1.e94  -- (10.181.102.178) -- [idle (since: 02:34:42)] active: 
		opensearch-2.e94  -- (10.181.102.203) -- [idle (since: 02:34:42)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:35:21 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:348 02:35:23 -- Waiting for model: complete.



[32mINFO    [0m integration.tls.test_manual_tls:test_manual_tls.py:72 Scaling up the application by adding a new unit
[32mINFO    [0m integration.tls.test_manual_tls:test_manual_tls.py:76 Waiting for the new unit to be in maintenance waiting for certificates
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:329 



[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:330 Model  Controller           Cloud/Region         Version  SLA          Timestamp
test   localhost-localhost  localhost/localhost  3.5.3    unsupported  02:35:23Z

App                      Version  Status   Scale  Charm                    Channel        Rev  Exposed  Message
manual-tls-certificates           active       1  manual-tls-certificates  latest/stable  108  no       No outstanding requests.
opensearch                        waiting    3/4  opensearch                                0  no       waiting for machine

Unit                        Workload  Agent       Machine  Public address  Ports     Message
manual-tls-certificates/0*  active    idle        3        10.181.102.173            No outstanding requests.
opensearch/0*               active    idle        0        10.181.102.16   9200/tcp  
opensearch/1                active    idle        1        10.181.102.178  9200/tcp  
opensearch/2                active    idle        2        10.181.102.203  9200/tcp  
opensearch/3                waiting   allocating  4                                  waiting for machine

Machine  State    Address         Inst id        Base          AZ  Message
0        started  10.181.102.16   juju-4313e0-0  ubuntu@22.04      Running
1        started  10.181.102.178  juju-4313e0-1  ubuntu@22.04      Running
2        started  10.181.102.203  juju-4313e0-2  ubuntu@22.04      Running
3        started  10.181.102.173  juju-4313e0-3  ubuntu@22.04      Running
4        pending                  pending        ubuntu@22.04      

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:35:23 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:251 opensearch -- expected units: 4 -- current: 3
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:35:35 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch waiting -- message: waiting for machine
		opensearch-0.e94* -- (10.181.102.16) -- [idle (since: 02:34:43)] active: 
		opensearch-1.e94  -- (10.181.102.178) -- [idle (since: 02:34:42)] active: 
		opensearch-2.e94  -- (10.181.102.203) -- [idle (since: 02:34:42)] active: 
		opensearch-3.e94  -- (10.181.102.238) -- [allocating (since: 02:35:23)] waiting: waiting for machine

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:36:52 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch maintenance -- message: Installing OpenSearch...
		opensearch-0.e94* -- (10.181.102.16) -- [idle (since: 02:34:43)] active: 
		opensearch-1.e94  -- (10.181.102.178) -- [idle (since: 02:34:42)] active: 
		opensearch-2.e94  -- (10.181.102.203) -- [idle (since: 02:34:42)] active: 
		opensearch-3.e94  -- (10.181.102.238) -- [executing (since: 02:36:50)] maintenance: Installing OpenSearch...

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:37:05 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch maintenance -- message: Installing OpenSearch...
		opensearch-0.e94* -- (10.181.102.16) -- [idle (since: 02:34:43)] active: 
		opensearch-1.e94  -- (10.181.102.178) -- [idle (since: 02:34:42)] active: 
		opensearch-2.e94  -- (10.181.102.203) -- [idle (since: 02:34:42)] active: 
		opensearch-3.e94  -- (10.181.102.238) -- [executing (since: 02:36:50)] maintenance: Installing OpenSearch...

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:37:17 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch maintenance -- message: Installing OpenSearch...
		opensearch-0.e94* -- (10.181.102.16) -- [idle (since: 02:37:13)] active: 
		opensearch-1.e94  -- (10.181.102.178) -- [idle (since: 02:37:12)] active: 
		opensearch-2.e94  -- (10.181.102.203) -- [idle (since: 02:37:12)] active: 
		opensearch-3.e94  -- (10.181.102.238) -- [executing (since: 02:36:50)] maintenance: Installing OpenSearch...

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:37:29 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch maintenance -- message: Installing OpenSearch...
		opensearch-0.e94* -- (10.181.102.16) -- [idle (since: 02:37:13)] active: 
		opensearch-1.e94  -- (10.181.102.178) -- [idle (since: 02:37:12)] active: 
		opensearch-2.e94  -- (10.181.102.203) -- [idle (since: 02:37:12)] active: 
		opensearch-3.e94  -- (10.181.102.238) -- [executing (since: 02:36:50)] maintenance: Installing OpenSearch...

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:37:40 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch maintenance -- message: Installing OpenSearch...
		opensearch-0.e94* -- (10.181.102.16) -- [idle (since: 02:37:13)] active: 
		opensearch-1.e94  -- (10.181.102.178) -- [idle (since: 02:37:12)] active: 
		opensearch-2.e94  -- (10.181.102.203) -- [idle (since: 02:37:12)] active: 
		opensearch-3.e94  -- (10.181.102.238) -- [executing (since: 02:36:50)] maintenance: Installing OpenSearch...

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:37:53 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch maintenance -- message: Installing OpenSearch...
		opensearch-0.e94* -- (10.181.102.16) -- [idle (since: 02:37:13)] active: 
		opensearch-1.e94  -- (10.181.102.178) -- [idle (since: 02:37:12)] active: 
		opensearch-2.e94  -- (10.181.102.203) -- [idle (since: 02:37:12)] active: 
		opensearch-3.e94  -- (10.181.102.238) -- [executing (since: 02:36:50)] maintenance: Installing OpenSearch...

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:38:06 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch maintenance -- message: Installing OpenSearch...
		opensearch-0.e94* -- (10.181.102.16) -- [idle (since: 02:37:13)] active: 
		opensearch-1.e94  -- (10.181.102.178) -- [idle (since: 02:37:12)] active: 
		opensearch-2.e94  -- (10.181.102.203) -- [idle (since: 02:37:12)] active: 
		opensearch-3.e94  -- (10.181.102.238) -- [executing (since: 02:36:50)] maintenance: Installing OpenSearch...

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:38:18 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch maintenance -- message: Installing OpenSearch...
		opensearch-0.e94* -- (10.181.102.16) -- [idle (since: 02:37:13)] active: 
		opensearch-1.e94  -- (10.181.102.178) -- [idle (since: 02:37:12)] active: 
		opensearch-2.e94  -- (10.181.102.203) -- [idle (since: 02:37:12)] active: 
		opensearch-3.e94  -- (10.181.102.238) -- [executing (since: 02:36:50)] maintenance: Installing OpenSearch...

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:38:30 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.e94* -- (10.181.102.16) -- [idle (since: 02:38:27)] active: 
		opensearch-1.e94  -- (10.181.102.178) -- [idle (since: 02:38:25)] active: 
		opensearch-2.e94  -- (10.181.102.203) -- [idle (since: 02:38:25)] active: 
		opensearch-3.e94  -- (10.181.102.238) -- [executing (since: 02:38:29)] maintenance: Waiting for TLS to be fully configured...

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:38:42 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.e94* -- (10.181.102.16) -- [idle (since: 02:38:27)] active: 
		opensearch-1.e94  -- (10.181.102.178) -- [idle (since: 02:38:25)] active: 
		opensearch-2.e94  -- (10.181.102.203) -- [idle (since: 02:38:25)] active: 
		opensearch-3.e94  -- (10.181.102.238) -- [executing (since: 02:38:41)] maintenance: Waiting for TLS to be fully configured...

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:38:54 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.e94* -- (10.181.102.16) -- [idle (since: 02:38:27)] active: 
		opensearch-1.e94  -- (10.181.102.178) -- [idle (since: 02:38:25)] active: 
		opensearch-2.e94  -- (10.181.102.203) -- [idle (since: 02:38:25)] active: 
		opensearch-3.e94  -- (10.181.102.238) -- [idle (since: 02:38:49)] maintenance: Waiting for TLS to be fully configured...

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:39:07 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.e94* -- (10.181.102.16) -- [idle (since: 02:38:27)] active: 
		opensearch-1.e94  -- (10.181.102.178) -- [idle (since: 02:38:25)] active: 
		opensearch-2.e94  -- (10.181.102.203) -- [idle (since: 02:38:25)] active: 
		opensearch-3.e94  -- (10.181.102.238) -- [idle (since: 02:38:49)] maintenance: Waiting for TLS to be fully configured...

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:39:19 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:348 02:39:21 -- Waiting for model: complete.



[32mINFO    [0m integration.tls.test_manual_tls:test_manual_tls.py:85 Waiting for the new unit to request certificates
[32mINFO    [0m root:helpers_manual_tls.py:93 Getting outstanding certificate requests
[32mINFO    [0m integration.tls.test_manual_tls:test_manual_tls.py:89 Signing CSRs
[32mINFO    [0m integration.tls.helpers_manual_tls:helpers_manual_tls.py:147 Generated certificate for opensearch/3
[32mINFO    [0m integration.tls.helpers_manual_tls:helpers_manual_tls.py:165 Provided certificate to opensearch/3
[32mINFO    [0m integration.tls.helpers_manual_tls:helpers_manual_tls.py:147 Generated certificate for opensearch/3
[32mINFO    [0m integration.tls.helpers_manual_tls:helpers_manual_tls.py:165 Provided certificate to opensearch/3
[32mINFO    [0m integration.tls.test_manual_tls:test_manual_tls.py:93 Waiting for the new unit to be active
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:329 



[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:330 Model  Controller           Cloud/Region         Version  SLA          Timestamp
test   localhost-localhost  localhost/localhost  3.5.3    unsupported  02:39:24Z

App                      Version  Status       Scale  Charm                    Channel        Rev  Exposed  Message
manual-tls-certificates           active           1  manual-tls-certificates  latest/stable  108  no       No outstanding requests.
opensearch                        maintenance      4  opensearch                                0  no       Waiting for TLS to be fully configured...

Unit                        Workload     Agent      Machine  Public address  Ports     Message
manual-tls-certificates/0*  active       idle       3        10.181.102.173            No outstanding requests.
opensearch/0*               active       executing  0        10.181.102.16   9200/tcp  
opensearch/1                active       executing  1        10.181.102.178  9200/tcp  
opensearch/2                active       executing  2        10.181.102.203  9200/tcp  
opensearch/3                maintenance  executing  4        10.181.102.238            Waiting for TLS to be fully configured...

Machine  State    Address         Inst id        Base          AZ  Message
0        started  10.181.102.16   juju-4313e0-0  ubuntu@22.04      Running
1        started  10.181.102.178  juju-4313e0-1  ubuntu@22.04      Running
2        started  10.181.102.203  juju-4313e0-2  ubuntu@22.04      Running
3        started  10.181.102.173  juju-4313e0-3  ubuntu@22.04      Running
4        started  10.181.102.238  juju-4313e0-4  ubuntu@22.04      Running

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:39:24 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.e94* -- (10.181.102.16) -- [executing (since: 02:39:23)] active: 
		opensearch-1.e94  -- (10.181.102.178) -- [executing (since: 02:39:23)] active: 
		opensearch-2.e94  -- (10.181.102.203) -- [executing (since: 02:39:23)] active: 
		opensearch-3.e94  -- (10.181.102.238) -- [executing (since: 02:39:23)] maintenance: Waiting for TLS to be fully configured...

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:39:36 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.e94* -- (10.181.102.16) -- [executing (since: 02:39:35)] active: 
		opensearch-1.e94  -- (10.181.102.178) -- [executing (since: 02:39:34)] active: 
		opensearch-2.e94  -- (10.181.102.203) -- [idle (since: 02:39:36)] active: 
		opensearch-3.e94  -- (10.181.102.238) -- [executing (since: 02:39:35)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:39:48 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch waiting -- message: Waiting for OpenSearch to start...
		opensearch-0.e94* -- (10.181.102.16) -- [idle (since: 02:39:38)] active: 
		opensearch-1.e94  -- (10.181.102.178) -- [idle (since: 02:39:36)] active: 
		opensearch-2.e94  -- (10.181.102.203) -- [idle (since: 02:39:36)] active: 
		opensearch-3.e94  -- (10.181.102.238) -- [executing (since: 02:39:35)] waiting: Waiting for OpenSearch to start...

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:40:00 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.e94* -- (10.181.102.16) -- [executing (since: 02:39:58)] active: 
		opensearch-1.e94  -- (10.181.102.178) -- [executing (since: 02:40:00)] active: 
		opensearch-2.e94  -- (10.181.102.203) -- [executing (since: 02:39:59)] active: 
		opensearch-3.e94  -- (10.181.102.238) -- [idle (since: 02:39:58)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:40:13 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.e94* -- (10.181.102.16) -- [idle (since: 02:40:04)] active: 
		opensearch-1.e94  -- (10.181.102.178) -- [idle (since: 02:40:02)] active: 
		opensearch-2.e94  -- (10.181.102.203) -- [idle (since: 02:40:02)] active: 
		opensearch-3.e94  -- (10.181.102.238) -- [idle (since: 02:40:02)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:40:25 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.e94* -- (10.181.102.16) -- [idle (since: 02:40:04)] active: 
		opensearch-1.e94  -- (10.181.102.178) -- [idle (since: 02:40:02)] active: 
		opensearch-2.e94  -- (10.181.102.203) -- [idle (since: 02:40:02)] active: 
		opensearch-3.e94  -- (10.181.102.238) -- [idle (since: 02:40:02)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:40:37 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:348 02:40:39 -- Waiting for model: complete.
[32mINFO    [0m pytest_operator.plugin:plugin.py:862 Model status:

Model  Controller           Cloud/Region         Version  SLA          Timestamp
test   localhost-localhost  localhost/localhost  3.5.3    unsupported  02:40:39Z

App                      Version  Status  Scale  Charm                    Channel        Rev  Exposed  Message
manual-tls-certificates           active      1  manual-tls-certificates  latest/stable  108  no       No outstanding requests.
opensearch                        active      4  opensearch                                0  no       

Unit                        Workload  Agent  Machine  Public address  Ports     Message
manual-tls-certificates/0*  active    idle   3        10.181.102.173            No outstanding requests.
opensearch/0*               active    idle   0        10.181.102.16   9200/tcp  
opensearch/1                active    idle   1        10.181.102.178  9200/tcp  
opensearch/2                active    idle   2        10.181.102.203  9200/tcp  
opensearch/3                active    idle   4        10.181.102.238  9200/tcp  

Machine  State    Address         Inst id        Base          AZ  Message
0        started  10.181.102.16   juju-4313e0-0  ubuntu@22.04      Running
1        started  10.181.102.178  juju-4313e0-1  ubuntu@22.04      Running
2        started  10.181.102.203  juju-4313e0-2  ubuntu@22.04      Running
3        started  10.181.102.173  juju-4313e0-3  ubuntu@22.04      Running
4        started  10.181.102.238  juju-4313e0-4  ubuntu@22.04      Running

[32mINFO    [0m pytest_operator.plugin:plugin.py:868 Juju error logs:

machine-3: 02:26:41 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-3: 02:26:41 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-manual-tls-certificates-0: 02:26:41 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-0: 02:26:47 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-0: 02:26:47 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-opensearch-0: 02:26:47 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-2: 02:26:50 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-2: 02:26:50 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-opensearch-2: 02:26:50 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-1: 02:26:54 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-1: 02:26:54 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-opensearch-1: 02:26:54 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
unit-opensearch-1: 02:33:18 ERROR unit.opensearch/1.juju-log certificates:3: err:  / out: keytool error: java.lang.Exception: Keystore file does not exist: /var/snap/opensearch/current/etc/opensearch/certificates/ca.p12

unit-opensearch-0: 02:33:20 ERROR unit.opensearch/0.juju-log certificates:3: err:  / out: keytool error: java.lang.Exception: Keystore file does not exist: /var/snap/opensearch/current/etc/opensearch/certificates/ca.p12

unit-opensearch-2: 02:33:23 ERROR unit.opensearch/2.juju-log certificates:3: err:  / out: keytool error: java.lang.Exception: Keystore file does not exist: /var/snap/opensearch/current/etc/opensearch/certificates/ca.p12

unit-opensearch-0: 02:33:27 ERROR unit.opensearch/0.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-0: 02:33:28 ERROR unit.opensearch/0.juju-log node-lock-fallback:2: Cannot connect to the OpenSearch server...
unit-opensearch-0: 02:33:29 ERROR unit.opensearch/0.juju-log node-lock-fallback:2: Cannot connect to the OpenSearch server...
unit-opensearch-0: 02:33:29 ERROR unit.opensearch/0.juju-log node-lock-fallback:2: Cannot connect to the OpenSearch server...
unit-opensearch-0: 02:33:32 ERROR unit.opensearch/0.juju-log node-lock-fallback:2: Cannot connect to the OpenSearch server...
unit-opensearch-2: 02:33:32 ERROR unit.opensearch/2.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-2: 02:33:33 ERROR unit.opensearch/2.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-2: 02:33:34 ERROR unit.opensearch/2.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-2: 02:33:35 ERROR unit.opensearch/2.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-0: 02:33:35 ERROR unit.opensearch/0.juju-log node-lock-fallback:2: Cannot connect to the OpenSearch server...
unit-opensearch-2: 02:33:36 ERROR unit.opensearch/2.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-2: 02:33:37 ERROR unit.opensearch/2.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-2: 02:33:38 ERROR unit.opensearch/2.juju-log node-lock-fallback:2: Cannot connect to the OpenSearch server...
unit-opensearch-0: 02:33:38 ERROR unit.opensearch/0.juju-log node-lock-fallback:2: Cannot connect to the OpenSearch server...
unit-opensearch-2: 02:33:39 ERROR unit.opensearch/2.juju-log node-lock-fallback:2: Cannot connect to the OpenSearch server...
unit-opensearch-0: 02:33:41 ERROR unit.opensearch/0.juju-log node-lock-fallback:2: Cannot connect to the OpenSearch server...
unit-opensearch-2: 02:33:43 ERROR unit.opensearch/2.juju-log opensearch-peers:1: Cannot connect to the OpenSearch server...
unit-opensearch-2: 02:33:45 ERROR unit.opensearch/2.juju-log node-lock-fallback:2: Cannot connect to the OpenSearch server...
unit-opensearch-1: 02:33:45 ERROR unit.opensearch/1.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-2: 02:33:46 ERROR unit.opensearch/2.juju-log node-lock-fallback:2: Cannot connect to the OpenSearch server...
unit-opensearch-1: 02:33:46 ERROR unit.opensearch/1.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-2: 02:33:47 ERROR unit.opensearch/2.juju-log node-lock-fallback:2: Cannot connect to the OpenSearch server...
unit-opensearch-1: 02:33:47 ERROR unit.opensearch/1.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-2: 02:33:48 ERROR unit.opensearch/2.juju-log opensearch-peers:1: Cannot connect to the OpenSearch server...
unit-opensearch-1: 02:33:48 ERROR unit.opensearch/1.juju-log node-lock-fallback:2: Cannot connect to the OpenSearch server...
unit-opensearch-2: 02:33:49 ERROR unit.opensearch/2.juju-log opensearch-peers:1: Cannot connect to the OpenSearch server...
unit-opensearch-1: 02:33:49 ERROR unit.opensearch/1.juju-log node-lock-fallback:2: Cannot connect to the OpenSearch server...
unit-opensearch-1: 02:33:50 ERROR unit.opensearch/1.juju-log node-lock-fallback:2: Cannot connect to the OpenSearch server...
unit-opensearch-2: 02:33:50 ERROR unit.opensearch/2.juju-log opensearch-peers:1: Cannot connect to the OpenSearch server...
unit-opensearch-1: 02:33:51 ERROR unit.opensearch/1.juju-log opensearch-peers:1: Cannot connect to the OpenSearch server...
unit-opensearch-1: 02:33:51 ERROR unit.opensearch/1.juju-log opensearch-peers:1: Cannot connect to the OpenSearch server...
unit-opensearch-1: 02:33:52 ERROR unit.opensearch/1.juju-log opensearch-peers:1: Cannot connect to the OpenSearch server...
unit-opensearch-1: 02:33:55 ERROR unit.opensearch/1.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-2: 02:33:55 ERROR unit.opensearch/2.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-2: 02:33:59 ERROR unit.opensearch/2.juju-log opensearch-peers:1: Cannot connect to the OpenSearch server...
unit-opensearch-1: 02:33:59 ERROR unit.opensearch/1.juju-log opensearch-peers:1: Cannot connect to the OpenSearch server...
unit-opensearch-1: 02:34:00 ERROR unit.opensearch/1.juju-log opensearch-peers:1: Cannot connect to the OpenSearch server...
unit-opensearch-2: 02:34:01 ERROR unit.opensearch/2.juju-log upgrade-version-a:0: Cannot connect to the OpenSearch server...
unit-opensearch-2: 02:34:02 ERROR unit.opensearch/2.juju-log opensearch-peers:1: Cannot connect to the OpenSearch server...
unit-opensearch-2: 02:34:03 ERROR unit.opensearch/2.juju-log node-lock-fallback:2: Cannot connect to the OpenSearch server...
unit-opensearch-2: 02:34:17 ERROR unit.opensearch/2.juju-log node-lock-fallback:2: Cannot connect to the OpenSearch server...
unit-opensearch-2: 02:34:19 ERROR unit.opensearch/2.juju-log node-lock-fallback:2: Cannot connect to the OpenSearch server...
machine-4: 02:36:39 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-4: 02:36:39 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-opensearch-3: 02:36:39 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
unit-opensearch-3: 02:39:24 ERROR unit.opensearch/3.juju-log certificates:3: err:  / out: keytool error: java.lang.Exception: Keystore file does not exist: /var/snap/opensearch/current/etc/opensearch/certificates/ca.p12

unit-opensearch-3: 02:39:36 ERROR unit.opensearch/3.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-3: 02:39:38 ERROR unit.opensearch/3.juju-log Cannot connect to the OpenSearch server...

[32mINFO    [0m pytest_operator.plugin:plugin.py:947 Forgetting model main...