[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:329 



[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:330 Model  Controller           Cloud/Region         Version  SLA          Timestamp
test   localhost-localhost  localhost/localhost  3.4.4    unsupported  02:34:11Z

App                       Version  Status   Scale  Charm                     Channel        Rev  Exposed  Message
grafana-agent                      blocked      3  grafana-agent             latest/edge    223  no       Missing ['grafana-cloud-config']|['grafana-dashboards-provider']|['logging-consumer']|['send-remote-write'] for cos-a...
opensearch                         active       3  opensearch                                 0  no       
self-signed-certificates           active       1  self-signed-certificates  latest/stable  155  no       

Unit                         Workload  Agent      Machine  Public address  Ports     Message
opensearch/0                 active    executing  1        10.233.235.166  9200/tcp  (config-changed) 
  grafana-agent/3            blocked   idle                10.233.235.166            Missing ['grafana-cloud-config']|['grafana-dashboards-provider']|['logging-consumer']|['send-remote-write'] for cos-a...
opensearch/1                 active    executing  2        10.233.235.164  9200/tcp  (config-changed) 
  grafana-agent/1            blocked   idle                10.233.235.164            Missing ['grafana-cloud-config']|['grafana-dashboards-provider']|['logging-consumer']|['send-remote-write'] for cos-a...
opensearch/2*                active    executing  3        10.233.235.243  9200/tcp  (config-changed) 
  grafana-agent/0*           blocked   idle                10.233.235.243            Missing ['grafana-cloud-config']|['grafana-dashboards-provider']|['logging-consumer']|['send-remote-write'] for cos-a...
self-signed-certificates/0*  active    idle       0        10.233.235.195            

Machine  State    Address         Inst id        Base          AZ  Message
0        started  10.233.235.195  juju-25e753-0  ubuntu@22.04      Running
1        started  10.233.235.166  juju-25e753-1  ubuntu@22.04      Running
2        started  10.233.235.164  juju-25e753-2  ubuntu@22.04      Running
3        started  10.233.235.243  juju-25e753-3  ubuntu@22.04      Running

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:34:11 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [executing (since: 02:34:11)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [executing (since: 02:34:11)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [executing (since: 02:34:11)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:34:24 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Plugin configuration check.
		opensearch-0.bac  -- (10.233.235.166) -- [executing (since: 02:34:11)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [executing (since: 02:34:11)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [executing (since: 02:34:11)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:34:38 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Plugin configuration check.
		opensearch-0.bac  -- (10.233.235.166) -- [executing (since: 02:34:11)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [executing (since: 02:34:11)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [executing (since: 02:34:11)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:34:50 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Plugin configuration check.
		opensearch-0.bac  -- (10.233.235.166) -- [executing (since: 02:34:11)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [executing (since: 02:34:11)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [executing (since: 02:34:11)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:35:03 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Plugin configuration check.
		opensearch-0.bac  -- (10.233.235.166) -- [executing (since: 02:34:11)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [executing (since: 02:34:11)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [executing (since: 02:34:11)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:35:16 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Plugin configuration check.
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:35:12)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:35:11)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [executing (since: 02:34:11)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:35:29 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Plugin configuration check.
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:35:12)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:35:11)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [executing (since: 02:34:11)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:35:42 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Plugin configuration check.
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:35:12)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:35:11)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [executing (since: 02:34:11)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:35:55 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Plugin configuration check.
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:35:12)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:35:11)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [executing (since: 02:34:11)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:36:07 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Plugin configuration check.
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:35:12)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:35:11)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [executing (since: 02:34:11)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:36:20 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Plugin configuration check.
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:35:12)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:35:11)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [executing (since: 02:34:11)] waiting: Waiting for OpenSearch to start...

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:36:33 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Plugin configuration check.
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:35:12)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:35:11)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [executing (since: 02:34:11)] waiting: Waiting for OpenSearch to start...

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:36:47 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:36:44)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:36:44)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [executing (since: 02:34:11)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:37:00 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:36:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:36:44)] waiting: Waiting for OpenSearch to start...
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:36:51)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:37:13 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:36:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:36:44)] waiting: Waiting for OpenSearch to start...
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:36:51)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:37:26 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [executing (since: 02:37:20)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [executing (since: 02:37:21)] waiting: Waiting for OpenSearch to start...
		opensearch-2.bac* -- (10.233.235.243) -- [executing (since: 02:37:20)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:37:40 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch blocked -- message: 1 or more 'replica' shards are not assigned, please scale your application up.
		opensearch-0.bac  -- (10.233.235.166) -- [executing (since: 02:37:20)] waiting: The OpenSearch service stopped.
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:37:36)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [executing (since: 02:37:31)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:37:53 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch blocked -- message: 1 or more 'replica' shards are not assigned, please scale your application up.
		opensearch-0.bac  -- (10.233.235.166) -- [executing (since: 02:37:20)] waiting: The OpenSearch service stopped.
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:37:36)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [executing (since: 02:37:31)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:38:05 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch blocked -- message: 1 or more 'replica' shards are not assigned, please scale your application up.
		opensearch-0.bac  -- (10.233.235.166) -- [executing (since: 02:37:20)] waiting: The OpenSearch service stopped.
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:37:36)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [executing (since: 02:37:31)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:38:18 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch blocked -- message: 1 or more 'replica' shards are not assigned, please scale your application up.
		opensearch-0.bac  -- (10.233.235.166) -- [executing (since: 02:37:20)] waiting: The OpenSearch service stopped.
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:37:36)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [executing (since: 02:37:31)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:38:30 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch blocked -- message: 1 or more 'replica' shards are not assigned, please scale your application up.
		opensearch-0.bac  -- (10.233.235.166) -- [executing (since: 02:37:20)] waiting: The OpenSearch service stopped.
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:37:36)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [executing (since: 02:37:31)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:38:44 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [executing (since: 02:37:20)] waiting: Waiting for OpenSearch to start...
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:37:36)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:38:44)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:38:57 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [executing (since: 02:37:20)] waiting: Waiting for OpenSearch to start...
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:37:36)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:38:44)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:39:11 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [executing (since: 02:37:20)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:39:08)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [executing (since: 02:39:02)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:39:23 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:39:15)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:39:17)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:39:21)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:39:36 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:39:15)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:39:17)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:39:21)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:39:49 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:39:15)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:39:17)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:39:21)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:40:02 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:39:15)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:39:17)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:39:21)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:40:14 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:39:15)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:39:17)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:39:21)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:40:27 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:39:15)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:39:17)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:39:21)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:40:40 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:348 02:40:43 -- Waiting for model: complete.



[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:329 



[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:330 Model  Controller           Cloud/Region         Version  SLA          Timestamp
test   localhost-localhost  localhost/localhost  3.4.4    unsupported  02:40:43Z

App                       Version  Status   Scale  Charm                     Channel        Rev  Exposed  Message
grafana-agent                      blocked      3  grafana-agent             latest/edge    223  no       Missing ['grafana-cloud-config']|['grafana-dashboards-provider']|['logging-consumer']|['send-remote-write'] for cos-a...
opensearch                         active       3  opensearch                                 0  no       
self-signed-certificates           active       1  self-signed-certificates  latest/stable  155  no       

Unit                         Workload  Agent      Machine  Public address  Ports     Message
opensearch/0                 active    executing  1        10.233.235.166  9200/tcp  (config-changed) 
  grafana-agent/3            blocked   idle                10.233.235.166            Missing ['grafana-cloud-config']|['grafana-dashboards-provider']|['logging-consumer']|['send-remote-write'] for cos-a...
opensearch/1                 active    executing  2        10.233.235.164  9200/tcp  (config-changed) 
  grafana-agent/1            blocked   idle                10.233.235.164            Missing ['grafana-cloud-config']|['grafana-dashboards-provider']|['logging-consumer']|['send-remote-write'] for cos-a...
opensearch/2*                active    idle       3        10.233.235.243  9200/tcp  
  grafana-agent/0*           blocked   idle                10.233.235.243            Missing ['grafana-cloud-config']|['grafana-dashboards-provider']|['logging-consumer']|['send-remote-write'] for cos-a...
self-signed-certificates/0*  active    idle       0        10.233.235.195            

Machine  State    Address         Inst id        Base          AZ  Message
0        started  10.233.235.195  juju-25e753-0  ubuntu@22.04      Running
1        started  10.233.235.166  juju-25e753-1  ubuntu@22.04      Running
2        started  10.233.235.164  juju-25e753-2  ubuntu@22.04      Running
3        started  10.233.235.243  juju-25e753-3  ubuntu@22.04      Running

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:40:43 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [executing (since: 02:40:43)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [executing (since: 02:40:43)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:39:21)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:40:56 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Plugin configuration check.
		opensearch-0.bac  -- (10.233.235.166) -- [executing (since: 02:40:43)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [executing (since: 02:40:43)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [executing (since: 02:40:44)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:41:10 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Plugin configuration check.
		opensearch-0.bac  -- (10.233.235.166) -- [executing (since: 02:40:43)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [executing (since: 02:40:43)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [executing (since: 02:40:44)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:41:22 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [executing (since: 02:40:43)] waiting: The OpenSearch service stopped.
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:41:16)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [executing (since: 02:40:44)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:41:35 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [executing (since: 02:40:43)] waiting: The OpenSearch service stopped.
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:41:16)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [executing (since: 02:40:44)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:41:47 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [executing (since: 02:40:43)] waiting: The OpenSearch service stopped.
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:41:16)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [executing (since: 02:40:44)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:42:01 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [executing (since: 02:40:43)] waiting: The OpenSearch service stopped.
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:41:16)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [executing (since: 02:40:44)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:42:14 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [executing (since: 02:40:43)] waiting: The OpenSearch service stopped.
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:41:16)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [executing (since: 02:40:44)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:42:28 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [executing (since: 02:40:43)] waiting: Waiting for OpenSearch to start...
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:41:16)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [executing (since: 02:40:44)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:42:42 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [executing (since: 02:40:43)] waiting: Waiting for OpenSearch to start...
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:41:16)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:42:29)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:42:55 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:42:52)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [executing (since: 02:42:46)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [executing (since: 02:42:47)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:43:09 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:42:52)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [executing (since: 02:42:46)] waiting: Waiting for OpenSearch to start...
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:08)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:43:22 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:42:52)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [executing (since: 02:42:46)] waiting: Waiting for OpenSearch to start...
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:08)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:43:35 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [executing (since: 02:43:32)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [executing (since: 02:42:46)] waiting: Waiting for OpenSearch to start...
		opensearch-2.bac* -- (10.233.235.243) -- [executing (since: 02:43:32)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:43:48 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:46)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:42)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [executing (since: 02:43:32)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:44:01 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:44:15 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:44:28 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:44:40 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:44:53 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:45:05 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:45:18 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:45:31 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:45:44 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:45:56 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:46:08 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:46:22 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:46:35 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:46:47 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:47:00 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:47:12 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:47:26 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:47:39 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:47:51 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:48:03 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:48:16 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:48:29 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:48:42 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:48:54 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:49:07 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:49:19 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:49:33 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:49:46 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:49:58 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:50:10 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:50:23 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:50:36 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:50:49 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:51:01 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:51:14 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:51:26 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:51:40 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:51:52 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:52:05 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:52:17 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:52:29 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:52:43 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:52:56 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:53:08 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:53:21 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:53:33 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:53:46 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:53:59 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:54:12 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:54:24 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:54:36 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:54:49 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:55:02 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:55:15 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:55:27 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:55:39 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:55:53 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:56:05 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:56:18 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:56:30 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:56:43 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:56:56 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:57:10 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:57:22 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:57:35 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:57:47 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:58:00 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:58:13 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:58:25 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:58:38 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:58:50 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:59:03 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:59:16 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:59:28 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:59:41 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:59:53 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


03:00:07 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


03:00:19 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


03:00:32 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


03:00:44 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.bac  -- (10.233.235.166) -- [idle (since: 02:43:55)] active: 
		opensearch-1.bac  -- (10.233.235.164) -- [idle (since: 02:43:55)] active: 
		opensearch-2.bac* -- (10.233.235.243) -- [idle (since: 02:43:56)] waiting: The OpenSearch service stopped.

[31m[1mERROR   [0m integration.helpers_deployments:helpers_deployments.py:352 wait_until -- Timed out!



[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:353 Model  Controller           Cloud/Region         Version  SLA          Timestamp
test   localhost-localhost  localhost/localhost  3.4.4    unsupported  03:00:47Z

App                       Version  Status   Scale  Charm                     Channel        Rev  Exposed  Message
grafana-agent                      blocked      3  grafana-agent             latest/edge    223  no       Missing ['grafana-cloud-config']|['grafana-dashboards-provider']|['logging-consumer']|['send-remote-write'] for cos-a...
opensearch                         active       3  opensearch                                 0  no       
self-signed-certificates           active       1  self-signed-certificates  latest/stable  155  no       

Unit                         Workload  Agent  Machine  Public address  Ports     Message
opensearch/0                 active    idle   1        10.233.235.166  9200/tcp  
  grafana-agent/3            blocked   idle            10.233.235.166            Missing ['grafana-cloud-config']|['grafana-dashboards-provider']|['logging-consumer']|['send-remote-write'] for cos-a...
opensearch/1                 active    idle   2        10.233.235.164  9200/tcp  
  grafana-agent/1            blocked   idle            10.233.235.164            Missing ['grafana-cloud-config']|['grafana-dashboards-provider']|['logging-consumer']|['send-remote-write'] for cos-a...
opensearch/2*                waiting   idle   3        10.233.235.243  9200/tcp  The OpenSearch service stopped.
  grafana-agent/0*           blocked   idle            10.233.235.243            Missing ['grafana-cloud-config']|['grafana-dashboards-provider']|['logging-consumer']|['send-remote-write'] for cos-a...
self-signed-certificates/0*  active    idle   0        10.233.235.195            

Machine  State    Address         Inst id        Base          AZ  Message
0        started  10.233.235.195  juju-25e753-0  ubuntu@22.04      Running
1        started  10.233.235.166  juju-25e753-1  ubuntu@22.04      Running
2        started  10.233.235.164  juju-25e753-2  ubuntu@22.04      Running
3        started  10.233.235.243  juju-25e753-3  ubuntu@22.04      Running

[31m[1mERROR   [0m integration.helpers_deployments:helpers_deployments.py:92 Dumping juju logs for all:
[31m[1mERROR   [0m integration.helpers_deployments:helpers_deployments.py:93 unit-opensearch-2: 02:56:21 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:21 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:56:21 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:56:21 DEBUG unit.opensearch/2.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-2: 02:56:21 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:21 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:56:21 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:56:21 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:21 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:56:21 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:56:21 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:21 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:56:21 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:56:21 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:21 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:56:21 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:56:21 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:21 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:56:21 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET /_nodes HTTP/11" 200 50765
unit-opensearch-2: 02:56:21 DEBUG unit.opensearch/2.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-2: 02:56:21 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:21 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:56:21 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:56:21 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:21 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:56:21 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:56:21 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:21 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:56:21 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:56:21 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:21 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:56:21 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:56:21 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:56:21 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:21 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:56:21 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:56:21 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:21 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:56:21 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:56:21 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:21 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:56:21 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:56:21 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:21 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:56:21 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:56:21 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:21 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:56:21 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:56:21 ERROR unit.opensearch/2.juju-log Request GET to https://10.233.235.166:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.233.235.166:9200/.charm_node_lock/_source/0
unit-opensearch-2: 02:56:22 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:22 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:56:22 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:56:22 ERROR unit.opensearch/2.juju-log Request GET to https://10.233.235.166:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.233.235.166:9200/.charm_node_lock/_source/0
unit-opensearch-2: 02:56:23 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:23 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:56:23 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:56:23 ERROR unit.opensearch/2.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.233.235.166:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-2: 02:56:23 DEBUG unit.opensearch/2.juju-log Lock to start opensearch not acquired. Will retry next event
unit-opensearch-2: 02:56:23 DEBUG unit.opensearch/2.juju-log Deferring <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[546]>.
unit-opensearch-2: 02:56:24 DEBUG unit.opensearch/2.juju-log Emitting Juju event update_status.
unit-opensearch-2: 02:56:24 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:56:24 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-3: 02:56:24 DEBUG unit.grafana-agent/3.juju-log ops 2.14.1 up and running.
unit-grafana-agent-3: 02:56:24 DEBUG unit.grafana-agent/3.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-1: 02:56:24 DEBUG unit.grafana-agent/1.juju-log ops 2.14.1 up and running.
unit-grafana-agent-3: 02:56:24 DEBUG unit.grafana-agent/3.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x70b6bd57ea20> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-3: 02:56:24 DEBUG unit.grafana-agent/3.juju-log Emitting Juju event update_status.
unit-grafana-agent-1: 02:56:24 DEBUG unit.grafana-agent/1.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-1: 02:56:24 DEBUG unit.grafana-agent/1.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x7368d2982a20> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-1: 02:56:24 DEBUG unit.grafana-agent/1.juju-log Emitting Juju event update_status.
unit-grafana-agent-3: 02:56:24 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-1: 02:56:24 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-0: 02:56:24 DEBUG unit.grafana-agent/0.juju-log ops 2.14.1 up and running.
unit-grafana-agent-0: 02:56:24 DEBUG unit.grafana-agent/0.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-0: 02:56:24 DEBUG unit.grafana-agent/0.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x78d4f197ebb0> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-0: 02:56:24 DEBUG unit.grafana-agent/0.juju-log Emitting Juju event update_status.
unit-opensearch-1: 02:56:25 DEBUG unit.opensearch/1.juju-log ops 2.14.1 up and running.
unit-grafana-agent-0: 02:56:25 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-0: 02:56:25 DEBUG unit.opensearch/0.juju-log ops 2.14.1 up and running.
unit-opensearch-1: 02:56:25 DEBUG unit.opensearch/1.juju-log Emitting Juju event update_status.
unit-opensearch-0: 02:56:25 DEBUG unit.opensearch/0.juju-log Emitting Juju event update_status.
unit-opensearch-1: 02:56:25 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:56:25 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:56:25 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-0: 02:56:25 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-1: 02:56:25 DEBUG unit.opensearch/1.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:56:25 DEBUG unit.opensearch/0.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:56:25 DEBUG unit.opensearch/1.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-0: 02:56:25 DEBUG unit.opensearch/0.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-0: 02:56:25 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-1: 02:56:25 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-self-signed-certificates-0: 02:56:28 DEBUG unit.self-signed-certificates/0.juju-log ops 2.14.0 up and running.
unit-self-signed-certificates-0: 02:56:28 DEBUG unit.self-signed-certificates/0.juju-log no relation on 'tracing': tracing not ready
unit-self-signed-certificates-0: 02:56:28 DEBUG unit.self-signed-certificates/0.juju-log Emitting Juju event update_status.
unit-self-signed-certificates-0: 02:56:28 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 02:56:32 DEBUG unit.opensearch/2.juju-log ops 2.14.1 up and running.
unit-opensearch-2: 02:56:32 DEBUG unit.opensearch/2.juju-log Re-emitting deferred event <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[546]>.
unit-opensearch-2: 02:56:32 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:56:32 ERROR unit.opensearch/2.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-2: 02:56:32 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:56:32 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:32 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:56:32 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:56:32 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:32 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:56:32 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:56:32 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:32 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:56:32 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:56:32 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:32 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:56:32 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:56:32 DEBUG unit.opensearch/2.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-2: 02:56:32 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:32 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:56:32 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:56:32 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:32 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:56:32 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:56:32 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:32 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:56:32 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:56:32 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:32 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:56:32 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:56:32 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:32 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:56:32 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET /_nodes HTTP/11" 200 50765
unit-opensearch-2: 02:56:32 DEBUG unit.opensearch/2.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-2: 02:56:32 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:32 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:56:32 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:56:32 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:32 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:56:32 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:56:32 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:32 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:56:32 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:56:32 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:32 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:56:32 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:56:32 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:56:32 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:32 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:56:32 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:56:32 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:32 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:56:32 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:56:32 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:32 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:56:32 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:56:32 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:32 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:56:32 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:56:32 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:32 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:56:33 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:56:33 ERROR unit.opensearch/2.juju-log Request GET to https://10.233.235.166:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.233.235.166:9200/.charm_node_lock/_source/0
unit-opensearch-2: 02:56:34 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:34 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:56:34 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:56:34 ERROR unit.opensearch/2.juju-log Request GET to https://10.233.235.166:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.233.235.166:9200/.charm_node_lock/_source/0
unit-grafana-agent-3: 02:56:34 DEBUG unit.grafana-agent/3.juju-log ops 2.14.1 up and running.
unit-grafana-agent-3: 02:56:34 DEBUG unit.grafana-agent/3.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-3: 02:56:34 DEBUG unit.grafana-agent/3.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x70f628f7ab10> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-3: 02:56:34 DEBUG unit.grafana-agent/3.juju-log Emitting Juju event update_status.
unit-grafana-agent-1: 02:56:34 DEBUG unit.grafana-agent/1.juju-log ops 2.14.1 up and running.
unit-grafana-agent-1: 02:56:34 DEBUG unit.grafana-agent/1.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-1: 02:56:34 DEBUG unit.grafana-agent/1.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x75bd6e38abb0> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-1: 02:56:34 DEBUG unit.grafana-agent/1.juju-log Emitting Juju event update_status.
unit-grafana-agent-3: 02:56:34 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-1: 02:56:34 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 02:56:35 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:35 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:56:35 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:56:35 ERROR unit.opensearch/2.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.233.235.166:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-2: 02:56:35 DEBUG unit.opensearch/2.juju-log Lock to start opensearch not acquired. Will retry next event
unit-opensearch-2: 02:56:35 DEBUG unit.opensearch/2.juju-log Deferring <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[546]>.
unit-opensearch-2: 02:56:35 DEBUG unit.opensearch/2.juju-log Emitting Juju event update_status.
unit-opensearch-2: 02:56:35 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-0: 02:56:35 DEBUG unit.opensearch/0.juju-log ops 2.14.1 up and running.
unit-opensearch-1: 02:56:35 DEBUG unit.opensearch/1.juju-log ops 2.14.1 up and running.
unit-opensearch-0: 02:56:35 DEBUG unit.opensearch/0.juju-log Emitting Juju event update_status.
unit-opensearch-2: 02:56:35 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-0: 02:56:35 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:56:35 DEBUG unit.opensearch/1.juju-log Emitting Juju event update_status.
unit-opensearch-0: 02:56:35 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-1: 02:56:35 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:56:35 DEBUG unit.opensearch/0.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:56:35 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-1: 02:56:35 DEBUG unit.opensearch/1.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:56:35 DEBUG unit.opensearch/0.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-1: 02:56:35 DEBUG unit.opensearch/1.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-0: 02:56:35 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-1: 02:56:35 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-0: 02:56:35 DEBUG unit.grafana-agent/0.juju-log ops 2.14.1 up and running.
unit-grafana-agent-0: 02:56:35 DEBUG unit.grafana-agent/0.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-0: 02:56:36 DEBUG unit.grafana-agent/0.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x7a402217ec50> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-0: 02:56:36 DEBUG unit.grafana-agent/0.juju-log Emitting Juju event update_status.
unit-grafana-agent-0: 02:56:36 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-self-signed-certificates-0: 02:56:39 DEBUG unit.self-signed-certificates/0.juju-log ops 2.14.0 up and running.
unit-self-signed-certificates-0: 02:56:39 DEBUG unit.self-signed-certificates/0.juju-log no relation on 'tracing': tracing not ready
unit-self-signed-certificates-0: 02:56:39 DEBUG unit.self-signed-certificates/0.juju-log Emitting Juju event update_status.
unit-self-signed-certificates-0: 02:56:39 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 02:56:43 DEBUG unit.opensearch/2.juju-log ops 2.14.1 up and running.
unit-opensearch-2: 02:56:43 DEBUG unit.opensearch/2.juju-log Re-emitting deferred event <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[546]>.
unit-opensearch-2: 02:56:43 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:56:43 ERROR unit.opensearch/2.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-2: 02:56:43 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:56:43 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:43 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:56:43 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:56:43 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:43 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:56:43 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:56:43 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:43 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:56:43 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:56:43 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:44 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:56:44 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:56:44 DEBUG unit.opensearch/2.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-2: 02:56:44 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:44 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:56:44 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:56:44 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:44 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:56:44 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:56:44 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:44 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:56:44 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:56:44 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:44 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:56:44 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:56:44 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:44 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:56:44 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /_nodes HTTP/11" 200 50765
unit-opensearch-2: 02:56:44 DEBUG unit.opensearch/2.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-2: 02:56:44 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:44 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:56:44 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:56:44 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:44 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:56:44 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:56:44 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:44 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:56:44 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:56:44 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:44 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:56:44 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:56:44 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:56:44 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:44 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:56:44 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:56:44 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:44 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:56:44 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:56:44 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:44 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:56:44 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:56:44 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:44 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:56:44 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:56:44 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:44 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:56:44 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:56:44 ERROR unit.opensearch/2.juju-log Request GET to https://10.233.235.166:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.233.235.166:9200/.charm_node_lock/_source/0
unit-opensearch-2: 02:56:45 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:45 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:56:45 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:56:45 ERROR unit.opensearch/2.juju-log Request GET to https://10.233.235.166:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.233.235.166:9200/.charm_node_lock/_source/0
unit-grafana-agent-1: 02:56:45 DEBUG unit.grafana-agent/1.juju-log ops 2.14.1 up and running.
unit-grafana-agent-1: 02:56:46 DEBUG unit.grafana-agent/1.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-1: 02:56:46 DEBUG unit.grafana-agent/1.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x726905d76c00> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-1: 02:56:46 DEBUG unit.grafana-agent/1.juju-log Emitting Juju event update_status.
unit-grafana-agent-3: 02:56:46 DEBUG unit.grafana-agent/3.juju-log ops 2.14.1 up and running.
unit-grafana-agent-3: 02:56:46 DEBUG unit.grafana-agent/3.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-3: 02:56:46 DEBUG unit.grafana-agent/3.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x774467c42b60> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-3: 02:56:46 DEBUG unit.grafana-agent/3.juju-log Emitting Juju event update_status.
unit-grafana-agent-1: 02:56:46 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-3: 02:56:46 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 02:56:46 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:46 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:56:46 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:56:46 ERROR unit.opensearch/2.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.233.235.166:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-2: 02:56:46 DEBUG unit.opensearch/2.juju-log Lock to start opensearch not acquired. Will retry next event
unit-opensearch-2: 02:56:46 DEBUG unit.opensearch/2.juju-log Deferring <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[546]>.
unit-opensearch-2: 02:56:46 DEBUG unit.opensearch/2.juju-log Emitting Juju event update_status.
unit-opensearch-2: 02:56:46 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-1: 02:56:46 DEBUG unit.opensearch/1.juju-log ops 2.14.1 up and running.
unit-opensearch-0: 02:56:47 DEBUG unit.opensearch/0.juju-log ops 2.14.1 up and running.
unit-opensearch-2: 02:56:47 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-1: 02:56:47 DEBUG unit.opensearch/1.juju-log Emitting Juju event update_status.
unit-opensearch-1: 02:56:47 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:56:47 DEBUG unit.opensearch/0.juju-log Emitting Juju event update_status.
unit-opensearch-1: 02:56:47 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-1: 02:56:47 DEBUG unit.opensearch/1.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:56:47 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:56:47 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-1: 02:56:47 DEBUG unit.opensearch/1.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-0: 02:56:47 DEBUG unit.opensearch/0.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:56:47 DEBUG unit.opensearch/0.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-1: 02:56:47 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-0: 02:56:47 DEBUG unit.grafana-agent/0.juju-log ops 2.14.1 up and running.
unit-opensearch-0: 02:56:47 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-0: 02:56:47 DEBUG unit.grafana-agent/0.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-0: 02:56:47 DEBUG unit.grafana-agent/0.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x7b6220d86c50> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-0: 02:56:47 DEBUG unit.grafana-agent/0.juju-log Emitting Juju event update_status.
unit-grafana-agent-0: 02:56:47 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-self-signed-certificates-0: 02:56:51 DEBUG unit.self-signed-certificates/0.juju-log ops 2.14.0 up and running.
unit-self-signed-certificates-0: 02:56:51 DEBUG unit.self-signed-certificates/0.juju-log no relation on 'tracing': tracing not ready
unit-self-signed-certificates-0: 02:56:51 DEBUG unit.self-signed-certificates/0.juju-log Emitting Juju event update_status.
unit-self-signed-certificates-0: 02:56:51 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 02:56:52 DEBUG unit.opensearch/2.juju-log ops 2.14.1 up and running.
unit-opensearch-2: 02:56:52 DEBUG unit.opensearch/2.juju-log Re-emitting deferred event <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[546]>.
unit-opensearch-2: 02:56:52 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:56:52 ERROR unit.opensearch/2.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-2: 02:56:52 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:56:52 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:52 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:56:52 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:56:52 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:52 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:56:52 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:56:52 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:52 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:56:52 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:56:52 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:52 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:56:52 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:56:52 DEBUG unit.opensearch/2.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-2: 02:56:52 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:52 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:56:52 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:56:52 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:52 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:56:52 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:56:52 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:52 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:56:52 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:56:52 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:52 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:56:52 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:56:52 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:52 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:56:52 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET /_nodes HTTP/11" 200 50765
unit-opensearch-2: 02:56:52 DEBUG unit.opensearch/2.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-2: 02:56:52 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:52 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:56:52 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:56:52 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:52 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:56:52 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:56:52 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:52 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:56:52 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:56:52 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:52 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:56:52 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:56:52 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:56:52 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:52 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:56:52 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:56:52 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:52 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:56:52 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:56:52 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:52 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:56:52 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:56:52 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:52 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:56:52 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:56:52 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:52 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:56:52 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:56:52 ERROR unit.opensearch/2.juju-log Request GET to https://10.233.235.166:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.233.235.166:9200/.charm_node_lock/_source/0
unit-opensearch-2: 02:56:53 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:53 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:56:53 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:56:53 ERROR unit.opensearch/2.juju-log Request GET to https://10.233.235.166:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.233.235.166:9200/.charm_node_lock/_source/0
unit-grafana-agent-1: 02:56:54 DEBUG unit.grafana-agent/1.juju-log ops 2.14.1 up and running.
unit-grafana-agent-3: 02:56:54 DEBUG unit.grafana-agent/3.juju-log ops 2.14.1 up and running.
unit-grafana-agent-1: 02:56:54 DEBUG unit.grafana-agent/1.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-3: 02:56:54 DEBUG unit.grafana-agent/3.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-1: 02:56:54 DEBUG unit.grafana-agent/1.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x7aeeb2586ca0> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-3: 02:56:54 DEBUG unit.grafana-agent/3.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x755621042bb0> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-1: 02:56:54 DEBUG unit.grafana-agent/1.juju-log Emitting Juju event update_status.
unit-grafana-agent-3: 02:56:54 DEBUG unit.grafana-agent/3.juju-log Emitting Juju event update_status.
unit-grafana-agent-1: 02:56:54 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-3: 02:56:54 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 02:56:54 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:56:54 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:56:54 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:56:54 ERROR unit.opensearch/2.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.233.235.166:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-2: 02:56:55 DEBUG unit.opensearch/2.juju-log Lock to start opensearch not acquired. Will retry next event
unit-opensearch-2: 02:56:55 DEBUG unit.opensearch/2.juju-log Deferring <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[546]>.
unit-opensearch-2: 02:56:55 DEBUG unit.opensearch/2.juju-log Emitting Juju event update_status.
unit-opensearch-2: 02:56:55 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:56:55 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-0: 02:56:55 DEBUG unit.grafana-agent/0.juju-log ops 2.14.1 up and running.
unit-grafana-agent-0: 02:56:55 DEBUG unit.grafana-agent/0.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-0: 02:56:55 DEBUG unit.grafana-agent/0.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x7125e3442b60> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-0: 02:56:55 DEBUG unit.grafana-agent/0.juju-log Emitting Juju event update_status.
unit-grafana-agent-0: 02:56:56 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-1: 02:56:56 DEBUG unit.opensearch/1.juju-log ops 2.14.1 up and running.
unit-opensearch-0: 02:56:56 DEBUG unit.opensearch/0.juju-log ops 2.14.1 up and running.
unit-opensearch-1: 02:56:56 DEBUG unit.opensearch/1.juju-log Emitting Juju event update_status.
unit-opensearch-0: 02:56:56 DEBUG unit.opensearch/0.juju-log Emitting Juju event update_status.
unit-opensearch-1: 02:56:56 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:56:56 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:56:56 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-0: 02:56:56 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-1: 02:56:56 DEBUG unit.opensearch/1.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:56:56 DEBUG unit.opensearch/0.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:56:56 DEBUG unit.opensearch/0.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-1: 02:56:56 DEBUG unit.opensearch/1.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-1: 02:56:57 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-0: 02:56:57 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 02:57:00 DEBUG unit.opensearch/2.juju-log ops 2.14.1 up and running.
unit-opensearch-2: 02:57:00 DEBUG unit.opensearch/2.juju-log Re-emitting deferred event <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[546]>.
unit-opensearch-2: 02:57:00 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:57:00 ERROR unit.opensearch/2.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-2: 02:57:00 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:57:00 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:00 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:57:00 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:00 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:00 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:57:00 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:00 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:00 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:57:00 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:00 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:00 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:57:00 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:00 DEBUG unit.opensearch/2.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-2: 02:57:00 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:00 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:57:01 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:01 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:01 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:57:01 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:01 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:01 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:57:01 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:01 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:01 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:57:01 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-self-signed-certificates-0: 02:57:01 DEBUG unit.self-signed-certificates/0.juju-log ops 2.14.0 up and running.
unit-opensearch-2: 02:57:01 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:01 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:57:01 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /_nodes HTTP/11" 200 50765
unit-self-signed-certificates-0: 02:57:01 DEBUG unit.self-signed-certificates/0.juju-log no relation on 'tracing': tracing not ready
unit-opensearch-2: 02:57:01 DEBUG unit.opensearch/2.juju-log [Node lock] Opensearch online_nodes=2
unit-self-signed-certificates-0: 02:57:01 DEBUG unit.self-signed-certificates/0.juju-log Emitting Juju event update_status.
unit-opensearch-2: 02:57:01 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:01 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:57:01 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:01 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:01 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:57:01 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:01 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:01 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:57:01 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:01 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:01 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:57:01 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:01 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:57:01 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:01 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:57:01 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:01 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:01 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:57:01 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:01 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:01 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:57:01 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:01 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:01 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:57:01 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:01 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:01 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:57:01 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:57:01 ERROR unit.opensearch/2.juju-log Request GET to https://10.233.235.164:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.233.235.164:9200/.charm_node_lock/_source/0
unit-self-signed-certificates-0: 02:57:01 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 02:57:02 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:02 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:57:02 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:57:02 ERROR unit.opensearch/2.juju-log Request GET to https://10.233.235.164:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.233.235.164:9200/.charm_node_lock/_source/0
unit-opensearch-2: 02:57:03 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:03 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:57:03 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-grafana-agent-3: 02:57:03 DEBUG unit.grafana-agent/3.juju-log ops 2.14.1 up and running.
unit-opensearch-2: 02:57:03 ERROR unit.opensearch/2.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.233.235.164:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-2: 02:57:03 DEBUG unit.opensearch/2.juju-log Lock to start opensearch not acquired. Will retry next event
unit-grafana-agent-3: 02:57:03 DEBUG unit.grafana-agent/3.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-1: 02:57:03 DEBUG unit.grafana-agent/1.juju-log ops 2.14.1 up and running.
unit-opensearch-2: 02:57:03 DEBUG unit.opensearch/2.juju-log Deferring <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[546]>.
unit-grafana-agent-3: 02:57:03 DEBUG unit.grafana-agent/3.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x764748172c50> returned None; quietly disabling charm_tracing for the run.
unit-opensearch-2: 02:57:03 DEBUG unit.opensearch/2.juju-log Emitting Juju event update_status.
unit-grafana-agent-3: 02:57:03 DEBUG unit.grafana-agent/3.juju-log Emitting Juju event update_status.
unit-grafana-agent-1: 02:57:03 DEBUG unit.grafana-agent/1.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-1: 02:57:03 DEBUG unit.grafana-agent/1.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x793e57f72a20> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-1: 02:57:03 DEBUG unit.grafana-agent/1.juju-log Emitting Juju event update_status.
unit-opensearch-2: 02:57:03 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-grafana-agent-3: 02:57:04 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-1: 02:57:04 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 02:57:04 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-0: 02:57:04 DEBUG unit.opensearch/0.juju-log ops 2.14.1 up and running.
unit-grafana-agent-0: 02:57:04 DEBUG unit.grafana-agent/0.juju-log ops 2.14.1 up and running.
unit-opensearch-1: 02:57:04 DEBUG unit.opensearch/1.juju-log ops 2.14.1 up and running.
unit-opensearch-0: 02:57:05 DEBUG unit.opensearch/0.juju-log Emitting Juju event update_status.
unit-opensearch-1: 02:57:05 DEBUG unit.opensearch/1.juju-log Emitting Juju event update_status.
unit-grafana-agent-0: 02:57:05 DEBUG unit.grafana-agent/0.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-0: 02:57:05 DEBUG unit.grafana-agent/0.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x72e25583aca0> returned None; quietly disabling charm_tracing for the run.
unit-opensearch-1: 02:57:05 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-grafana-agent-0: 02:57:05 DEBUG unit.grafana-agent/0.juju-log Emitting Juju event update_status.
unit-opensearch-0: 02:57:05 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:57:05 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-0: 02:57:05 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-1: 02:57:05 DEBUG unit.opensearch/1.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:57:05 DEBUG unit.opensearch/0.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:57:05 DEBUG unit.opensearch/1.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-0: 02:57:05 DEBUG unit.opensearch/0.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-grafana-agent-0: 02:57:05 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-1: 02:57:05 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-0: 02:57:05 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 02:57:09 DEBUG unit.opensearch/2.juju-log ops 2.14.1 up and running.
unit-opensearch-2: 02:57:09 DEBUG unit.opensearch/2.juju-log Re-emitting deferred event <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[546]>.
unit-opensearch-2: 02:57:09 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:57:09 ERROR unit.opensearch/2.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-2: 02:57:09 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:57:09 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:09 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:57:09 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:09 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:09 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:57:09 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:09 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:09 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:57:09 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:09 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:09 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:57:09 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:09 DEBUG unit.opensearch/2.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-2: 02:57:09 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:09 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:57:09 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:09 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:09 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:57:09 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:09 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:09 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:57:09 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:09 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:09 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:57:09 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:09 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:09 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:57:09 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /_nodes HTTP/11" 200 50765
unit-opensearch-2: 02:57:09 DEBUG unit.opensearch/2.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-2: 02:57:09 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:09 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:57:09 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:10 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:10 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:57:10 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:10 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:10 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:57:10 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:10 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:10 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:57:10 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:10 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:57:10 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:10 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:57:10 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:10 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:10 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:57:10 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:10 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:10 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:57:10 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:10 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:10 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:57:10 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:10 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:10 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:57:10 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:57:10 ERROR unit.opensearch/2.juju-log Request GET to https://10.233.235.166:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.233.235.166:9200/.charm_node_lock/_source/0
unit-opensearch-2: 02:57:11 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:11 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:57:11 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:57:11 ERROR unit.opensearch/2.juju-log Request GET to https://10.233.235.166:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.233.235.166:9200/.charm_node_lock/_source/0
unit-self-signed-certificates-0: 02:57:12 DEBUG unit.self-signed-certificates/0.juju-log ops 2.14.0 up and running.
unit-self-signed-certificates-0: 02:57:12 DEBUG unit.self-signed-certificates/0.juju-log no relation on 'tracing': tracing not ready
unit-self-signed-certificates-0: 02:57:12 DEBUG unit.self-signed-certificates/0.juju-log Emitting Juju event update_status.
unit-opensearch-2: 02:57:12 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:12 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:57:12 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:57:12 ERROR unit.opensearch/2.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.233.235.166:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-2: 02:57:12 DEBUG unit.opensearch/2.juju-log Lock to start opensearch not acquired. Will retry next event
unit-opensearch-2: 02:57:12 DEBUG unit.opensearch/2.juju-log Deferring <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[546]>.
unit-opensearch-2: 02:57:12 DEBUG unit.opensearch/2.juju-log Emitting Juju event update_status.
unit-opensearch-2: 02:57:12 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:57:12 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-self-signed-certificates-0: 02:57:12 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-0: 02:57:15 DEBUG unit.grafana-agent/0.juju-log ops 2.14.1 up and running.
unit-grafana-agent-0: 02:57:15 DEBUG unit.grafana-agent/0.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-0: 02:57:15 DEBUG unit.grafana-agent/0.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x7d3341d86b10> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-0: 02:57:15 DEBUG unit.grafana-agent/0.juju-log Emitting Juju event update_status.
unit-grafana-agent-1: 02:57:15 DEBUG unit.grafana-agent/1.juju-log ops 2.14.1 up and running.
unit-grafana-agent-3: 02:57:15 DEBUG unit.grafana-agent/3.juju-log ops 2.14.1 up and running.
unit-grafana-agent-1: 02:57:15 DEBUG unit.grafana-agent/1.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-1: 02:57:15 DEBUG unit.grafana-agent/1.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x757ba7b76b10> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-1: 02:57:15 DEBUG unit.grafana-agent/1.juju-log Emitting Juju event update_status.
unit-grafana-agent-3: 02:57:15 DEBUG unit.grafana-agent/3.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-3: 02:57:15 DEBUG unit.grafana-agent/3.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x731afec32b60> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-3: 02:57:15 DEBUG unit.grafana-agent/3.juju-log Emitting Juju event update_status.
unit-grafana-agent-0: 02:57:15 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-1: 02:57:15 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-3: 02:57:15 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-1: 02:57:16 DEBUG unit.opensearch/1.juju-log ops 2.14.1 up and running.
unit-opensearch-0: 02:57:16 DEBUG unit.opensearch/0.juju-log ops 2.14.1 up and running.
unit-opensearch-1: 02:57:16 DEBUG unit.opensearch/1.juju-log Emitting Juju event update_status.
unit-opensearch-0: 02:57:16 DEBUG unit.opensearch/0.juju-log Emitting Juju event update_status.
unit-opensearch-1: 02:57:16 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:57:16 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:57:16 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-0: 02:57:16 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-1: 02:57:16 DEBUG unit.opensearch/1.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:57:16 DEBUG unit.opensearch/0.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:57:16 DEBUG unit.opensearch/0.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-1: 02:57:16 DEBUG unit.opensearch/1.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-0: 02:57:16 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-1: 02:57:16 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 02:57:21 DEBUG unit.opensearch/2.juju-log ops 2.14.1 up and running.
unit-opensearch-2: 02:57:21 DEBUG unit.opensearch/2.juju-log Re-emitting deferred event <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[546]>.
unit-opensearch-2: 02:57:21 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:57:21 ERROR unit.opensearch/2.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-2: 02:57:21 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:57:21 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:21 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:57:21 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:21 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:21 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:57:21 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:21 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:21 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:57:21 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:21 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:21 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:57:21 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:21 DEBUG unit.opensearch/2.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-2: 02:57:21 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:21 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:57:21 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:21 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:21 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:57:21 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:21 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:21 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:57:21 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:21 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:21 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:57:21 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:21 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:21 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:57:21 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET /_nodes HTTP/11" 200 50765
unit-opensearch-2: 02:57:21 DEBUG unit.opensearch/2.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-2: 02:57:21 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:21 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:57:21 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:21 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:21 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:57:21 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:21 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:21 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:57:21 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:21 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:21 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:57:21 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:21 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:57:21 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:21 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:57:21 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:21 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:21 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:57:21 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:21 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:21 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:57:21 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:21 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:21 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:57:21 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:21 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:21 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:57:21 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:57:21 ERROR unit.opensearch/2.juju-log Request GET to https://10.233.235.166:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.233.235.166:9200/.charm_node_lock/_source/0
unit-self-signed-certificates-0: 02:57:22 DEBUG unit.self-signed-certificates/0.juju-log ops 2.14.0 up and running.
unit-self-signed-certificates-0: 02:57:22 DEBUG unit.self-signed-certificates/0.juju-log no relation on 'tracing': tracing not ready
unit-self-signed-certificates-0: 02:57:22 DEBUG unit.self-signed-certificates/0.juju-log Emitting Juju event update_status.
unit-self-signed-certificates-0: 02:57:22 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 02:57:22 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:22 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:57:22 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:57:22 ERROR unit.opensearch/2.juju-log Request GET to https://10.233.235.166:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.233.235.166:9200/.charm_node_lock/_source/0
unit-opensearch-2: 02:57:24 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:24 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:57:24 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:57:24 ERROR unit.opensearch/2.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.233.235.166:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-2: 02:57:24 DEBUG unit.opensearch/2.juju-log Lock to start opensearch not acquired. Will retry next event
unit-opensearch-2: 02:57:24 DEBUG unit.opensearch/2.juju-log Deferring <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[546]>.
unit-opensearch-2: 02:57:24 DEBUG unit.opensearch/2.juju-log Emitting Juju event update_status.
unit-opensearch-2: 02:57:24 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:57:24 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-3: 02:57:24 DEBUG unit.grafana-agent/3.juju-log ops 2.14.1 up and running.
unit-grafana-agent-1: 02:57:24 DEBUG unit.grafana-agent/1.juju-log ops 2.14.1 up and running.
unit-grafana-agent-3: 02:57:24 DEBUG unit.grafana-agent/3.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-3: 02:57:24 DEBUG unit.grafana-agent/3.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x74bea4f6eb10> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-1: 02:57:24 DEBUG unit.grafana-agent/1.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-3: 02:57:24 DEBUG unit.grafana-agent/3.juju-log Emitting Juju event update_status.
unit-grafana-agent-1: 02:57:24 DEBUG unit.grafana-agent/1.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x777e9477ebb0> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-1: 02:57:24 DEBUG unit.grafana-agent/1.juju-log Emitting Juju event update_status.
unit-grafana-agent-0: 02:57:24 DEBUG unit.grafana-agent/0.juju-log ops 2.14.1 up and running.
unit-grafana-agent-0: 02:57:25 DEBUG unit.grafana-agent/0.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-0: 02:57:25 DEBUG unit.grafana-agent/0.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x7c02dc182b60> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-0: 02:57:25 DEBUG unit.grafana-agent/0.juju-log Emitting Juju event update_status.
unit-grafana-agent-3: 02:57:25 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-1: 02:57:25 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-0: 02:57:25 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-1: 02:57:25 DEBUG unit.opensearch/1.juju-log ops 2.14.1 up and running.
unit-opensearch-0: 02:57:25 DEBUG unit.opensearch/0.juju-log ops 2.14.1 up and running.
unit-opensearch-1: 02:57:25 DEBUG unit.opensearch/1.juju-log Emitting Juju event update_status.
unit-opensearch-0: 02:57:25 DEBUG unit.opensearch/0.juju-log Emitting Juju event update_status.
unit-opensearch-1: 02:57:25 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:57:25 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:57:25 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-0: 02:57:25 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-1: 02:57:25 DEBUG unit.opensearch/1.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:57:25 DEBUG unit.opensearch/0.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:57:26 DEBUG unit.opensearch/1.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-0: 02:57:26 DEBUG unit.opensearch/0.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-0: 02:57:26 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-1: 02:57:26 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 02:57:30 DEBUG unit.opensearch/2.juju-log ops 2.14.1 up and running.
unit-opensearch-2: 02:57:30 DEBUG unit.opensearch/2.juju-log Re-emitting deferred event <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[546]>.
unit-self-signed-certificates-0: 02:57:30 DEBUG unit.self-signed-certificates/0.juju-log ops 2.14.0 up and running.
unit-opensearch-2: 02:57:30 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:57:30 ERROR unit.opensearch/2.juju-log Cannot connect to the OpenSearch server...
unit-self-signed-certificates-0: 02:57:30 DEBUG unit.self-signed-certificates/0.juju-log no relation on 'tracing': tracing not ready
unit-opensearch-2: 02:57:30 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-self-signed-certificates-0: 02:57:30 DEBUG unit.self-signed-certificates/0.juju-log Emitting Juju event update_status.
unit-opensearch-2: 02:57:30 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:30 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:57:30 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:30 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:30 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:57:30 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:30 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:30 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:57:30 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:30 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:30 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:57:30 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:30 DEBUG unit.opensearch/2.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-2: 02:57:30 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:30 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:57:30 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:30 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:30 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:57:31 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:31 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:31 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:57:31 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:31 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:31 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:57:31 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:31 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:31 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:57:31 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /_nodes HTTP/11" 200 50765
unit-opensearch-2: 02:57:31 DEBUG unit.opensearch/2.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-2: 02:57:31 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:31 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:57:31 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:31 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:31 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:57:31 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:31 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:31 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-self-signed-certificates-0: 02:57:31 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 02:57:31 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:31 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:31 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:57:31 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:31 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:57:31 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:31 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:57:31 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:31 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:31 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:57:31 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:31 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:31 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:57:31 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:31 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:31 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:57:31 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:31 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:31 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:57:31 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:57:31 ERROR unit.opensearch/2.juju-log Request GET to https://10.233.235.166:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.233.235.166:9200/.charm_node_lock/_source/0
unit-opensearch-2: 02:57:32 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:32 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:57:32 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:57:32 ERROR unit.opensearch/2.juju-log Request GET to https://10.233.235.166:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.233.235.166:9200/.charm_node_lock/_source/0
unit-grafana-agent-1: 02:57:33 DEBUG unit.grafana-agent/1.juju-log ops 2.14.1 up and running.
unit-grafana-agent-3: 02:57:33 DEBUG unit.grafana-agent/3.juju-log ops 2.14.1 up and running.
unit-grafana-agent-1: 02:57:33 DEBUG unit.grafana-agent/1.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-1: 02:57:33 DEBUG unit.grafana-agent/1.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x732bb963acf0> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-1: 02:57:33 DEBUG unit.grafana-agent/1.juju-log Emitting Juju event update_status.
unit-grafana-agent-3: 02:57:33 DEBUG unit.grafana-agent/3.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-3: 02:57:33 DEBUG unit.grafana-agent/3.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x7a3d89a42c00> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-3: 02:57:33 DEBUG unit.grafana-agent/3.juju-log Emitting Juju event update_status.
unit-opensearch-2: 02:57:33 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:33 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:57:33 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:57:33 ERROR unit.opensearch/2.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.233.235.166:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-2: 02:57:33 DEBUG unit.opensearch/2.juju-log Lock to start opensearch not acquired. Will retry next event
unit-opensearch-2: 02:57:33 DEBUG unit.opensearch/2.juju-log Deferring <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[546]>.
unit-opensearch-2: 02:57:33 DEBUG unit.opensearch/2.juju-log Emitting Juju event update_status.
unit-grafana-agent-1: 02:57:33 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 02:57:33 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-grafana-agent-3: 02:57:33 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 02:57:33 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-0: 02:57:34 DEBUG unit.grafana-agent/0.juju-log ops 2.14.1 up and running.
unit-grafana-agent-0: 02:57:34 DEBUG unit.grafana-agent/0.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-0: 02:57:34 DEBUG unit.grafana-agent/0.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x7f2911b72a70> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-0: 02:57:34 DEBUG unit.grafana-agent/0.juju-log Emitting Juju event update_status.
unit-grafana-agent-0: 02:57:34 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-1: 02:57:35 DEBUG unit.opensearch/1.juju-log ops 2.14.1 up and running.
unit-opensearch-0: 02:57:35 DEBUG unit.opensearch/0.juju-log ops 2.14.1 up and running.
unit-opensearch-1: 02:57:35 DEBUG unit.opensearch/1.juju-log Emitting Juju event update_status.
unit-opensearch-1: 02:57:35 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:57:35 DEBUG unit.opensearch/0.juju-log Emitting Juju event update_status.
unit-opensearch-1: 02:57:35 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-0: 02:57:35 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:57:35 DEBUG unit.opensearch/1.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:57:35 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-0: 02:57:35 DEBUG unit.opensearch/0.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:57:35 DEBUG unit.opensearch/1.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-0: 02:57:35 DEBUG unit.opensearch/0.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-1: 02:57:36 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-0: 02:57:36 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-self-signed-certificates-0: 02:57:40 DEBUG unit.self-signed-certificates/0.juju-log ops 2.14.0 up and running.
unit-self-signed-certificates-0: 02:57:40 DEBUG unit.self-signed-certificates/0.juju-log no relation on 'tracing': tracing not ready
unit-self-signed-certificates-0: 02:57:40 DEBUG unit.self-signed-certificates/0.juju-log Emitting Juju event update_status.
unit-self-signed-certificates-0: 02:57:41 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 02:57:41 DEBUG unit.opensearch/2.juju-log ops 2.14.1 up and running.
unit-opensearch-2: 02:57:41 DEBUG unit.opensearch/2.juju-log Re-emitting deferred event <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[546]>.
unit-opensearch-2: 02:57:41 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:57:41 ERROR unit.opensearch/2.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-2: 02:57:41 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:57:41 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:41 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:57:41 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:41 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:41 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:57:41 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:41 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:41 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:57:41 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:41 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:41 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:57:41 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:41 DEBUG unit.opensearch/2.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-2: 02:57:41 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:41 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:57:41 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:41 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:41 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:57:42 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:42 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:42 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:57:42 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:42 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:42 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:57:42 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:42 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:42 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:57:42 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET /_nodes HTTP/11" 200 50765
unit-opensearch-2: 02:57:42 DEBUG unit.opensearch/2.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-2: 02:57:42 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:42 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:57:42 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:42 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:42 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:57:42 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:42 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:42 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:57:42 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:42 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:42 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:57:42 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:42 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:57:42 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:42 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:57:42 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:42 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:42 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:57:42 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:42 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:42 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:57:42 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:42 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:42 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:57:42 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:42 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:42 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:57:42 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:57:42 ERROR unit.opensearch/2.juju-log Request GET to https://10.233.235.164:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.233.235.164:9200/.charm_node_lock/_source/0
unit-opensearch-2: 02:57:43 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:43 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:57:43 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:57:43 ERROR unit.opensearch/2.juju-log Request GET to https://10.233.235.164:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.233.235.164:9200/.charm_node_lock/_source/0
unit-opensearch-2: 02:57:44 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:44 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:57:44 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:57:44 ERROR unit.opensearch/2.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.233.235.164:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-2: 02:57:44 DEBUG unit.opensearch/2.juju-log Lock to start opensearch not acquired. Will retry next event
unit-opensearch-2: 02:57:44 DEBUG unit.opensearch/2.juju-log Deferring <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[546]>.
unit-opensearch-2: 02:57:44 DEBUG unit.opensearch/2.juju-log Emitting Juju event update_status.
unit-opensearch-2: 02:57:44 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-1: 02:57:44 DEBUG unit.opensearch/1.juju-log ops 2.14.1 up and running.
unit-opensearch-0: 02:57:44 DEBUG unit.opensearch/0.juju-log ops 2.14.1 up and running.
unit-opensearch-1: 02:57:44 DEBUG unit.opensearch/1.juju-log Emitting Juju event update_status.
unit-opensearch-0: 02:57:44 DEBUG unit.opensearch/0.juju-log Emitting Juju event update_status.
unit-opensearch-1: 02:57:44 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:57:44 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:57:44 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-1: 02:57:44 DEBUG unit.opensearch/1.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:57:44 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-0: 02:57:44 DEBUG unit.opensearch/0.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:44 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-1: 02:57:44 DEBUG unit.opensearch/1.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-0: 02:57:44 DEBUG unit.opensearch/0.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-1: 02:57:45 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-0: 02:57:45 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-0: 02:57:45 DEBUG unit.grafana-agent/0.juju-log ops 2.14.1 up and running.
unit-grafana-agent-0: 02:57:45 DEBUG unit.grafana-agent/0.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-0: 02:57:45 DEBUG unit.grafana-agent/0.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x7c0e82976980> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-0: 02:57:45 DEBUG unit.grafana-agent/0.juju-log Emitting Juju event update_status.
unit-grafana-agent-3: 02:57:45 DEBUG unit.grafana-agent/3.juju-log ops 2.14.1 up and running.
unit-grafana-agent-0: 02:57:45 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-1: 02:57:45 DEBUG unit.grafana-agent/1.juju-log ops 2.14.1 up and running.
unit-grafana-agent-3: 02:57:45 DEBUG unit.grafana-agent/3.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-3: 02:57:45 DEBUG unit.grafana-agent/3.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x752696832c50> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-3: 02:57:45 DEBUG unit.grafana-agent/3.juju-log Emitting Juju event update_status.
unit-grafana-agent-1: 02:57:45 DEBUG unit.grafana-agent/1.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-1: 02:57:45 DEBUG unit.grafana-agent/1.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x7bf48c57eca0> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-1: 02:57:45 DEBUG unit.grafana-agent/1.juju-log Emitting Juju event update_status.
unit-grafana-agent-3: 02:57:46 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-1: 02:57:46 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-self-signed-certificates-0: 02:57:49 DEBUG unit.self-signed-certificates/0.juju-log ops 2.14.0 up and running.
unit-self-signed-certificates-0: 02:57:49 DEBUG unit.self-signed-certificates/0.juju-log no relation on 'tracing': tracing not ready
unit-self-signed-certificates-0: 02:57:49 DEBUG unit.self-signed-certificates/0.juju-log Emitting Juju event update_status.
unit-self-signed-certificates-0: 02:57:49 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 02:57:53 DEBUG unit.opensearch/2.juju-log ops 2.14.1 up and running.
unit-opensearch-2: 02:57:53 DEBUG unit.opensearch/2.juju-log Re-emitting deferred event <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[546]>.
unit-opensearch-2: 02:57:53 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:57:53 ERROR unit.opensearch/2.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-2: 02:57:53 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:57:53 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:53 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:57:53 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:53 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:53 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:57:53 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:53 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:53 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:57:53 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:53 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:53 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:57:53 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:53 DEBUG unit.opensearch/2.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-2: 02:57:53 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:53 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:57:53 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:53 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:53 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:57:53 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:53 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:53 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:57:53 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:53 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:53 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:57:53 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:53 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:53 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:57:53 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /_nodes HTTP/11" 200 50765
unit-opensearch-2: 02:57:53 DEBUG unit.opensearch/2.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-2: 02:57:53 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:53 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:57:53 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:53 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:53 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:57:53 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:53 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:53 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:57:53 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:53 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:53 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:57:53 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:53 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:57:53 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:53 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:57:54 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:54 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:54 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:57:54 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:54 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:54 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:57:54 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:54 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:54 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:57:54 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:57:54 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:54 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:57:54 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:57:54 ERROR unit.opensearch/2.juju-log Request GET to https://10.233.235.164:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.233.235.164:9200/.charm_node_lock/_source/0
unit-opensearch-1: 02:57:54 DEBUG unit.opensearch/1.juju-log ops 2.14.1 up and running.
unit-opensearch-0: 02:57:54 DEBUG unit.opensearch/0.juju-log ops 2.14.1 up and running.
unit-opensearch-1: 02:57:54 DEBUG unit.opensearch/1.juju-log Emitting Juju event update_status.
unit-opensearch-1: 02:57:54 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:57:54 DEBUG unit.opensearch/0.juju-log Emitting Juju event update_status.
unit-opensearch-1: 02:57:54 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-1: 02:57:54 DEBUG unit.opensearch/1.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:57:54 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:57:54 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-1: 02:57:54 DEBUG unit.opensearch/1.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-0: 02:57:54 DEBUG unit.opensearch/0.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:57:54 DEBUG unit.opensearch/0.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-2: 02:57:55 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:55 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:57:55 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:57:55 ERROR unit.opensearch/2.juju-log Request GET to https://10.233.235.164:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.233.235.164:9200/.charm_node_lock/_source/0
unit-opensearch-1: 02:57:55 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-0: 02:57:55 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 02:57:56 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:57:56 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:57:56 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:57:56 ERROR unit.opensearch/2.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.233.235.164:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-2: 02:57:56 DEBUG unit.opensearch/2.juju-log Lock to start opensearch not acquired. Will retry next event
unit-opensearch-2: 02:57:56 DEBUG unit.opensearch/2.juju-log Deferring <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[546]>.
unit-opensearch-2: 02:57:56 DEBUG unit.opensearch/2.juju-log Emitting Juju event update_status.
unit-opensearch-2: 02:57:56 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-grafana-agent-3: 02:57:56 DEBUG unit.grafana-agent/3.juju-log ops 2.14.1 up and running.
unit-grafana-agent-3: 02:57:56 DEBUG unit.grafana-agent/3.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-3: 02:57:56 DEBUG unit.grafana-agent/3.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x7018eb57ebb0> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-3: 02:57:56 DEBUG unit.grafana-agent/3.juju-log Emitting Juju event update_status.
unit-grafana-agent-1: 02:57:56 DEBUG unit.grafana-agent/1.juju-log ops 2.14.1 up and running.
unit-opensearch-2: 02:57:56 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-1: 02:57:56 DEBUG unit.grafana-agent/1.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-1: 02:57:56 DEBUG unit.grafana-agent/1.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x702823c3a9d0> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-1: 02:57:56 DEBUG unit.grafana-agent/1.juju-log Emitting Juju event update_status.
unit-grafana-agent-3: 02:57:56 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-1: 02:57:56 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-0: 02:57:57 DEBUG unit.grafana-agent/0.juju-log ops 2.14.1 up and running.
unit-grafana-agent-0: 02:57:57 DEBUG unit.grafana-agent/0.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-0: 02:57:57 DEBUG unit.grafana-agent/0.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x79292462ea20> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-0: 02:57:57 DEBUG unit.grafana-agent/0.juju-log Emitting Juju event update_status.
unit-grafana-agent-0: 02:57:57 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-self-signed-certificates-0: 02:58:01 DEBUG unit.self-signed-certificates/0.juju-log ops 2.14.0 up and running.
unit-self-signed-certificates-0: 02:58:01 DEBUG unit.self-signed-certificates/0.juju-log no relation on 'tracing': tracing not ready
unit-self-signed-certificates-0: 02:58:01 DEBUG unit.self-signed-certificates/0.juju-log Emitting Juju event update_status.
unit-opensearch-2: 02:58:01 DEBUG unit.opensearch/2.juju-log ops 2.14.1 up and running.
unit-opensearch-2: 02:58:01 DEBUG unit.opensearch/2.juju-log Re-emitting deferred event <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[546]>.
unit-opensearch-2: 02:58:01 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:58:01 ERROR unit.opensearch/2.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-2: 02:58:01 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:58:01 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:01 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:58:01 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:01 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:01 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:58:01 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:01 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:01 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:58:01 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:01 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:01 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:58:01 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:01 DEBUG unit.opensearch/2.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-2: 02:58:01 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:01 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-self-signed-certificates-0: 02:58:01 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 02:58:01 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:01 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:01 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:58:01 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:01 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:01 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:58:01 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:01 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:02 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:58:02 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:02 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:02 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:58:02 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET /_nodes HTTP/11" 200 50765
unit-opensearch-2: 02:58:02 DEBUG unit.opensearch/2.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-2: 02:58:02 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:02 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:58:02 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:02 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:02 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:58:02 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:02 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:02 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:58:02 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:02 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:02 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:58:02 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:02 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:58:02 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:02 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:58:02 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:02 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:02 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:58:02 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:02 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:02 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:58:02 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:02 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:02 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:58:02 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:02 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:02 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:58:02 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:58:02 ERROR unit.opensearch/2.juju-log Request GET to https://10.233.235.164:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.233.235.164:9200/.charm_node_lock/_source/0
unit-opensearch-1: 02:58:03 DEBUG unit.opensearch/1.juju-log ops 2.14.1 up and running.
unit-opensearch-0: 02:58:03 DEBUG unit.opensearch/0.juju-log ops 2.14.1 up and running.
unit-opensearch-0: 02:58:03 DEBUG unit.opensearch/0.juju-log Emitting Juju event update_status.
unit-opensearch-2: 02:58:03 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:58:03 DEBUG unit.opensearch/1.juju-log Emitting Juju event update_status.
unit-opensearch-2: 02:58:03 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-1: 02:58:03 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:03 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-0: 02:58:03 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:03 ERROR unit.opensearch/2.juju-log Request GET to https://10.233.235.164:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.233.235.164:9200/.charm_node_lock/_source/0
unit-opensearch-1: 02:58:03 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-0: 02:58:03 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-1: 02:58:03 DEBUG unit.opensearch/1.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:58:03 DEBUG unit.opensearch/0.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:58:03 DEBUG unit.opensearch/1.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-0: 02:58:03 DEBUG unit.opensearch/0.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-1: 02:58:03 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-0: 02:58:03 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 02:58:04 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:04 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:58:04 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:58:04 ERROR unit.opensearch/2.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.233.235.164:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-2: 02:58:04 DEBUG unit.opensearch/2.juju-log Lock to start opensearch not acquired. Will retry next event
unit-opensearch-2: 02:58:04 DEBUG unit.opensearch/2.juju-log Deferring <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[546]>.
unit-opensearch-2: 02:58:04 DEBUG unit.opensearch/2.juju-log Emitting Juju event update_status.
unit-opensearch-2: 02:58:04 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:58:04 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-3: 02:58:07 DEBUG unit.grafana-agent/3.juju-log ops 2.14.1 up and running.
unit-grafana-agent-0: 02:58:07 DEBUG unit.grafana-agent/0.juju-log ops 2.14.1 up and running.
unit-grafana-agent-1: 02:58:07 DEBUG unit.grafana-agent/1.juju-log ops 2.14.1 up and running.
unit-grafana-agent-3: 02:58:07 DEBUG unit.grafana-agent/3.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-3: 02:58:07 DEBUG unit.grafana-agent/3.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x7c81d722ebb0> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-0: 02:58:07 DEBUG unit.grafana-agent/0.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-3: 02:58:07 DEBUG unit.grafana-agent/3.juju-log Emitting Juju event update_status.
unit-grafana-agent-0: 02:58:07 DEBUG unit.grafana-agent/0.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x755b6257ab10> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-0: 02:58:07 DEBUG unit.grafana-agent/0.juju-log Emitting Juju event update_status.
unit-grafana-agent-1: 02:58:07 DEBUG unit.grafana-agent/1.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-1: 02:58:07 DEBUG unit.grafana-agent/1.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x72dc6117ebb0> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-1: 02:58:07 DEBUG unit.grafana-agent/1.juju-log Emitting Juju event update_status.
unit-grafana-agent-0: 02:58:07 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-3: 02:58:07 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-1: 02:58:08 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 02:58:09 DEBUG unit.opensearch/2.juju-log ops 2.14.1 up and running.
unit-opensearch-2: 02:58:09 DEBUG unit.opensearch/2.juju-log Re-emitting deferred event <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[546]>.
unit-opensearch-2: 02:58:09 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:58:09 ERROR unit.opensearch/2.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-2: 02:58:09 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:58:09 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:09 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:58:09 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:10 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:10 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:58:10 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:10 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:10 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:58:10 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:10 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:10 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:58:10 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:10 DEBUG unit.opensearch/2.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-2: 02:58:10 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:10 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:58:10 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:10 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:10 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:58:10 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:10 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:10 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:58:10 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:10 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:10 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:58:10 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:10 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:10 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:58:10 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /_nodes HTTP/11" 200 50765
unit-opensearch-2: 02:58:10 DEBUG unit.opensearch/2.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-2: 02:58:10 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:10 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:58:10 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:10 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:10 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:58:10 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:10 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:10 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:58:10 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:10 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:10 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:58:10 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:10 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:58:10 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:10 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:58:10 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:10 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:10 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:58:10 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:10 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:10 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:58:10 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:10 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:10 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:58:10 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:10 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:10 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:58:10 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:58:10 ERROR unit.opensearch/2.juju-log Request GET to https://10.233.235.166:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.233.235.166:9200/.charm_node_lock/_source/0
unit-self-signed-certificates-0: 02:58:11 DEBUG unit.self-signed-certificates/0.juju-log ops 2.14.0 up and running.
unit-self-signed-certificates-0: 02:58:11 DEBUG unit.self-signed-certificates/0.juju-log no relation on 'tracing': tracing not ready
unit-self-signed-certificates-0: 02:58:11 DEBUG unit.self-signed-certificates/0.juju-log Emitting Juju event update_status.
unit-opensearch-2: 02:58:11 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:11 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:58:11 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:58:11 ERROR unit.opensearch/2.juju-log Request GET to https://10.233.235.166:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.233.235.166:9200/.charm_node_lock/_source/0
unit-self-signed-certificates-0: 02:58:11 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-1: 02:58:12 DEBUG unit.opensearch/1.juju-log ops 2.14.1 up and running.
unit-opensearch-1: 02:58:12 DEBUG unit.opensearch/1.juju-log Emitting Juju event update_status.
unit-opensearch-0: 02:58:12 DEBUG unit.opensearch/0.juju-log ops 2.14.1 up and running.
unit-opensearch-1: 02:58:12 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:12 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:12 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-1: 02:58:12 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:58:12 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-1: 02:58:12 DEBUG unit.opensearch/1.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:12 ERROR unit.opensearch/2.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.233.235.166:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-2: 02:58:12 DEBUG unit.opensearch/2.juju-log Lock to start opensearch not acquired. Will retry next event
unit-opensearch-2: 02:58:12 DEBUG unit.opensearch/2.juju-log Deferring <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[546]>.
unit-opensearch-2: 02:58:12 DEBUG unit.opensearch/2.juju-log Emitting Juju event update_status.
unit-opensearch-2: 02:58:12 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-1: 02:58:12 DEBUG unit.opensearch/1.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-0: 02:58:12 DEBUG unit.opensearch/0.juju-log Emitting Juju event update_status.
unit-opensearch-0: 02:58:12 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:58:12 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-0: 02:58:12 DEBUG unit.opensearch/0.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:58:12 DEBUG unit.opensearch/0.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-2: 02:58:13 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-1: 02:58:13 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-0: 02:58:13 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-0: 02:58:18 DEBUG unit.grafana-agent/0.juju-log ops 2.14.1 up and running.
unit-grafana-agent-0: 02:58:18 DEBUG unit.grafana-agent/0.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-1: 02:58:18 DEBUG unit.grafana-agent/1.juju-log ops 2.14.1 up and running.
unit-grafana-agent-0: 02:58:18 DEBUG unit.grafana-agent/0.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x7ee854372a70> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-0: 02:58:18 DEBUG unit.grafana-agent/0.juju-log Emitting Juju event update_status.
unit-grafana-agent-3: 02:58:18 DEBUG unit.grafana-agent/3.juju-log ops 2.14.1 up and running.
unit-grafana-agent-1: 02:58:18 DEBUG unit.grafana-agent/1.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-1: 02:58:18 DEBUG unit.grafana-agent/1.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x70fa77032ac0> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-1: 02:58:18 DEBUG unit.grafana-agent/1.juju-log Emitting Juju event update_status.
unit-grafana-agent-3: 02:58:18 DEBUG unit.grafana-agent/3.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-3: 02:58:18 DEBUG unit.grafana-agent/3.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x7751d8b7ea70> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-3: 02:58:18 DEBUG unit.grafana-agent/3.juju-log Emitting Juju event update_status.
unit-grafana-agent-0: 02:58:18 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-3: 02:58:18 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-1: 02:58:18 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 02:58:19 DEBUG unit.opensearch/2.juju-log ops 2.14.1 up and running.
unit-opensearch-2: 02:58:19 DEBUG unit.opensearch/2.juju-log Re-emitting deferred event <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[546]>.
unit-opensearch-2: 02:58:19 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:58:19 ERROR unit.opensearch/2.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-2: 02:58:19 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:58:19 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:19 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:58:19 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:19 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:19 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:58:19 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:19 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:19 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:58:19 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:19 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:19 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:58:19 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:19 DEBUG unit.opensearch/2.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-2: 02:58:19 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:19 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:58:19 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:19 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:19 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:58:19 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:19 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:19 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:58:19 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:19 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:19 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:58:19 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:19 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:19 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:58:19 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET /_nodes HTTP/11" 200 50765
unit-opensearch-2: 02:58:19 DEBUG unit.opensearch/2.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-2: 02:58:19 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:19 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:58:19 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:19 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:19 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:58:20 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:20 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:20 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:58:20 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:20 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:20 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:58:20 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:20 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:58:20 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:20 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:58:20 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:20 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:20 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:58:20 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:20 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:20 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:58:20 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:20 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:20 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:58:20 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:20 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:20 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:58:20 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:58:20 ERROR unit.opensearch/2.juju-log Request GET to https://10.233.235.164:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.233.235.164:9200/.charm_node_lock/_source/0
unit-opensearch-2: 02:58:21 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:21 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:58:21 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:58:21 ERROR unit.opensearch/2.juju-log Request GET to https://10.233.235.164:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.233.235.164:9200/.charm_node_lock/_source/0
unit-self-signed-certificates-0: 02:58:22 DEBUG unit.self-signed-certificates/0.juju-log ops 2.14.0 up and running.
unit-opensearch-2: 02:58:22 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-self-signed-certificates-0: 02:58:22 DEBUG unit.self-signed-certificates/0.juju-log no relation on 'tracing': tracing not ready
unit-opensearch-2: 02:58:22 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-self-signed-certificates-0: 02:58:22 DEBUG unit.self-signed-certificates/0.juju-log Emitting Juju event update_status.
unit-opensearch-2: 02:58:22 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:58:22 ERROR unit.opensearch/2.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.233.235.164:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-2: 02:58:22 DEBUG unit.opensearch/2.juju-log Lock to start opensearch not acquired. Will retry next event
unit-opensearch-2: 02:58:22 DEBUG unit.opensearch/2.juju-log Deferring <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[546]>.
unit-opensearch-2: 02:58:22 DEBUG unit.opensearch/2.juju-log Emitting Juju event update_status.
unit-opensearch-2: 02:58:22 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:58:22 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-1: 02:58:22 DEBUG unit.opensearch/1.juju-log ops 2.14.1 up and running.
unit-self-signed-certificates-0: 02:58:22 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-0: 02:58:22 DEBUG unit.opensearch/0.juju-log ops 2.14.1 up and running.
unit-opensearch-1: 02:58:22 DEBUG unit.opensearch/1.juju-log Emitting Juju event update_status.
unit-opensearch-1: 02:58:22 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:58:22 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-0: 02:58:22 DEBUG unit.opensearch/0.juju-log Emitting Juju event update_status.
unit-opensearch-1: 02:58:22 DEBUG unit.opensearch/1.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:58:22 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:58:22 DEBUG unit.opensearch/1.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-0: 02:58:22 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-0: 02:58:23 DEBUG unit.opensearch/0.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:58:23 DEBUG unit.opensearch/0.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-1: 02:58:23 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-0: 02:58:23 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 02:58:29 DEBUG unit.opensearch/2.juju-log ops 2.14.1 up and running.
unit-opensearch-2: 02:58:29 DEBUG unit.opensearch/2.juju-log Re-emitting deferred event <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[546]>.
unit-opensearch-2: 02:58:29 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:58:29 ERROR unit.opensearch/2.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-2: 02:58:29 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:58:29 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:29 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:58:29 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:29 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:29 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:58:29 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:29 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:29 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:58:29 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:29 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:29 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:58:29 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:29 DEBUG unit.opensearch/2.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-2: 02:58:29 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:29 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:58:30 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:30 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:30 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:58:30 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:30 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:30 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:58:30 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:30 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:30 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:58:30 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:30 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:30 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:58:30 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /_nodes HTTP/11" 200 50765
unit-opensearch-2: 02:58:30 DEBUG unit.opensearch/2.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-2: 02:58:30 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:30 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:58:30 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:30 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:30 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:58:30 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:30 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:30 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:58:30 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:30 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:30 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:58:30 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:30 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:58:30 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:30 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:58:30 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:30 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:30 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:58:30 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:30 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:30 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:58:30 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:30 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:30 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:58:30 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:30 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:30 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:58:30 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-grafana-agent-3: 02:58:30 DEBUG unit.grafana-agent/3.juju-log ops 2.14.1 up and running.
unit-opensearch-2: 02:58:30 ERROR unit.opensearch/2.juju-log Request GET to https://10.233.235.166:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.233.235.166:9200/.charm_node_lock/_source/0
unit-grafana-agent-1: 02:58:30 DEBUG unit.grafana-agent/1.juju-log ops 2.14.1 up and running.
unit-grafana-agent-3: 02:58:30 DEBUG unit.grafana-agent/3.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-3: 02:58:30 DEBUG unit.grafana-agent/3.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x7d0c95172ac0> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-3: 02:58:30 DEBUG unit.grafana-agent/3.juju-log Emitting Juju event update_status.
unit-grafana-agent-1: 02:58:30 DEBUG unit.grafana-agent/1.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-1: 02:58:30 DEBUG unit.grafana-agent/1.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x7e867941ec50> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-1: 02:58:30 DEBUG unit.grafana-agent/1.juju-log Emitting Juju event update_status.
unit-grafana-agent-1: 02:58:30 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-3: 02:58:30 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-1: 02:58:31 DEBUG unit.opensearch/1.juju-log ops 2.14.1 up and running.
unit-opensearch-0: 02:58:31 DEBUG unit.opensearch/0.juju-log ops 2.14.1 up and running.
unit-opensearch-2: 02:58:31 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:31 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-1: 02:58:31 DEBUG unit.opensearch/1.juju-log Emitting Juju event update_status.
unit-opensearch-0: 02:58:31 DEBUG unit.opensearch/0.juju-log Emitting Juju event update_status.
unit-opensearch-1: 02:58:31 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:31 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:58:31 ERROR unit.opensearch/2.juju-log Request GET to https://10.233.235.166:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.233.235.166:9200/.charm_node_lock/_source/0
unit-opensearch-1: 02:58:31 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-0: 02:58:31 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:58:31 DEBUG unit.opensearch/1.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:58:31 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-0: 02:58:31 DEBUG unit.opensearch/0.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:58:31 DEBUG unit.opensearch/1.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-0: 02:58:31 DEBUG unit.opensearch/0.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-1: 02:58:31 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-0: 02:58:31 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-self-signed-certificates-0: 02:58:32 DEBUG unit.self-signed-certificates/0.juju-log ops 2.14.0 up and running.
unit-self-signed-certificates-0: 02:58:32 DEBUG unit.self-signed-certificates/0.juju-log no relation on 'tracing': tracing not ready
unit-self-signed-certificates-0: 02:58:32 DEBUG unit.self-signed-certificates/0.juju-log Emitting Juju event update_status.
unit-opensearch-2: 02:58:32 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:32 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:58:32 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:58:32 ERROR unit.opensearch/2.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.233.235.166:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-2: 02:58:32 DEBUG unit.opensearch/2.juju-log Lock to start opensearch not acquired. Will retry next event
unit-opensearch-2: 02:58:32 DEBUG unit.opensearch/2.juju-log Deferring <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[546]>.
unit-opensearch-2: 02:58:32 DEBUG unit.opensearch/2.juju-log Emitting Juju event update_status.
unit-opensearch-2: 02:58:32 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-self-signed-certificates-0: 02:58:32 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 02:58:32 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-0: 02:58:33 DEBUG unit.grafana-agent/0.juju-log ops 2.14.1 up and running.
unit-grafana-agent-0: 02:58:33 DEBUG unit.grafana-agent/0.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-0: 02:58:33 DEBUG unit.grafana-agent/0.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x7b39ddb86ac0> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-0: 02:58:33 DEBUG unit.grafana-agent/0.juju-log Emitting Juju event update_status.
unit-grafana-agent-0: 02:58:33 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-0: 02:58:38 DEBUG unit.grafana-agent/0.juju-log ops 2.14.1 up and running.
unit-grafana-agent-0: 02:58:38 DEBUG unit.grafana-agent/0.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-0: 02:58:38 DEBUG unit.grafana-agent/0.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x7d09a1982c00> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-0: 02:58:38 DEBUG unit.grafana-agent/0.juju-log Emitting Juju event update_status.
unit-grafana-agent-1: 02:58:38 DEBUG unit.grafana-agent/1.juju-log ops 2.14.1 up and running.
unit-grafana-agent-3: 02:58:38 DEBUG unit.grafana-agent/3.juju-log ops 2.14.1 up and running.
unit-grafana-agent-1: 02:58:38 DEBUG unit.grafana-agent/1.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-3: 02:58:38 DEBUG unit.grafana-agent/3.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-1: 02:58:38 DEBUG unit.grafana-agent/1.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x7af58e232ac0> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-3: 02:58:38 DEBUG unit.grafana-agent/3.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x7250a537ec00> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-3: 02:58:38 DEBUG unit.grafana-agent/3.juju-log Emitting Juju event update_status.
unit-grafana-agent-1: 02:58:38 DEBUG unit.grafana-agent/1.juju-log Emitting Juju event update_status.
unit-grafana-agent-0: 02:58:39 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-1: 02:58:39 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-3: 02:58:39 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 02:58:39 DEBUG unit.opensearch/2.juju-log ops 2.14.1 up and running.
unit-opensearch-1: 02:58:39 DEBUG unit.opensearch/1.juju-log ops 2.14.1 up and running.
unit-opensearch-0: 02:58:39 DEBUG unit.opensearch/0.juju-log ops 2.14.1 up and running.
unit-opensearch-2: 02:58:39 DEBUG unit.opensearch/2.juju-log Re-emitting deferred event <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[546]>.
unit-opensearch-1: 02:58:39 DEBUG unit.opensearch/1.juju-log Emitting Juju event update_status.
unit-opensearch-2: 02:58:39 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:58:39 ERROR unit.opensearch/2.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-2: 02:58:39 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-1: 02:58:39 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:58:40 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:58:40 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:58:40 DEBUG unit.opensearch/1.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:40 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-0: 02:58:40 DEBUG unit.opensearch/0.juju-log Emitting Juju event update_status.
unit-opensearch-2: 02:58:40 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:58:40 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:58:40 DEBUG unit.opensearch/1.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-2: 02:58:40 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:58:40 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:58:40 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-0: 02:58:40 DEBUG unit.opensearch/0.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:40 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:40 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:40 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-0: 02:58:40 DEBUG unit.opensearch/0.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-2: 02:58:40 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:40 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:40 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:58:40 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:40 DEBUG unit.opensearch/2.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-2: 02:58:40 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:40 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:58:40 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:40 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:40 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:58:40 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:40 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:40 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:58:40 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:40 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:40 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:58:40 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:40 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:40 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-1: 02:58:40 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 02:58:40 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET /_nodes HTTP/11" 200 50765
unit-opensearch-2: 02:58:40 DEBUG unit.opensearch/2.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-2: 02:58:40 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:40 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:58:40 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:40 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:40 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:58:40 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:40 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:40 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:58:40 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:40 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:40 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-0: 02:58:40 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 02:58:40 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:40 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:58:40 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:40 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:58:40 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:40 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:40 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:58:40 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:40 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:40 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:58:40 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:40 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:40 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:58:40 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:40 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:40 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:58:40 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:58:40 ERROR unit.opensearch/2.juju-log Request GET to https://10.233.235.166:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.233.235.166:9200/.charm_node_lock/_source/0
unit-opensearch-2: 02:58:41 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:41 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:58:41 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:58:41 ERROR unit.opensearch/2.juju-log Request GET to https://10.233.235.166:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.233.235.166:9200/.charm_node_lock/_source/0
unit-opensearch-2: 02:58:42 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:42 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:58:42 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:58:42 ERROR unit.opensearch/2.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.233.235.166:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-2: 02:58:42 DEBUG unit.opensearch/2.juju-log Lock to start opensearch not acquired. Will retry next event
unit-opensearch-2: 02:58:42 DEBUG unit.opensearch/2.juju-log Deferring <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[546]>.
unit-opensearch-2: 02:58:42 DEBUG unit.opensearch/2.juju-log Emitting Juju event update_status.
unit-opensearch-2: 02:58:42 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:58:43 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-self-signed-certificates-0: 02:58:44 DEBUG unit.self-signed-certificates/0.juju-log ops 2.14.0 up and running.
unit-self-signed-certificates-0: 02:58:44 DEBUG unit.self-signed-certificates/0.juju-log no relation on 'tracing': tracing not ready
unit-self-signed-certificates-0: 02:58:44 DEBUG unit.self-signed-certificates/0.juju-log Emitting Juju event update_status.
unit-self-signed-certificates-0: 02:58:44 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-0: 02:58:48 DEBUG unit.grafana-agent/0.juju-log ops 2.14.1 up and running.
unit-grafana-agent-0: 02:58:48 DEBUG unit.grafana-agent/0.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-0: 02:58:48 DEBUG unit.grafana-agent/0.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x70bf0496a9d0> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-0: 02:58:48 DEBUG unit.grafana-agent/0.juju-log Emitting Juju event update_status.
unit-grafana-agent-3: 02:58:48 DEBUG unit.grafana-agent/3.juju-log ops 2.14.1 up and running.
unit-grafana-agent-1: 02:58:48 DEBUG unit.grafana-agent/1.juju-log ops 2.14.1 up and running.
unit-grafana-agent-3: 02:58:48 DEBUG unit.grafana-agent/3.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-3: 02:58:48 DEBUG unit.grafana-agent/3.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x7d0f82172b10> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-3: 02:58:48 DEBUG unit.grafana-agent/3.juju-log Emitting Juju event update_status.
unit-grafana-agent-1: 02:58:48 DEBUG unit.grafana-agent/1.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-1: 02:58:48 DEBUG unit.grafana-agent/1.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x7f6a0af76ac0> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-1: 02:58:48 DEBUG unit.grafana-agent/1.juju-log Emitting Juju event update_status.
unit-grafana-agent-0: 02:58:48 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-3: 02:58:48 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-1: 02:58:48 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-0: 02:58:49 DEBUG unit.opensearch/0.juju-log ops 2.14.1 up and running.
unit-opensearch-1: 02:58:49 DEBUG unit.opensearch/1.juju-log ops 2.14.1 up and running.
unit-opensearch-0: 02:58:50 DEBUG unit.opensearch/0.juju-log Emitting Juju event update_status.
unit-opensearch-1: 02:58:50 DEBUG unit.opensearch/1.juju-log Emitting Juju event update_status.
unit-opensearch-0: 02:58:50 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:58:50 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:58:50 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-1: 02:58:50 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-0: 02:58:50 DEBUG unit.opensearch/0.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:58:50 DEBUG unit.opensearch/1.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:58:50 DEBUG unit.opensearch/0.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-1: 02:58:50 DEBUG unit.opensearch/1.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-0: 02:58:50 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-1: 02:58:50 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 02:58:50 DEBUG unit.opensearch/2.juju-log ops 2.14.1 up and running.
unit-opensearch-2: 02:58:50 DEBUG unit.opensearch/2.juju-log Re-emitting deferred event <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[546]>.
unit-opensearch-2: 02:58:50 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:58:50 ERROR unit.opensearch/2.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-2: 02:58:50 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:58:50 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:50 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:58:50 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:50 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:50 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:58:50 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:50 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:50 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:58:51 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:51 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:51 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:58:51 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:51 DEBUG unit.opensearch/2.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-2: 02:58:51 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:51 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:58:51 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:51 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:51 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:58:51 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:51 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:51 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:58:51 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:51 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:51 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:58:51 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:51 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:51 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:58:51 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /_nodes HTTP/11" 200 50765
unit-opensearch-2: 02:58:51 DEBUG unit.opensearch/2.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-2: 02:58:51 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:51 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:58:51 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:51 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:51 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:58:51 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:51 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:51 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:58:51 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:51 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:51 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:58:51 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:51 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:58:51 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:51 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:58:51 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:51 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:51 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:58:51 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:51 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:51 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:58:51 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:51 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:51 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:58:51 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:58:51 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:51 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:58:51 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:58:51 ERROR unit.opensearch/2.juju-log Request GET to https://10.233.235.166:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.233.235.166:9200/.charm_node_lock/_source/0
unit-opensearch-2: 02:58:52 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:52 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:58:52 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:58:52 ERROR unit.opensearch/2.juju-log Request GET to https://10.233.235.166:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.233.235.166:9200/.charm_node_lock/_source/0
unit-opensearch-2: 02:58:53 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:58:53 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:58:53 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:58:53 ERROR unit.opensearch/2.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.233.235.166:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-2: 02:58:53 DEBUG unit.opensearch/2.juju-log Lock to start opensearch not acquired. Will retry next event
unit-opensearch-2: 02:58:53 DEBUG unit.opensearch/2.juju-log Deferring <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[546]>.
unit-opensearch-2: 02:58:53 DEBUG unit.opensearch/2.juju-log Emitting Juju event update_status.
unit-opensearch-2: 02:58:53 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:58:54 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-self-signed-certificates-0: 02:58:54 DEBUG unit.self-signed-certificates/0.juju-log ops 2.14.0 up and running.
unit-self-signed-certificates-0: 02:58:54 DEBUG unit.self-signed-certificates/0.juju-log no relation on 'tracing': tracing not ready
unit-self-signed-certificates-0: 02:58:54 DEBUG unit.self-signed-certificates/0.juju-log Emitting Juju event update_status.
unit-self-signed-certificates-0: 02:58:54 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-0: 02:58:59 DEBUG unit.grafana-agent/0.juju-log ops 2.14.1 up and running.
unit-grafana-agent-1: 02:58:59 DEBUG unit.grafana-agent/1.juju-log ops 2.14.1 up and running.
unit-grafana-agent-3: 02:58:59 DEBUG unit.grafana-agent/3.juju-log ops 2.14.1 up and running.
unit-grafana-agent-0: 02:58:59 DEBUG unit.grafana-agent/0.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-0: 02:58:59 DEBUG unit.grafana-agent/0.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x789942176b60> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-1: 02:58:59 DEBUG unit.grafana-agent/1.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-0: 02:58:59 DEBUG unit.grafana-agent/0.juju-log Emitting Juju event update_status.
unit-grafana-agent-1: 02:58:59 DEBUG unit.grafana-agent/1.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x76d681b7a9d0> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-3: 02:58:59 DEBUG unit.grafana-agent/3.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-1: 02:58:59 DEBUG unit.grafana-agent/1.juju-log Emitting Juju event update_status.
unit-grafana-agent-3: 02:58:59 DEBUG unit.grafana-agent/3.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x73192ec2aa70> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-3: 02:58:59 DEBUG unit.grafana-agent/3.juju-log Emitting Juju event update_status.
unit-grafana-agent-0: 02:58:59 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-1: 02:58:59 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-3: 02:58:59 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-0: 02:59:00 DEBUG unit.opensearch/0.juju-log ops 2.14.1 up and running.
unit-opensearch-1: 02:59:00 DEBUG unit.opensearch/1.juju-log ops 2.14.1 up and running.
unit-opensearch-1: 02:59:00 DEBUG unit.opensearch/1.juju-log Emitting Juju event update_status.
unit-opensearch-1: 02:59:00 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:59:00 DEBUG unit.opensearch/0.juju-log Emitting Juju event update_status.
unit-opensearch-1: 02:59:00 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-0: 02:59:00 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:59:00 DEBUG unit.opensearch/1.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:59:00 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-0: 02:59:00 DEBUG unit.opensearch/0.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:59:00 DEBUG unit.opensearch/1.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-0: 02:59:00 DEBUG unit.opensearch/0.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-1: 02:59:00 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-0: 02:59:00 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 02:59:01 DEBUG unit.opensearch/2.juju-log ops 2.14.1 up and running.
unit-opensearch-2: 02:59:01 DEBUG unit.opensearch/2.juju-log Re-emitting deferred event <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[546]>.
unit-opensearch-2: 02:59:01 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:59:01 ERROR unit.opensearch/2.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-2: 02:59:01 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:59:01 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:01 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:01 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:01 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:01 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:01 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:01 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:01 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:59:01 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:01 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:01 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:59:01 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:01 DEBUG unit.opensearch/2.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-2: 02:59:01 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:01 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:01 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:01 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:01 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:02 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:02 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:02 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:59:02 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:02 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:02 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:59:02 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:02 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:02 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:02 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /_nodes HTTP/11" 200 50765
unit-opensearch-2: 02:59:02 DEBUG unit.opensearch/2.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-2: 02:59:02 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:02 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:02 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:02 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:02 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:59:02 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:02 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:02 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:02 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:02 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:02 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:59:02 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:02 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:59:02 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:02 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:02 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:02 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:02 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:59:02 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:02 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:02 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:02 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:02 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:02 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:59:02 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:02 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:02 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:02 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:59:02 ERROR unit.opensearch/2.juju-log Request GET to https://10.233.235.166:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.233.235.166:9200/.charm_node_lock/_source/0
unit-self-signed-certificates-0: 02:59:03 DEBUG unit.self-signed-certificates/0.juju-log ops 2.14.0 up and running.
unit-opensearch-2: 02:59:03 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:03 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-self-signed-certificates-0: 02:59:03 DEBUG unit.self-signed-certificates/0.juju-log no relation on 'tracing': tracing not ready
unit-opensearch-2: 02:59:03 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-self-signed-certificates-0: 02:59:03 DEBUG unit.self-signed-certificates/0.juju-log Emitting Juju event update_status.
unit-opensearch-2: 02:59:03 ERROR unit.opensearch/2.juju-log Request GET to https://10.233.235.166:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.233.235.166:9200/.charm_node_lock/_source/0
unit-self-signed-certificates-0: 02:59:04 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 02:59:04 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:04 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:04 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:59:04 ERROR unit.opensearch/2.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.233.235.166:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-2: 02:59:04 DEBUG unit.opensearch/2.juju-log Lock to start opensearch not acquired. Will retry next event
unit-opensearch-2: 02:59:04 DEBUG unit.opensearch/2.juju-log Deferring <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[546]>.
unit-opensearch-2: 02:59:04 DEBUG unit.opensearch/2.juju-log Emitting Juju event update_status.
unit-opensearch-2: 02:59:04 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:59:05 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-0: 02:59:08 DEBUG unit.grafana-agent/0.juju-log ops 2.14.1 up and running.
unit-grafana-agent-0: 02:59:08 DEBUG unit.grafana-agent/0.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-1: 02:59:08 DEBUG unit.grafana-agent/1.juju-log ops 2.14.1 up and running.
unit-grafana-agent-0: 02:59:08 DEBUG unit.grafana-agent/0.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x763dec986a70> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-3: 02:59:08 DEBUG unit.grafana-agent/3.juju-log ops 2.14.1 up and running.
unit-grafana-agent-0: 02:59:08 DEBUG unit.grafana-agent/0.juju-log Emitting Juju event update_status.
unit-grafana-agent-1: 02:59:08 DEBUG unit.grafana-agent/1.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-3: 02:59:08 DEBUG unit.grafana-agent/3.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-1: 02:59:08 DEBUG unit.grafana-agent/1.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x76d72ee3abb0> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-3: 02:59:08 DEBUG unit.grafana-agent/3.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x73ff7a386b60> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-1: 02:59:08 DEBUG unit.grafana-agent/1.juju-log Emitting Juju event update_status.
unit-grafana-agent-3: 02:59:08 DEBUG unit.grafana-agent/3.juju-log Emitting Juju event update_status.
unit-grafana-agent-0: 02:59:09 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-3: 02:59:09 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-1: 02:59:09 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-0: 02:59:09 DEBUG unit.opensearch/0.juju-log ops 2.14.1 up and running.
unit-opensearch-1: 02:59:09 DEBUG unit.opensearch/1.juju-log ops 2.14.1 up and running.
unit-opensearch-0: 02:59:09 DEBUG unit.opensearch/0.juju-log Emitting Juju event update_status.
unit-opensearch-1: 02:59:09 DEBUG unit.opensearch/1.juju-log Emitting Juju event update_status.
unit-opensearch-0: 02:59:09 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:59:09 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-1: 02:59:09 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:59:09 DEBUG unit.opensearch/0.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:59:09 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-0: 02:59:09 DEBUG unit.opensearch/0.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-1: 02:59:09 DEBUG unit.opensearch/1.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:59:09 DEBUG unit.opensearch/1.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-0: 02:59:10 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-1: 02:59:10 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 02:59:11 DEBUG unit.opensearch/2.juju-log ops 2.14.1 up and running.
unit-opensearch-2: 02:59:11 DEBUG unit.opensearch/2.juju-log Re-emitting deferred event <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[546]>.
unit-opensearch-2: 02:59:11 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:59:11 ERROR unit.opensearch/2.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-2: 02:59:11 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:59:11 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:11 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:11 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:11 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:11 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:59:11 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:11 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:11 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:59:11 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:12 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:12 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:12 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:12 DEBUG unit.opensearch/2.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-2: 02:59:12 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:12 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:12 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:12 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:12 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:59:12 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:12 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:12 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:59:12 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:12 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:12 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:12 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:12 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:12 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:12 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /_nodes HTTP/11" 200 50765
unit-opensearch-2: 02:59:12 DEBUG unit.opensearch/2.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-2: 02:59:12 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:12 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:12 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:12 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:12 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:12 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:12 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:12 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:59:12 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:12 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:12 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:59:12 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:12 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:59:12 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:12 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:12 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:12 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:12 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:12 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:12 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:12 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:59:12 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:12 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:12 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:59:12 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:12 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:12 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:12 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:59:12 ERROR unit.opensearch/2.juju-log Request GET to https://10.233.235.166:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.233.235.166:9200/.charm_node_lock/_source/0
unit-self-signed-certificates-0: 02:59:12 DEBUG unit.self-signed-certificates/0.juju-log ops 2.14.0 up and running.
unit-self-signed-certificates-0: 02:59:12 DEBUG unit.self-signed-certificates/0.juju-log no relation on 'tracing': tracing not ready
unit-self-signed-certificates-0: 02:59:12 DEBUG unit.self-signed-certificates/0.juju-log Emitting Juju event update_status.
unit-self-signed-certificates-0: 02:59:13 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 02:59:13 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:13 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:13 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:59:13 ERROR unit.opensearch/2.juju-log Request GET to https://10.233.235.166:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.233.235.166:9200/.charm_node_lock/_source/0
unit-opensearch-2: 02:59:14 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:14 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:14 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:59:14 ERROR unit.opensearch/2.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.233.235.166:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-2: 02:59:14 DEBUG unit.opensearch/2.juju-log Lock to start opensearch not acquired. Will retry next event
unit-opensearch-2: 02:59:14 DEBUG unit.opensearch/2.juju-log Deferring <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[546]>.
unit-opensearch-2: 02:59:14 DEBUG unit.opensearch/2.juju-log Emitting Juju event update_status.
unit-opensearch-2: 02:59:14 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:59:15 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-0: 02:59:17 DEBUG unit.opensearch/0.juju-log ops 2.14.1 up and running.
unit-opensearch-1: 02:59:17 DEBUG unit.opensearch/1.juju-log ops 2.14.1 up and running.
unit-opensearch-0: 02:59:17 DEBUG unit.opensearch/0.juju-log Emitting Juju event update_status.
unit-opensearch-1: 02:59:17 DEBUG unit.opensearch/1.juju-log Emitting Juju event update_status.
unit-opensearch-0: 02:59:17 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:59:17 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:59:17 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-0: 02:59:17 DEBUG unit.opensearch/0.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:59:17 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-1: 02:59:18 DEBUG unit.opensearch/1.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:59:18 DEBUG unit.opensearch/0.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-1: 02:59:18 DEBUG unit.opensearch/1.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-0: 02:59:18 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-1: 02:59:18 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-0: 02:59:20 DEBUG unit.grafana-agent/0.juju-log ops 2.14.1 up and running.
unit-grafana-agent-1: 02:59:20 DEBUG unit.grafana-agent/1.juju-log ops 2.14.1 up and running.
unit-grafana-agent-0: 02:59:20 DEBUG unit.grafana-agent/0.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-3: 02:59:20 DEBUG unit.grafana-agent/3.juju-log ops 2.14.1 up and running.
unit-grafana-agent-0: 02:59:20 DEBUG unit.grafana-agent/0.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x728a79986c50> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-1: 02:59:20 DEBUG unit.grafana-agent/1.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-0: 02:59:20 DEBUG unit.grafana-agent/0.juju-log Emitting Juju event update_status.
unit-grafana-agent-1: 02:59:20 DEBUG unit.grafana-agent/1.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x721367b86930> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-1: 02:59:20 DEBUG unit.grafana-agent/1.juju-log Emitting Juju event update_status.
unit-grafana-agent-3: 02:59:20 DEBUG unit.grafana-agent/3.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-3: 02:59:20 DEBUG unit.grafana-agent/3.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x74efb257ea20> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-3: 02:59:20 DEBUG unit.grafana-agent/3.juju-log Emitting Juju event update_status.
unit-grafana-agent-0: 02:59:20 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-1: 02:59:20 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-3: 02:59:20 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 02:59:21 DEBUG unit.opensearch/2.juju-log ops 2.14.1 up and running.
unit-opensearch-2: 02:59:21 DEBUG unit.opensearch/2.juju-log Re-emitting deferred event <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[546]>.
unit-opensearch-2: 02:59:21 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:59:21 ERROR unit.opensearch/2.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-2: 02:59:21 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:59:21 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:21 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:59:21 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:21 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:21 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:21 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:21 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:21 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:59:21 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:21 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:21 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:21 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:21 DEBUG unit.opensearch/2.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-2: 02:59:21 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:21 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:59:21 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:21 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:21 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:21 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:21 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:21 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-self-signed-certificates-0: 02:59:21 DEBUG unit.self-signed-certificates/0.juju-log ops 2.14.0 up and running.
unit-opensearch-2: 02:59:21 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:21 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:21 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-self-signed-certificates-0: 02:59:21 DEBUG unit.self-signed-certificates/0.juju-log no relation on 'tracing': tracing not ready
unit-opensearch-2: 02:59:21 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-self-signed-certificates-0: 02:59:21 DEBUG unit.self-signed-certificates/0.juju-log Emitting Juju event update_status.
unit-opensearch-2: 02:59:21 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:21 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:59:21 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET /_nodes HTTP/11" 200 50765
unit-opensearch-2: 02:59:21 DEBUG unit.opensearch/2.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-2: 02:59:21 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:21 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:21 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:21 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:21 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:59:21 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:21 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:21 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:21 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:21 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:21 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:59:21 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:21 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:59:21 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:21 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:21 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:22 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:22 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:59:22 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:22 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:22 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:22 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:22 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:22 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:59:22 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:22 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:22 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:22 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:59:22 ERROR unit.opensearch/2.juju-log Request GET to https://10.233.235.166:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.233.235.166:9200/.charm_node_lock/_source/0
unit-self-signed-certificates-0: 02:59:22 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 02:59:23 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:23 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:23 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:59:23 ERROR unit.opensearch/2.juju-log Request GET to https://10.233.235.166:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.233.235.166:9200/.charm_node_lock/_source/0
unit-opensearch-2: 02:59:24 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:24 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:24 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:59:24 ERROR unit.opensearch/2.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.233.235.166:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-2: 02:59:24 DEBUG unit.opensearch/2.juju-log Lock to start opensearch not acquired. Will retry next event
unit-opensearch-2: 02:59:24 DEBUG unit.opensearch/2.juju-log Deferring <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[546]>.
unit-opensearch-2: 02:59:24 DEBUG unit.opensearch/2.juju-log Emitting Juju event update_status.
unit-opensearch-2: 02:59:24 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:59:24 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-1: 02:59:25 DEBUG unit.opensearch/1.juju-log ops 2.14.1 up and running.
unit-opensearch-0: 02:59:25 DEBUG unit.opensearch/0.juju-log ops 2.14.1 up and running.
unit-opensearch-1: 02:59:26 DEBUG unit.opensearch/1.juju-log Emitting Juju event update_status.
unit-opensearch-0: 02:59:26 DEBUG unit.opensearch/0.juju-log Emitting Juju event update_status.
unit-opensearch-1: 02:59:26 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:59:26 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:59:26 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-0: 02:59:26 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-0: 02:59:26 DEBUG unit.opensearch/0.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:59:26 DEBUG unit.opensearch/1.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:59:26 DEBUG unit.opensearch/0.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-1: 02:59:26 DEBUG unit.opensearch/1.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-0: 02:59:26 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-1: 02:59:26 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-0: 02:59:29 DEBUG unit.grafana-agent/0.juju-log ops 2.14.1 up and running.
unit-grafana-agent-0: 02:59:29 DEBUG unit.grafana-agent/0.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-0: 02:59:29 DEBUG unit.grafana-agent/0.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x7d9afc786b10> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-0: 02:59:29 DEBUG unit.grafana-agent/0.juju-log Emitting Juju event update_status.
unit-grafana-agent-1: 02:59:29 DEBUG unit.grafana-agent/1.juju-log ops 2.14.1 up and running.
unit-grafana-agent-3: 02:59:29 DEBUG unit.grafana-agent/3.juju-log ops 2.14.1 up and running.
unit-grafana-agent-1: 02:59:29 DEBUG unit.grafana-agent/1.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-3: 02:59:29 DEBUG unit.grafana-agent/3.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-1: 02:59:29 DEBUG unit.grafana-agent/1.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x7e6144176c50> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-3: 02:59:29 DEBUG unit.grafana-agent/3.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x70c11ff7ab10> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-1: 02:59:29 DEBUG unit.grafana-agent/1.juju-log Emitting Juju event update_status.
unit-grafana-agent-3: 02:59:29 DEBUG unit.grafana-agent/3.juju-log Emitting Juju event update_status.
unit-grafana-agent-0: 02:59:29 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-1: 02:59:29 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-3: 02:59:29 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 02:59:30 DEBUG unit.opensearch/2.juju-log ops 2.14.1 up and running.
unit-opensearch-2: 02:59:30 DEBUG unit.opensearch/2.juju-log Re-emitting deferred event <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[546]>.
unit-opensearch-2: 02:59:30 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:59:30 ERROR unit.opensearch/2.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-2: 02:59:30 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:59:30 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:30 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:30 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:30 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:30 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:30 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:30 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:30 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:59:30 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:30 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:30 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:59:30 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:30 DEBUG unit.opensearch/2.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-2: 02:59:30 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:30 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:30 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:30 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:30 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:30 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:30 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:30 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:59:30 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:30 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:30 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:59:30 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:30 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:30 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:30 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /_nodes HTTP/11" 200 50765
unit-opensearch-2: 02:59:30 DEBUG unit.opensearch/2.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-2: 02:59:30 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:30 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:30 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:30 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:30 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:59:30 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:30 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:30 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:59:30 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:30 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:30 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:31 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:31 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:59:31 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:31 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:31 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:31 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:31 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:59:31 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:31 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:31 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:59:31 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:31 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:31 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:31 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:31 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:31 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:31 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:59:31 ERROR unit.opensearch/2.juju-log Request GET to https://10.233.235.166:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.233.235.166:9200/.charm_node_lock/_source/0
unit-self-signed-certificates-0: 02:59:31 DEBUG unit.self-signed-certificates/0.juju-log ops 2.14.0 up and running.
unit-self-signed-certificates-0: 02:59:31 DEBUG unit.self-signed-certificates/0.juju-log no relation on 'tracing': tracing not ready
unit-self-signed-certificates-0: 02:59:31 DEBUG unit.self-signed-certificates/0.juju-log Emitting Juju event update_status.
unit-opensearch-2: 02:59:32 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:32 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:32 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:59:32 ERROR unit.opensearch/2.juju-log Request GET to https://10.233.235.166:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.233.235.166:9200/.charm_node_lock/_source/0
unit-self-signed-certificates-0: 02:59:32 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 02:59:33 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:33 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:33 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:59:33 ERROR unit.opensearch/2.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.233.235.166:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-2: 02:59:33 DEBUG unit.opensearch/2.juju-log Lock to start opensearch not acquired. Will retry next event
unit-opensearch-2: 02:59:33 DEBUG unit.opensearch/2.juju-log Deferring <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[546]>.
unit-opensearch-2: 02:59:33 DEBUG unit.opensearch/2.juju-log Emitting Juju event update_status.
unit-opensearch-2: 02:59:33 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:59:33 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-1: 02:59:34 DEBUG unit.opensearch/1.juju-log ops 2.14.1 up and running.
unit-opensearch-0: 02:59:34 DEBUG unit.opensearch/0.juju-log ops 2.14.1 up and running.
unit-opensearch-1: 02:59:34 DEBUG unit.opensearch/1.juju-log Emitting Juju event update_status.
unit-opensearch-1: 02:59:34 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:59:34 DEBUG unit.opensearch/0.juju-log Emitting Juju event update_status.
unit-opensearch-1: 02:59:34 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-0: 02:59:34 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:59:34 DEBUG unit.opensearch/1.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:59:34 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-0: 02:59:34 DEBUG unit.opensearch/0.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:59:34 DEBUG unit.opensearch/1.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-0: 02:59:34 DEBUG unit.opensearch/0.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-1: 02:59:35 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-0: 02:59:35 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 02:59:38 DEBUG unit.opensearch/2.juju-log ops 2.14.1 up and running.
unit-opensearch-2: 02:59:38 DEBUG unit.opensearch/2.juju-log Re-emitting deferred event <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[546]>.
unit-opensearch-2: 02:59:38 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:59:38 ERROR unit.opensearch/2.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-2: 02:59:38 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:59:38 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:38 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:59:38 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:38 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:38 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:38 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:38 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:38 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:59:38 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:38 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:38 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:38 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:38 DEBUG unit.opensearch/2.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-2: 02:59:38 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:38 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:59:38 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:38 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:38 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:38 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:38 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:38 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:59:38 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:38 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:38 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:38 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:38 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:38 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:59:39 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET /_nodes HTTP/11" 200 50765
unit-opensearch-2: 02:59:39 DEBUG unit.opensearch/2.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-2: 02:59:39 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:39 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:39 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:39 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:39 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:59:39 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:39 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:39 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:39 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:39 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:39 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:59:39 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:39 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:59:39 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:39 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:39 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:39 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:39 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:59:39 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:39 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:39 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:39 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:39 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:39 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:59:39 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:39 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:39 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:39 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:59:39 ERROR unit.opensearch/2.juju-log Request GET to https://10.233.235.166:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.233.235.166:9200/.charm_node_lock/_source/0
unit-opensearch-2: 02:59:40 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:40 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:40 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:59:40 ERROR unit.opensearch/2.juju-log Request GET to https://10.233.235.166:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.233.235.166:9200/.charm_node_lock/_source/0
unit-grafana-agent-1: 02:59:41 DEBUG unit.grafana-agent/1.juju-log ops 2.14.1 up and running.
unit-grafana-agent-3: 02:59:41 DEBUG unit.grafana-agent/3.juju-log ops 2.14.1 up and running.
unit-grafana-agent-1: 02:59:41 DEBUG unit.grafana-agent/1.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-1: 02:59:41 DEBUG unit.grafana-agent/1.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x705430d86c00> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-1: 02:59:41 DEBUG unit.grafana-agent/1.juju-log Emitting Juju event update_status.
unit-grafana-agent-3: 02:59:41 DEBUG unit.grafana-agent/3.juju-log no relation on 'tracing': tracing not ready
unit-opensearch-2: 02:59:41 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-grafana-agent-3: 02:59:41 DEBUG unit.grafana-agent/3.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x7b5592776c00> returned None; quietly disabling charm_tracing for the run.
unit-opensearch-2: 02:59:41 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-grafana-agent-3: 02:59:41 DEBUG unit.grafana-agent/3.juju-log Emitting Juju event update_status.
unit-opensearch-2: 02:59:41 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:59:41 ERROR unit.opensearch/2.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.233.235.166:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-2: 02:59:41 DEBUG unit.opensearch/2.juju-log Lock to start opensearch not acquired. Will retry next event
unit-opensearch-2: 02:59:41 DEBUG unit.opensearch/2.juju-log Deferring <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[546]>.
unit-opensearch-2: 02:59:41 DEBUG unit.opensearch/2.juju-log Emitting Juju event update_status.
unit-opensearch-2: 02:59:41 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-grafana-agent-1: 02:59:41 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-3: 02:59:41 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 02:59:41 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-0: 02:59:42 DEBUG unit.grafana-agent/0.juju-log ops 2.14.1 up and running.
unit-grafana-agent-0: 02:59:42 DEBUG unit.grafana-agent/0.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-0: 02:59:42 DEBUG unit.grafana-agent/0.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x7480b6a2ebb0> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-0: 02:59:42 DEBUG unit.grafana-agent/0.juju-log Emitting Juju event update_status.
unit-grafana-agent-0: 02:59:42 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-1: 02:59:43 DEBUG unit.opensearch/1.juju-log ops 2.14.1 up and running.
unit-self-signed-certificates-0: 02:59:43 DEBUG unit.self-signed-certificates/0.juju-log ops 2.14.0 up and running.
unit-opensearch-0: 02:59:43 DEBUG unit.opensearch/0.juju-log ops 2.14.1 up and running.
unit-self-signed-certificates-0: 02:59:43 DEBUG unit.self-signed-certificates/0.juju-log no relation on 'tracing': tracing not ready
unit-self-signed-certificates-0: 02:59:43 DEBUG unit.self-signed-certificates/0.juju-log Emitting Juju event update_status.
unit-opensearch-1: 02:59:43 DEBUG unit.opensearch/1.juju-log Emitting Juju event update_status.
unit-opensearch-1: 02:59:43 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:59:43 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-0: 02:59:43 DEBUG unit.opensearch/0.juju-log Emitting Juju event update_status.
unit-opensearch-1: 02:59:43 DEBUG unit.opensearch/1.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:59:43 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:59:43 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-1: 02:59:43 DEBUG unit.opensearch/1.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-0: 02:59:43 DEBUG unit.opensearch/0.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:59:43 DEBUG unit.opensearch/0.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-1: 02:59:43 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-self-signed-certificates-0: 02:59:43 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-0: 02:59:43 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 02:59:47 DEBUG unit.opensearch/2.juju-log ops 2.14.1 up and running.
unit-opensearch-2: 02:59:47 DEBUG unit.opensearch/2.juju-log Re-emitting deferred event <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[546]>.
unit-opensearch-2: 02:59:47 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:59:47 ERROR unit.opensearch/2.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-2: 02:59:47 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:59:47 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:47 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:47 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:47 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:47 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:59:47 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:47 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:47 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:59:47 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:47 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:47 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:47 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:47 DEBUG unit.opensearch/2.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-2: 02:59:47 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:47 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:47 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:47 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:47 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:59:47 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:47 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:47 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:59:47 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:47 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:47 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:47 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:47 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:47 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:47 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /_nodes HTTP/11" 200 50765
unit-opensearch-2: 02:59:47 DEBUG unit.opensearch/2.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-2: 02:59:47 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:47 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:47 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:47 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:47 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:59:47 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:47 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:47 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:59:47 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:47 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:47 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:47 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:47 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:59:47 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:47 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:47 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:47 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:47 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:59:47 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:47 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:47 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:59:47 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:47 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:47 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:47 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:47 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:47 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:47 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:59:47 ERROR unit.opensearch/2.juju-log Request GET to https://10.233.235.166:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.233.235.166:9200/.charm_node_lock/_source/0
unit-opensearch-2: 02:59:48 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:48 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:48 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:59:48 ERROR unit.opensearch/2.juju-log Request GET to https://10.233.235.166:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.233.235.166:9200/.charm_node_lock/_source/0
unit-grafana-agent-3: 02:59:49 DEBUG unit.grafana-agent/3.juju-log ops 2.14.1 up and running.
unit-grafana-agent-1: 02:59:49 DEBUG unit.grafana-agent/1.juju-log ops 2.14.1 up and running.
unit-grafana-agent-3: 02:59:49 DEBUG unit.grafana-agent/3.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-3: 02:59:49 DEBUG unit.grafana-agent/3.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x72e62aa42b10> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-3: 02:59:49 DEBUG unit.grafana-agent/3.juju-log Emitting Juju event update_status.
unit-grafana-agent-1: 02:59:49 DEBUG unit.grafana-agent/1.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-1: 02:59:49 DEBUG unit.grafana-agent/1.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x7c2edbf7ec00> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-1: 02:59:49 DEBUG unit.grafana-agent/1.juju-log Emitting Juju event update_status.
unit-grafana-agent-3: 02:59:49 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-1: 02:59:49 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 02:59:50 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:50 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:50 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:59:50 ERROR unit.opensearch/2.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.233.235.166:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-2: 02:59:50 DEBUG unit.opensearch/2.juju-log Lock to start opensearch not acquired. Will retry next event
unit-opensearch-2: 02:59:50 DEBUG unit.opensearch/2.juju-log Deferring <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[546]>.
unit-opensearch-2: 02:59:50 DEBUG unit.opensearch/2.juju-log Emitting Juju event update_status.
unit-opensearch-2: 02:59:50 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:59:50 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-0: 02:59:50 DEBUG unit.grafana-agent/0.juju-log ops 2.14.1 up and running.
unit-grafana-agent-0: 02:59:50 DEBUG unit.grafana-agent/0.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-0: 02:59:50 DEBUG unit.grafana-agent/0.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x7a8701b7ab10> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-0: 02:59:50 DEBUG unit.grafana-agent/0.juju-log Emitting Juju event update_status.
unit-grafana-agent-0: 02:59:51 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-self-signed-certificates-0: 02:59:51 DEBUG unit.self-signed-certificates/0.juju-log ops 2.14.0 up and running.
unit-self-signed-certificates-0: 02:59:51 DEBUG unit.self-signed-certificates/0.juju-log no relation on 'tracing': tracing not ready
unit-self-signed-certificates-0: 02:59:51 DEBUG unit.self-signed-certificates/0.juju-log Emitting Juju event update_status.
unit-self-signed-certificates-0: 02:59:52 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-0: 02:59:53 DEBUG unit.opensearch/0.juju-log ops 2.14.1 up and running.
unit-opensearch-1: 02:59:53 DEBUG unit.opensearch/1.juju-log ops 2.14.1 up and running.
unit-opensearch-0: 02:59:53 DEBUG unit.opensearch/0.juju-log Emitting Juju event update_status.
unit-opensearch-1: 02:59:53 DEBUG unit.opensearch/1.juju-log Emitting Juju event update_status.
unit-opensearch-0: 02:59:53 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:59:53 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:59:53 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-1: 02:59:53 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-0: 02:59:53 DEBUG unit.opensearch/0.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:59:53 DEBUG unit.opensearch/1.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:59:53 DEBUG unit.opensearch/0.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-1: 02:59:53 DEBUG unit.opensearch/1.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-0: 02:59:54 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-1: 02:59:54 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 02:59:55 DEBUG unit.opensearch/2.juju-log ops 2.14.1 up and running.
unit-opensearch-2: 02:59:55 DEBUG unit.opensearch/2.juju-log Re-emitting deferred event <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[546]>.
unit-opensearch-2: 02:59:55 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:59:55 ERROR unit.opensearch/2.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-2: 02:59:55 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:59:55 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:55 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:55 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:55 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:55 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:59:55 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:55 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:55 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:59:56 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:56 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:56 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:56 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:56 DEBUG unit.opensearch/2.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-2: 02:59:56 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:56 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:56 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:56 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:56 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:59:56 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:56 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:56 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:59:56 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:56 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:56 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:56 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:56 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:56 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:56 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /_nodes HTTP/11" 200 50765
unit-opensearch-2: 02:59:56 DEBUG unit.opensearch/2.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-2: 02:59:56 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:56 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:56 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:56 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:56 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:59:56 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:56 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:56 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:59:56 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:56 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:56 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:56 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:56 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:59:56 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:56 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:56 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:56 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:56 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:59:56 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:56 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:56 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 02:59:56 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:56 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:56 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:56 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:59:56 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:56 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:56 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:59:56 ERROR unit.opensearch/2.juju-log Request GET to https://10.233.235.166:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.233.235.166:9200/.charm_node_lock/_source/0
unit-opensearch-2: 02:59:57 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:57 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:57 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:59:57 ERROR unit.opensearch/2.juju-log Request GET to https://10.233.235.166:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.233.235.166:9200/.charm_node_lock/_source/0
unit-opensearch-2: 02:59:58 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:59:58 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 02:59:58 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 02:59:58 ERROR unit.opensearch/2.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.233.235.166:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-2: 02:59:58 DEBUG unit.opensearch/2.juju-log Lock to start opensearch not acquired. Will retry next event
unit-opensearch-2: 02:59:58 DEBUG unit.opensearch/2.juju-log Deferring <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[546]>.
unit-opensearch-2: 02:59:58 DEBUG unit.opensearch/2.juju-log Emitting Juju event update_status.
unit-opensearch-2: 02:59:58 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 02:59:59 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-0: 02:59:59 DEBUG unit.grafana-agent/0.juju-log ops 2.14.1 up and running.
unit-grafana-agent-1: 02:59:59 DEBUG unit.grafana-agent/1.juju-log ops 2.14.1 up and running.
unit-grafana-agent-3: 02:59:59 DEBUG unit.grafana-agent/3.juju-log ops 2.14.1 up and running.
unit-grafana-agent-0: 02:59:59 DEBUG unit.grafana-agent/0.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-0: 02:59:59 DEBUG unit.grafana-agent/0.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x7d237d386bb0> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-0: 02:59:59 DEBUG unit.grafana-agent/0.juju-log Emitting Juju event update_status.
unit-grafana-agent-3: 02:59:59 DEBUG unit.grafana-agent/3.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-1: 02:59:59 DEBUG unit.grafana-agent/1.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-3: 02:59:59 DEBUG unit.grafana-agent/3.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x705e7cb76a70> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-1: 02:59:59 DEBUG unit.grafana-agent/1.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x7320c1d72ac0> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-3: 02:59:59 DEBUG unit.grafana-agent/3.juju-log Emitting Juju event update_status.
unit-grafana-agent-1: 02:59:59 DEBUG unit.grafana-agent/1.juju-log Emitting Juju event update_status.
unit-grafana-agent-1: 03:00:00 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-3: 03:00:00 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-0: 03:00:00 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-self-signed-certificates-0: 03:00:02 DEBUG unit.self-signed-certificates/0.juju-log ops 2.14.0 up and running.
unit-self-signed-certificates-0: 03:00:02 DEBUG unit.self-signed-certificates/0.juju-log no relation on 'tracing': tracing not ready
unit-self-signed-certificates-0: 03:00:02 DEBUG unit.self-signed-certificates/0.juju-log Emitting Juju event update_status.
unit-self-signed-certificates-0: 03:00:02 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-1: 03:00:04 DEBUG unit.opensearch/1.juju-log ops 2.14.1 up and running.
unit-opensearch-0: 03:00:04 DEBUG unit.opensearch/0.juju-log ops 2.14.1 up and running.
unit-opensearch-2: 03:00:04 DEBUG unit.opensearch/2.juju-log ops 2.14.1 up and running.
unit-opensearch-1: 03:00:04 DEBUG unit.opensearch/1.juju-log Emitting Juju event update_status.
unit-opensearch-1: 03:00:04 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 03:00:04 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-0: 03:00:04 DEBUG unit.opensearch/0.juju-log Emitting Juju event update_status.
unit-opensearch-1: 03:00:04 DEBUG unit.opensearch/1.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:04 DEBUG unit.opensearch/2.juju-log Re-emitting deferred event <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[546]>.
unit-opensearch-0: 03:00:04 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:04 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-1: 03:00:04 DEBUG unit.opensearch/1.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-2: 03:00:04 ERROR unit.opensearch/2.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-0: 03:00:04 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 03:00:04 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-0: 03:00:04 DEBUG unit.opensearch/0.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:04 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:04 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-0: 03:00:04 DEBUG unit.opensearch/0.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-2: 03:00:04 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:04 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:04 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 03:00:04 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:04 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:04 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 03:00:04 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:04 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:04 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 03:00:04 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:04 DEBUG unit.opensearch/2.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-2: 03:00:04 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:04 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 03:00:04 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:04 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:04 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 03:00:04 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:04 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:04 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 03:00:04 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:04 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:04 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 03:00:04 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 03:00:04 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 03:00:04 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:04 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 03:00:04 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET /_nodes HTTP/11" 200 50765
unit-opensearch-2: 03:00:04 DEBUG unit.opensearch/2.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-2: 03:00:04 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:04 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-0: 03:00:04 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 03:00:04 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:04 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:04 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 03:00:04 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:04 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:04 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 03:00:04 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:04 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:04 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 03:00:04 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:04 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 03:00:04 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:05 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 03:00:05 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:05 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:05 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 03:00:05 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:05 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:05 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 03:00:05 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:05 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:05 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 03:00:05 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:05 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:05 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 03:00:05 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 03:00:05 ERROR unit.opensearch/2.juju-log Request GET to https://10.233.235.164:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.233.235.164:9200/.charm_node_lock/_source/0
unit-opensearch-2: 03:00:06 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:06 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 03:00:06 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 03:00:06 ERROR unit.opensearch/2.juju-log Request GET to https://10.233.235.164:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.233.235.164:9200/.charm_node_lock/_source/0
unit-opensearch-2: 03:00:07 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:07 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 03:00:07 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 03:00:07 ERROR unit.opensearch/2.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.233.235.164:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-2: 03:00:07 DEBUG unit.opensearch/2.juju-log Lock to start opensearch not acquired. Will retry next event
unit-opensearch-2: 03:00:07 DEBUG unit.opensearch/2.juju-log Deferring <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[546]>.
unit-opensearch-2: 03:00:07 DEBUG unit.opensearch/2.juju-log Emitting Juju event update_status.
unit-opensearch-2: 03:00:07 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 03:00:07 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-0: 03:00:08 DEBUG unit.grafana-agent/0.juju-log ops 2.14.1 up and running.
unit-grafana-agent-0: 03:00:08 DEBUG unit.grafana-agent/0.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-3: 03:00:08 DEBUG unit.grafana-agent/3.juju-log ops 2.14.1 up and running.
unit-grafana-agent-0: 03:00:08 DEBUG unit.grafana-agent/0.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x7984fd772930> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-1: 03:00:08 DEBUG unit.grafana-agent/1.juju-log ops 2.14.1 up and running.
unit-grafana-agent-0: 03:00:08 DEBUG unit.grafana-agent/0.juju-log Emitting Juju event update_status.
unit-grafana-agent-3: 03:00:08 DEBUG unit.grafana-agent/3.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-1: 03:00:08 DEBUG unit.grafana-agent/1.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-3: 03:00:08 DEBUG unit.grafana-agent/3.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x759d8202eb10> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-1: 03:00:08 DEBUG unit.grafana-agent/1.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x7bd747d72b10> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-3: 03:00:08 DEBUG unit.grafana-agent/3.juju-log Emitting Juju event update_status.
unit-grafana-agent-1: 03:00:08 DEBUG unit.grafana-agent/1.juju-log Emitting Juju event update_status.
unit-grafana-agent-0: 03:00:08 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-3: 03:00:08 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-1: 03:00:08 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-self-signed-certificates-0: 03:00:12 DEBUG unit.self-signed-certificates/0.juju-log ops 2.14.0 up and running.
unit-self-signed-certificates-0: 03:00:12 DEBUG unit.self-signed-certificates/0.juju-log no relation on 'tracing': tracing not ready
unit-self-signed-certificates-0: 03:00:12 DEBUG unit.self-signed-certificates/0.juju-log Emitting Juju event update_status.
unit-self-signed-certificates-0: 03:00:12 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-1: 03:00:14 DEBUG unit.opensearch/1.juju-log ops 2.14.1 up and running.
unit-opensearch-0: 03:00:14 DEBUG unit.opensearch/0.juju-log ops 2.14.1 up and running.
unit-opensearch-2: 03:00:14 DEBUG unit.opensearch/2.juju-log ops 2.14.1 up and running.
unit-opensearch-0: 03:00:14 DEBUG unit.opensearch/0.juju-log Emitting Juju event update_status.
unit-opensearch-1: 03:00:14 DEBUG unit.opensearch/1.juju-log Emitting Juju event update_status.
unit-opensearch-0: 03:00:14 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-1: 03:00:14 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-0: 03:00:14 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-1: 03:00:14 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 03:00:14 DEBUG unit.opensearch/2.juju-log Re-emitting deferred event <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[546]>.
unit-opensearch-0: 03:00:14 DEBUG unit.opensearch/0.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 03:00:14 DEBUG unit.opensearch/1.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:14 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 03:00:15 ERROR unit.opensearch/2.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-2: 03:00:15 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-0: 03:00:15 DEBUG unit.opensearch/0.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-1: 03:00:15 DEBUG unit.opensearch/1.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-2: 03:00:15 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:15 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 03:00:15 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:15 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:15 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 03:00:15 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:15 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:15 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 03:00:15 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:15 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:15 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 03:00:15 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:15 DEBUG unit.opensearch/2.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-2: 03:00:15 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:15 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 03:00:15 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:15 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:15 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 03:00:15 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:15 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:15 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 03:00:15 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:15 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:15 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 03:00:15 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:15 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:15 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-1: 03:00:15 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-0: 03:00:15 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 03:00:15 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET /_nodes HTTP/11" 200 50765
unit-opensearch-2: 03:00:15 DEBUG unit.opensearch/2.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-2: 03:00:15 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:15 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 03:00:15 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:15 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:15 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 03:00:15 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:15 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:15 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 03:00:15 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:15 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:15 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 03:00:15 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:15 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 03:00:15 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:15 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 03:00:15 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:15 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:15 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 03:00:15 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:15 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:15 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 03:00:15 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:15 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:15 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 03:00:15 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:15 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:15 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 03:00:15 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 03:00:15 ERROR unit.opensearch/2.juju-log Request GET to https://10.233.235.166:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.233.235.166:9200/.charm_node_lock/_source/0
unit-opensearch-2: 03:00:16 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:16 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 03:00:16 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 03:00:16 ERROR unit.opensearch/2.juju-log Request GET to https://10.233.235.166:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.233.235.166:9200/.charm_node_lock/_source/0
unit-opensearch-2: 03:00:17 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:17 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 03:00:17 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 03:00:17 ERROR unit.opensearch/2.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.233.235.166:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-2: 03:00:17 DEBUG unit.opensearch/2.juju-log Lock to start opensearch not acquired. Will retry next event
unit-opensearch-2: 03:00:17 DEBUG unit.opensearch/2.juju-log Deferring <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[546]>.
unit-opensearch-2: 03:00:17 DEBUG unit.opensearch/2.juju-log Emitting Juju event update_status.
unit-opensearch-2: 03:00:17 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 03:00:18 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-0: 03:00:18 DEBUG unit.grafana-agent/0.juju-log ops 2.14.1 up and running.
unit-grafana-agent-0: 03:00:18 DEBUG unit.grafana-agent/0.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-0: 03:00:18 DEBUG unit.grafana-agent/0.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x7dbb83a3aca0> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-0: 03:00:18 DEBUG unit.grafana-agent/0.juju-log Emitting Juju event update_status.
unit-grafana-agent-3: 03:00:18 DEBUG unit.grafana-agent/3.juju-log ops 2.14.1 up and running.
unit-grafana-agent-3: 03:00:18 DEBUG unit.grafana-agent/3.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-3: 03:00:18 DEBUG unit.grafana-agent/3.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x70ecace3e9d0> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-3: 03:00:18 DEBUG unit.grafana-agent/3.juju-log Emitting Juju event update_status.
unit-grafana-agent-1: 03:00:18 DEBUG unit.grafana-agent/1.juju-log ops 2.14.1 up and running.
unit-grafana-agent-1: 03:00:18 DEBUG unit.grafana-agent/1.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-1: 03:00:18 DEBUG unit.grafana-agent/1.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x730450e42c50> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-1: 03:00:18 DEBUG unit.grafana-agent/1.juju-log Emitting Juju event update_status.
unit-grafana-agent-0: 03:00:19 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-3: 03:00:19 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-1: 03:00:19 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-self-signed-certificates-0: 03:00:22 DEBUG unit.self-signed-certificates/0.juju-log ops 2.14.0 up and running.
unit-self-signed-certificates-0: 03:00:22 DEBUG unit.self-signed-certificates/0.juju-log no relation on 'tracing': tracing not ready
unit-self-signed-certificates-0: 03:00:22 DEBUG unit.self-signed-certificates/0.juju-log Emitting Juju event update_status.
unit-self-signed-certificates-0: 03:00:22 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 03:00:25 DEBUG unit.opensearch/2.juju-log ops 2.14.1 up and running.
unit-opensearch-2: 03:00:25 DEBUG unit.opensearch/2.juju-log Re-emitting deferred event <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[546]>.
unit-opensearch-1: 03:00:25 DEBUG unit.opensearch/1.juju-log ops 2.14.1 up and running.
unit-opensearch-2: 03:00:25 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-0: 03:00:25 DEBUG unit.opensearch/0.juju-log ops 2.14.1 up and running.
unit-opensearch-2: 03:00:25 ERROR unit.opensearch/2.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-2: 03:00:25 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 03:00:25 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:25 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 03:00:25 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:25 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-1: 03:00:25 DEBUG unit.opensearch/1.juju-log Emitting Juju event update_status.
unit-opensearch-2: 03:00:25 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 03:00:25 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 03:00:25 DEBUG unit.opensearch/0.juju-log Emitting Juju event update_status.
unit-opensearch-2: 03:00:25 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-1: 03:00:25 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:25 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 03:00:25 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 03:00:25 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 03:00:25 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 03:00:25 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:25 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-1: 03:00:25 DEBUG unit.opensearch/1.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 03:00:25 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 03:00:25 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:25 DEBUG unit.opensearch/2.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-2: 03:00:25 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 03:00:25 DEBUG unit.opensearch/0.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:25 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-1: 03:00:25 DEBUG unit.opensearch/1.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-2: 03:00:25 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:25 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:25 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-0: 03:00:25 DEBUG unit.opensearch/0.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-2: 03:00:25 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:25 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:25 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 03:00:25 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:25 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:25 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 03:00:25 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:25 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:25 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 03:00:25 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET /_nodes HTTP/11" 200 50765
unit-opensearch-2: 03:00:25 DEBUG unit.opensearch/2.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-2: 03:00:25 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:25 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 03:00:25 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:25 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:25 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 03:00:25 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:25 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:25 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 03:00:25 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:25 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:25 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 03:00:25 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:25 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 03:00:25 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:25 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-1: 03:00:25 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 03:00:25 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:25 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:25 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-0: 03:00:25 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 03:00:25 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:25 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:25 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 03:00:25 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:25 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:25 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 03:00:25 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:25 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:25 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 03:00:25 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 03:00:25 ERROR unit.opensearch/2.juju-log Request GET to https://10.233.235.164:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.233.235.164:9200/.charm_node_lock/_source/0
unit-opensearch-2: 03:00:26 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:26 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 03:00:27 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 03:00:27 ERROR unit.opensearch/2.juju-log Request GET to https://10.233.235.164:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.233.235.164:9200/.charm_node_lock/_source/0
unit-opensearch-2: 03:00:28 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:28 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 03:00:28 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 03:00:28 ERROR unit.opensearch/2.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.233.235.164:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-2: 03:00:28 DEBUG unit.opensearch/2.juju-log Lock to start opensearch not acquired. Will retry next event
unit-opensearch-2: 03:00:28 DEBUG unit.opensearch/2.juju-log Deferring <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[546]>.
unit-opensearch-2: 03:00:28 DEBUG unit.opensearch/2.juju-log Emitting Juju event update_status.
unit-opensearch-2: 03:00:28 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 03:00:28 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-self-signed-certificates-0: 03:00:30 DEBUG unit.self-signed-certificates/0.juju-log ops 2.14.0 up and running.
unit-self-signed-certificates-0: 03:00:30 DEBUG unit.self-signed-certificates/0.juju-log no relation on 'tracing': tracing not ready
unit-self-signed-certificates-0: 03:00:30 DEBUG unit.self-signed-certificates/0.juju-log Emitting Juju event update_status.
unit-grafana-agent-0: 03:00:30 DEBUG unit.grafana-agent/0.juju-log ops 2.14.1 up and running.
unit-grafana-agent-3: 03:00:30 DEBUG unit.grafana-agent/3.juju-log ops 2.14.1 up and running.
unit-grafana-agent-0: 03:00:30 DEBUG unit.grafana-agent/0.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-0: 03:00:30 DEBUG unit.grafana-agent/0.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x78cee5572b10> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-0: 03:00:30 DEBUG unit.grafana-agent/0.juju-log Emitting Juju event update_status.
unit-grafana-agent-1: 03:00:30 DEBUG unit.grafana-agent/1.juju-log ops 2.14.1 up and running.
unit-grafana-agent-3: 03:00:30 DEBUG unit.grafana-agent/3.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-3: 03:00:30 DEBUG unit.grafana-agent/3.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x76f1ff37eb60> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-3: 03:00:30 DEBUG unit.grafana-agent/3.juju-log Emitting Juju event update_status.
unit-grafana-agent-1: 03:00:30 DEBUG unit.grafana-agent/1.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-1: 03:00:30 DEBUG unit.grafana-agent/1.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x733f58382b10> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-1: 03:00:30 DEBUG unit.grafana-agent/1.juju-log Emitting Juju event update_status.
unit-self-signed-certificates-0: 03:00:30 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-0: 03:00:30 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-3: 03:00:30 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-1: 03:00:30 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 03:00:33 DEBUG unit.opensearch/2.juju-log ops 2.14.1 up and running.
unit-opensearch-2: 03:00:33 DEBUG unit.opensearch/2.juju-log Re-emitting deferred event <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[546]>.
unit-opensearch-2: 03:00:33 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 03:00:33 ERROR unit.opensearch/2.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-2: 03:00:33 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 03:00:33 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:33 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 03:00:33 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:33 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:33 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 03:00:33 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:33 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:33 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-0: 03:00:33 DEBUG unit.opensearch/0.juju-log ops 2.14.1 up and running.
unit-opensearch-2: 03:00:33 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:33 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-1: 03:00:33 DEBUG unit.opensearch/1.juju-log ops 2.14.1 up and running.
unit-opensearch-2: 03:00:33 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 03:00:33 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:33 DEBUG unit.opensearch/2.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-2: 03:00:33 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:33 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 03:00:33 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:33 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:33 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 03:00:33 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:33 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:33 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-0: 03:00:33 DEBUG unit.opensearch/0.juju-log Emitting Juju event update_status.
unit-opensearch-2: 03:00:33 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:33 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:33 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-0: 03:00:33 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:33 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 03:00:33 DEBUG unit.opensearch/1.juju-log Emitting Juju event update_status.
unit-opensearch-2: 03:00:33 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-0: 03:00:33 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 03:00:33 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-0: 03:00:33 DEBUG unit.opensearch/0.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 03:00:33 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:33 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /_nodes HTTP/11" 200 50765
unit-opensearch-2: 03:00:33 DEBUG unit.opensearch/2.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-2: 03:00:33 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-1: 03:00:33 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 03:00:33 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-0: 03:00:33 DEBUG unit.opensearch/0.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-1: 03:00:33 DEBUG unit.opensearch/1.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:34 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:34 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:34 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 03:00:34 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:34 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-1: 03:00:34 DEBUG unit.opensearch/1.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-2: 03:00:34 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 03:00:34 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:34 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:34 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 03:00:34 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:34 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 03:00:34 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:34 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 03:00:34 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:34 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:34 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 03:00:34 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:34 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:34 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 03:00:34 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:34 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:34 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 03:00:34 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:34 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:34 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 03:00:34 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 03:00:34 ERROR unit.opensearch/2.juju-log Request GET to https://10.233.235.166:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.233.235.166:9200/.charm_node_lock/_source/0
unit-opensearch-0: 03:00:34 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-1: 03:00:34 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 03:00:35 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:35 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 03:00:35 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 03:00:35 ERROR unit.opensearch/2.juju-log Request GET to https://10.233.235.166:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.233.235.166:9200/.charm_node_lock/_source/0
unit-opensearch-2: 03:00:36 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:36 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 03:00:36 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 03:00:36 ERROR unit.opensearch/2.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.233.235.166:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-2: 03:00:36 DEBUG unit.opensearch/2.juju-log Lock to start opensearch not acquired. Will retry next event
unit-opensearch-2: 03:00:36 DEBUG unit.opensearch/2.juju-log Deferring <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[546]>.
unit-opensearch-2: 03:00:36 DEBUG unit.opensearch/2.juju-log Emitting Juju event update_status.
unit-opensearch-2: 03:00:36 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 03:00:36 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-self-signed-certificates-0: 03:00:38 DEBUG unit.self-signed-certificates/0.juju-log ops 2.14.0 up and running.
unit-self-signed-certificates-0: 03:00:38 DEBUG unit.self-signed-certificates/0.juju-log no relation on 'tracing': tracing not ready
unit-self-signed-certificates-0: 03:00:38 DEBUG unit.self-signed-certificates/0.juju-log Emitting Juju event update_status.
unit-self-signed-certificates-0: 03:00:39 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-0: 03:00:39 DEBUG unit.grafana-agent/0.juju-log ops 2.14.1 up and running.
unit-grafana-agent-0: 03:00:39 DEBUG unit.grafana-agent/0.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-0: 03:00:39 DEBUG unit.grafana-agent/0.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x74e9b8e1eac0> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-0: 03:00:39 DEBUG unit.grafana-agent/0.juju-log Emitting Juju event update_status.
unit-grafana-agent-1: 03:00:40 DEBUG unit.grafana-agent/1.juju-log ops 2.14.1 up and running.
unit-grafana-agent-1: 03:00:40 DEBUG unit.grafana-agent/1.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-1: 03:00:40 DEBUG unit.grafana-agent/1.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x7fa66b372ac0> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-1: 03:00:40 DEBUG unit.grafana-agent/1.juju-log Emitting Juju event update_status.
unit-grafana-agent-3: 03:00:40 DEBUG unit.grafana-agent/3.juju-log ops 2.14.1 up and running.
unit-grafana-agent-3: 03:00:40 DEBUG unit.grafana-agent/3.juju-log no relation on 'tracing': tracing not ready
unit-grafana-agent-3: 03:00:40 DEBUG unit.grafana-agent/3.juju-log <class '__main__.GrafanaAgentMachineCharm'>.<property object at 0x71f13ab7ec00> returned None; quietly disabling charm_tracing for the run.
unit-grafana-agent-3: 03:00:40 DEBUG unit.grafana-agent/3.juju-log Emitting Juju event update_status.
unit-grafana-agent-0: 03:00:40 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-1: 03:00:40 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-grafana-agent-3: 03:00:40 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 03:00:41 DEBUG unit.opensearch/2.juju-log ops 2.14.1 up and running.
unit-opensearch-2: 03:00:41 DEBUG unit.opensearch/2.juju-log Re-emitting deferred event <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[546]>.
unit-opensearch-2: 03:00:41 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 03:00:41 ERROR unit.opensearch/2.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-2: 03:00:41 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 03:00:41 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:41 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 03:00:41 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:41 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:42 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 03:00:42 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:42 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:42 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 03:00:42 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:42 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:42 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 03:00:42 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:42 DEBUG unit.opensearch/2.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-2: 03:00:42 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:42 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 03:00:42 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:42 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:42 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 03:00:42 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:42 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:42 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 03:00:42 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:42 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:42 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 03:00:42 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:42 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:42 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 03:00:42 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /_nodes HTTP/11" 200 50765
unit-opensearch-2: 03:00:42 DEBUG unit.opensearch/2.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-2: 03:00:42 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:42 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 03:00:42 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:42 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:42 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 03:00:42 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:42 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:42 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 03:00:42 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:42 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:42 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 03:00:42 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:42 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-2: 03:00:42 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:42 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 03:00:42 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:42 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:42 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 03:00:42 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:42 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:42 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 03:00:42 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:42 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:42 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-2: 03:00:42 DEBUG unit.opensearch/2.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 03:00:42 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:42 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 03:00:42 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 03:00:42 ERROR unit.opensearch/2.juju-log Request GET to https://10.233.235.166:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 2)
	Error: 503 Server Error: Service Unavailable for url: https://10.233.235.166:9200/.charm_node_lock/_source/0
unit-opensearch-2: 03:00:43 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 03:00:43 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 03:00:43 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 03:00:43 ERROR unit.opensearch/2.juju-log Request GET to https://10.233.235.166:9200/.charm_node_lock/_source/0 with payload: None failed.(Attempts left: 1)
	Error: 503 Server Error: Service Unavailable for url: https://10.233.235.166:9200/.charm_node_lock/_source/0
unit-opensearch-2: 03:00:44 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-1: 03:00:44 DEBUG unit.opensearch/1.juju-log ops 2.14.1 up and running.
unit-opensearch-2: 03:00:44 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-2: 03:00:44 DEBUG unit.opensearch/2.juju-log https://10.233.235.166:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 503 287
unit-opensearch-2: 03:00:44 ERROR unit.opensearch/2.juju-log Error checking which unit has OpenSearch lock
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 290, in request
    resp = call(urls[0])
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 232, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 261, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: https://10.233.235.166:9200/.charm_node_lock/_source/0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 263, in acquired
    unit = self._unit_with_lock(host)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_locking.py", line 225, in _unit_with_lock
    document_data = self._opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 306, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=503
self.response_body={'error': {'root_cause': [{'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}], 'type': 'no_shard_available_action_exception', 'reason': 'No shard available for [get [.charm_node_lock][0]: routing [null]]'}, 'status': 503}
unit-opensearch-2: 03:00:44 DEBUG unit.opensearch/2.juju-log Lock to start opensearch not acquired. Will retry next event
unit-opensearch-0: 03:00:44 DEBUG unit.opensearch/0.juju-log ops 2.14.1 up and running.
unit-opensearch-2: 03:00:44 DEBUG unit.opensearch/2.juju-log Deferring <_StartOpenSearch via OpenSearchOperatorCharm/_start_opensearch_event[546]>.
unit-opensearch-2: 03:00:44 DEBUG unit.opensearch/2.juju-log Emitting Juju event update_status.
unit-opensearch-2: 03:00:44 ERROR unit.opensearch/2.juju-log [Errno 111] Connection refused
unit-opensearch-1: 03:00:44 DEBUG unit.opensearch/1.juju-log Emitting Juju event update_status.
unit-opensearch-1: 03:00:44 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-0: 03:00:44 DEBUG unit.opensearch/0.juju-log Emitting Juju event update_status.
unit-opensearch-1: 03:00:44 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.233.235.164:9200
unit-opensearch-1: 03:00:44 DEBUG unit.opensearch/1.juju-log https://10.233.235.164:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 03:00:44 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 03:00:44 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.233.235.166:9200
unit-opensearch-1: 03:00:44 DEBUG unit.opensearch/1.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-0: 03:00:44 DEBUG unit.opensearch/0.juju-log https://10.233.235.166:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 03:00:44 DEBUG unit.opensearch/0.juju-log self._app_workload_container_version='53' self._unit_workload_container_versions={'opensearch/2': '53', 'opensearch/1': '53', 'opensearch/0': '53'}
unit-opensearch-2: 03:00:44 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-1: 03:00:45 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-0: 03:00:45 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)

[31m[1mERROR   [0m integration.helpers_deployments:helpers_deployments.py:94