{"uid":"bdafbb9059a54dba","name":"test_safe_scale_down_remove_leaders","fullName":"tests.integration.ha.test_horizontal_scaling#test_safe_scale_down_remove_leaders","historyId":"111cc3e87f9c72bee400577f246a6b19","time":{"start":1726453645873,"stop":1726454275483,"duration":629610},"description":"Tests the removal of specific units (elected cm, juju leader, node with prim shard).\n\n    The goal of this test is to make sure that:\n     - the CM reelection happens successfully.\n     - the leader-elected event gets triggered successfully and\n        leadership related events on the charm work correctly, i.e: roles reassigning.\n     - the primary shards reelection happens successfully.\n    It is worth noting that we're going into this test with an odd number of units.\n    ","descriptionHtml":"<p>Tests the removal of specific units (elected cm, juju leader, node with prim shard).</p>\n<pre><code>The goal of this test is to make sure that:\n - the CM reelection happens successfully.\n - the leader-elected event gets triggered successfully and\n    leadership related events on the charm work correctly, i.e: roles reassigning.\n - the primary shards reelection happens successfully.\nIt is worth noting that we're going into this test with an odd number of units.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1726451384722,"stop":1726451384722,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1726451384722,"stop":1726451384722,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1726451384722,"stop":1726451384884,"duration":162},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1726453641312,"stop":1726453641312,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"c_writes","time":{"start":1726453641312,"stop":1726453641481,"duration":169},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"c_writes_runner","time":{"start":1726453641481,"stop":1726453645870,"duration":4389},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Tests the removal of specific units (elected cm, juju leader, node with prim shard).\n\n    The goal of this test is to make sure that:\n     - the CM reelection happens successfully.\n     - the leader-elected event gets triggered successfully and\n        leadership related events on the charm work correctly, i.e: roles reassigning.\n     - the primary shards reelection happens successfully.\n    It is worth noting that we're going into this test with an odd number of units.\n    ","status":"passed","steps":[],"attachments":[{"uid":"65996b6bafc6188e","name":"log","source":"65996b6bafc6188e.txt","type":"text/plain","size":100560}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"c_writes_runner::finalizer","time":{"start":1726454275484,"stop":1726454278561,"duration":3077},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1726454278562,"stop":1726454278562,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1726454278562,"stop":1726454278969,"duration":407},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1726454278970,"stop":1726454278970,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1726454278970,"stop":1726454278970,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1726454278970,"stop":1726454278970,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"group(1)"},{"name":"tag","value":"runner(['self-hosted', 'linux', 'X64', 'jammy', 'xlarge'])"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha"},{"name":"suite","value":"test_horizontal_scaling"},{"name":"host","value":"github-runner"},{"name":"thread","value":"11998-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha.test_horizontal_scaling"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"fdbce557bbf1257f","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":1,"skipped":7,"passed":38,"unknown":3,"total":49},"items":[{"uid":"7078ecf16987770e","reportUrl":"../2790//#testresult/7078ecf16987770e","status":"passed","time":{"start":1726366994660,"stop":1726367612275,"duration":617615}},{"uid":"30c5081632fa555e","reportUrl":"../2788//#testresult/30c5081632fa555e","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1726280111140,"stop":1726280111140,"duration":0}},{"uid":"2a95a1b5a3944238","reportUrl":"../2773//#testresult/2a95a1b5a3944238","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1726194188328,"stop":1726194188328,"duration":0}},{"uid":"fad89e439969de0d","reportUrl":"../2755//#testresult/fad89e439969de0d","status":"passed","time":{"start":1726107680607,"stop":1726108307112,"duration":626505}},{"uid":"c2e9ffbc6648835c","reportUrl":"../2735//#testresult/c2e9ffbc6648835c","status":"passed","time":{"start":1726021309650,"stop":1726022028632,"duration":718982}},{"uid":"3ed3d00d77c602c3","reportUrl":"../2721//#testresult/3ed3d00d77c602c3","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1725935220069,"stop":1725935220069,"duration":0}},{"uid":"e281a13a39d94339","reportUrl":"../2703//#testresult/e281a13a39d94339","status":"passed","time":{"start":1725851924214,"stop":1725852517963,"duration":593749}},{"uid":"83434743620e3e1b","reportUrl":"../2698//#testresult/83434743620e3e1b","status":"passed","time":{"start":1725763531549,"stop":1725764133709,"duration":602160}},{"uid":"411986b2ba938066","reportUrl":"../2693//#testresult/411986b2ba938066","status":"passed","time":{"start":1725679164831,"stop":1725679784427,"duration":619596}},{"uid":"f50d8b0c31722fc6","reportUrl":"../2668//#testresult/f50d8b0c31722fc6","status":"broken","statusDetails":"tenacity.RetryError: RetryError[<Future at 0x7b422909cd30 state=finished raised Exception>]","time":{"start":1725592401772,"stop":1725594212642,"duration":1810870}},{"uid":"f112f9a571564d85","reportUrl":"../2664//#testresult/f112f9a571564d85","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1725504930767,"stop":1725504930767,"duration":0}},{"uid":"4854adc75f1b8752","reportUrl":"../2643//#testresult/4854adc75f1b8752","status":"passed","time":{"start":1725418867580,"stop":1725419483089,"duration":615509}},{"uid":"9fff80e960b5838e","reportUrl":"../2634//#testresult/9fff80e960b5838e","status":"passed","time":{"start":1725332936380,"stop":1725333561960,"duration":625580}},{"uid":"640280dfb8d620b0","reportUrl":"../2620//#testresult/640280dfb8d620b0","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1725160013599,"stop":1725160013599,"duration":0}},{"uid":"f8de1ac58328f9b5","reportUrl":"../2617//#testresult/f8de1ac58328f9b5","status":"passed","time":{"start":1725073534254,"stop":1725074372166,"duration":837912}},{"uid":"aef5b45d723d047c","reportUrl":"../2616//#testresult/aef5b45d723d047c","status":"passed","time":{"start":1724986509490,"stop":1724987124828,"duration":615338}},{"uid":"48c4cdb116891eab","reportUrl":"../2610//#testresult/48c4cdb116891eab","status":"passed","time":{"start":1724899276968,"stop":1724899919198,"duration":642230}},{"uid":"92cc9d7f14f7dac0","reportUrl":"../2599//#testresult/92cc9d7f14f7dac0","status":"passed","time":{"start":1724726646759,"stop":1724727240186,"duration":593427}},{"uid":"3ad52ecd8af722b4","reportUrl":"../2593//#testresult/3ad52ecd8af722b4","status":"unknown","time":{}},{"uid":"81e679f4f7f40f82","reportUrl":"../2592//#testresult/81e679f4f7f40f82","status":"passed","time":{"start":1724552989565,"stop":1724553612131,"duration":622566}}]},"tags":["asyncio","group(1)","runner(['self-hosted', 'linux', 'X64', 'jammy', 'xlarge'])"]},"source":"bdafbb9059a54dba.json","parameterValues":[]}