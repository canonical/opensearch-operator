{"uid":"f8de1ac58328f9b5","name":"test_safe_scale_down_remove_leaders","fullName":"tests.integration.ha.test_horizontal_scaling#test_safe_scale_down_remove_leaders","historyId":"111cc3e87f9c72bee400577f246a6b19","time":{"start":1725073534254,"stop":1725074372166,"duration":837912},"description":"Tests the removal of specific units (elected cm, juju leader, node with prim shard).\n\n    The goal of this test is to make sure that:\n     - the CM reelection happens successfully.\n     - the leader-elected event gets triggered successfully and\n        leadership related events on the charm work correctly, i.e: roles reassigning.\n     - the primary shards reelection happens successfully.\n    It is worth noting that we're going into this test with an odd number of units.\n    ","descriptionHtml":"<p>Tests the removal of specific units (elected cm, juju leader, node with prim shard).</p>\n<pre><code>The goal of this test is to make sure that:\n - the CM reelection happens successfully.\n - the leader-elected event gets triggered successfully and\n    leadership related events on the charm work correctly, i.e: roles reassigning.\n - the primary shards reelection happens successfully.\nIt is worth noting that we're going into this test with an odd number of units.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"tmp_path_factory","time":{"start":1725071028717,"stop":1725071028717,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1725071028717,"stop":1725071028937,"duration":220},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1725071028717,"stop":1725071028717,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1725073528272,"stop":1725073528272,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"c_writes","time":{"start":1725073528272,"stop":1725073528552,"duration":280},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"c_writes_runner","time":{"start":1725073528553,"stop":1725073534249,"duration":5696},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Tests the removal of specific units (elected cm, juju leader, node with prim shard).\n\n    The goal of this test is to make sure that:\n     - the CM reelection happens successfully.\n     - the leader-elected event gets triggered successfully and\n        leadership related events on the charm work correctly, i.e: roles reassigning.\n     - the primary shards reelection happens successfully.\n    It is worth noting that we're going into this test with an odd number of units.\n    ","status":"passed","steps":[],"attachments":[{"uid":"cdeeb8a23fbb3c4f","name":"log","source":"cdeeb8a23fbb3c4f.txt","type":"text/plain","size":95224}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"c_writes_runner::finalizer","time":{"start":1725074372172,"stop":1725074375741,"duration":3569},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1725074375745,"stop":1725074375745,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1725074375745,"stop":1725074376234,"duration":489},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1725074376236,"stop":1725074376236,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1725074376236,"stop":1725074376236,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1725074376236,"stop":1725074376238,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"group(1)"},{"name":"tag","value":"runner(['self-hosted', 'linux', 'X64', 'jammy', 'xlarge'])"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha"},{"name":"suite","value":"test_horizontal_scaling"},{"name":"host","value":"xlarge-76-a50fd600c3ecaf59e5f1b7e3"},{"name":"thread","value":"11260-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha.test_horizontal_scaling"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"c8817b0933dadadb","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":2,"passed":29,"unknown":3,"total":34},"items":[{"uid":"aef5b45d723d047c","reportUrl":"../2616//#testresult/aef5b45d723d047c","status":"passed","time":{"start":1724986509490,"stop":1724987124828,"duration":615338}},{"uid":"48c4cdb116891eab","reportUrl":"../2610//#testresult/48c4cdb116891eab","status":"passed","time":{"start":1724899276968,"stop":1724899919198,"duration":642230}},{"uid":"92cc9d7f14f7dac0","reportUrl":"../2599//#testresult/92cc9d7f14f7dac0","status":"passed","time":{"start":1724726646759,"stop":1724727240186,"duration":593427}},{"uid":"3ad52ecd8af722b4","reportUrl":"../2593//#testresult/3ad52ecd8af722b4","status":"unknown","time":{}},{"uid":"81e679f4f7f40f82","reportUrl":"../2592//#testresult/81e679f4f7f40f82","status":"passed","time":{"start":1724552989565,"stop":1724553612131,"duration":622566}},{"uid":"3bdb9a60bf57cf4a","reportUrl":"../2591//#testresult/3bdb9a60bf57cf4a","status":"passed","time":{"start":1724466320421,"stop":1724466959131,"duration":638710}},{"uid":"2104cb0c531ac1ba","reportUrl":"../2580//#testresult/2104cb0c531ac1ba","status":"passed","time":{"start":1724379536909,"stop":1724380181987,"duration":645078}},{"uid":"c190a4dc8559e13d","reportUrl":"../2570//#testresult/c190a4dc8559e13d","status":"passed","time":{"start":1724293415862,"stop":1724294206544,"duration":790682}},{"uid":"ccc78a20bee95d52","reportUrl":"../2566//#testresult/ccc78a20bee95d52","status":"passed","time":{"start":1724208360634,"stop":1724209115725,"duration":755091}},{"uid":"db8a98c3acf48fdd","reportUrl":"../2553//#testresult/db8a98c3acf48fdd","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1724038930134,"stop":1724038930134,"duration":0}},{"uid":"a597f090e0d08157","reportUrl":"../2552//#testresult/a597f090e0d08157","status":"passed","time":{"start":1723947802990,"stop":1723948625695,"duration":822705}},{"uid":"4850e5bc8326e7a6","reportUrl":"../2545//#testresult/4850e5bc8326e7a6","status":"passed","time":{"start":1723861045806,"stop":1723861693859,"duration":648053}},{"uid":"a100185bd99194af","reportUrl":"../2518//#testresult/a100185bd99194af","status":"passed","time":{"start":1723777425079,"stop":1723778300971,"duration":875892}},{"uid":"cb06803961d6f8d9","reportUrl":"../2509//#testresult/cb06803961d6f8d9","status":"passed","time":{"start":1723691734342,"stop":1723692460200,"duration":725858}},{"uid":"55ea9140626b6ee3","reportUrl":"../2501//#testresult/55ea9140626b6ee3","status":"unknown","time":{}},{"uid":"9f9e2dad2c71f476","reportUrl":"../2482//#testresult/9f9e2dad2c71f476","status":"passed","time":{"start":1723519639239,"stop":1723520472867,"duration":833628}},{"uid":"e831225a072a5032","reportUrl":"../2465//#testresult/e831225a072a5032","status":"passed","time":{"start":1723431162519,"stop":1723431952341,"duration":789822}},{"uid":"40fd5cf83161e913","reportUrl":"../2464//#testresult/40fd5cf83161e913","status":"passed","time":{"start":1723345174281,"stop":1723346079484,"duration":905203}},{"uid":"e1edc57dcae21ff7","reportUrl":"../2463//#testresult/e1edc57dcae21ff7","status":"passed","time":{"start":1723257658130,"stop":1723258576538,"duration":918408}},{"uid":"4abd2a1ff4ddab3a","reportUrl":"../2453//#testresult/4abd2a1ff4ddab3a","status":"passed","time":{"start":1723171916582,"stop":1723172934350,"duration":1017768}}]},"tags":["asyncio","group(1)","runner(['self-hosted', 'linux', 'X64', 'jammy', 'xlarge'])"]},"source":"f8de1ac58328f9b5.json","parameterValues":[]}