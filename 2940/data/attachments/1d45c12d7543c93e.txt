[32mINFO    [0m juju.model:model.py:2098 Deploying local:opensearch-0
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:329 



[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:330 Model  Controller           Cloud/Region         Version  SLA          Timestamp
test   localhost-localhost  localhost/localhost  3.5.3    unsupported  02:48:56Z

App                       Version  Status   Scale  Charm                     Channel        Rev  Exposed  Message
opensearch                         active       2  opensearch                                 0  no       
second-opensearch                  waiting    0/1  opensearch                                 0  no       waiting for machine
self-signed-certificates           active       1  self-signed-certificates  latest/stable  155  no       

Unit                         Workload  Agent       Machine  Public address  Ports     Message
opensearch/0*                active    idle        1        10.77.197.144   9200/tcp  
opensearch/1                 active    idle        2        10.77.197.120   9200/tcp  
second-opensearch/0          waiting   allocating  3                                  waiting for machine
self-signed-certificates/0*  active    executing   0        10.77.197.160             

Machine  State    Address        Inst id        Base          AZ  Message
0        started  10.77.197.160  juju-d46c8d-0  ubuntu@22.04      Running
1        started  10.77.197.144  juju-d46c8d-1  ubuntu@22.04      Running
2        started  10.77.197.120  juju-d46c8d-2  ubuntu@22.04      Running
3        pending                 pending        ubuntu@22.04      

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:48:56 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.a78* -- (10.77.197.144) -- [idle (since: 02:47:28)] active: 
		opensearch-1.a78  -- (10.77.197.120) -- [idle (since: 02:48:46)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:49:07 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.a78* -- (10.77.197.144) -- [idle (since: 02:47:28)] active: 
		opensearch-1.a78  -- (10.77.197.120) -- [idle (since: 02:48:46)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:49:18 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.a78* -- (10.77.197.144) -- [idle (since: 02:47:28)] active: 
		opensearch-1.a78  -- (10.77.197.120) -- [idle (since: 02:48:46)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:49:29 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.a78* -- (10.77.197.144) -- [idle (since: 02:47:28)] active: 
		opensearch-1.a78  -- (10.77.197.120) -- [idle (since: 02:48:46)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:49:40 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.a78* -- (10.77.197.144) -- [idle (since: 02:47:28)] active: 
		opensearch-1.a78  -- (10.77.197.120) -- [idle (since: 02:48:46)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:49:51 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.a78* -- (10.77.197.144) -- [idle (since: 02:47:28)] active: 
		opensearch-1.a78  -- (10.77.197.120) -- [idle (since: 02:48:46)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:50:02 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: second-opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: second waiting -- message: waiting for machine
		second-opensearch-0.035  -- (10.77.197.35) -- [allocating (since: 02:48:56)] waiting: waiting for machine

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:51:17 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.a78* -- (10.77.197.144) -- [idle (since: 02:50:06)] active: 
		opensearch-1.a78  -- (10.77.197.120) -- [idle (since: 02:50:06)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:51:29 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: second-opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: second maintenance -- message: Installing OpenSearch...
		second-opensearch-0.035* -- (10.77.197.35) -- [executing (since: 02:50:45)] maintenance: Installing OpenSearch...

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:51:40 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: second-opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: second active -- message: None
		second-opensearch-0.035* -- (10.77.197.35) -- [executing (since: 02:51:41)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:51:52 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: second-opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: second maintenance -- message: Waiting for TLS to be fully configured...
		second-opensearch-0.035* -- (10.77.197.35) -- [executing (since: 02:51:52)] maintenance: Waiting for TLS to be fully configured...

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:52:03 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: second-opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: second waiting -- message: Waiting for OpenSearch to start...
		second-opensearch-0.035* -- (10.77.197.35) -- [executing (since: 02:51:54)] waiting: Waiting for OpenSearch to start...

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:52:15 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: second-opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: second active -- message: None
		second-opensearch-0.035* -- (10.77.197.35) -- [executing (since: 02:52:15)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:52:27 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: second-opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: second active -- message: None
		second-opensearch-0.035* -- (10.77.197.35) -- [idle (since: 02:52:18)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:52:39 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: second-opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: second active -- message: None
		second-opensearch-0.035* -- (10.77.197.35) -- [idle (since: 02:52:18)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:52:51 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: second-opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: second active -- message: None
		second-opensearch-0.035* -- (10.77.197.35) -- [idle (since: 02:52:18)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:53:02 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: second-opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: second active -- message: None
		second-opensearch-0.035* -- (10.77.197.35) -- [idle (since: 02:52:18)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:53:14 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: second-opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: second active -- message: None
		second-opensearch-0.035* -- (10.77.197.35) -- [idle (since: 02:52:18)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:53:25 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: second-opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: second active -- message: None
		second-opensearch-0.035* -- (10.77.197.35) -- [idle (since: 02:52:18)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:53:37 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:348 02:53:39 -- Waiting for model: complete.



[32mINFO    [0m integration.helpers:helpers.py:367 Calling: PUT -- https://10.77.197.144:9200/test_index_unique_cluster_dbs/_doc/1
[32mINFO    [0m integration.helpers:helpers.py:367 Calling: POST -- https://10.77.197.144:9200/test_index_unique_cluster_dbs/_refresh
[32mINFO    [0m integration.helpers:helpers.py:367 Calling: PUT -- https://10.77.197.35:9200/test_index_unique_cluster_dbs/_doc/2
[32mINFO    [0m integration.helpers:helpers.py:367 Calling: POST -- https://10.77.197.35:9200/test_index_unique_cluster_dbs/_refresh
[32mINFO    [0m integration.helpers:helpers.py:367 Calling: GET -- https://10.77.197.144:9200/test_index_unique_cluster_dbs/_search
[32mINFO    [0m integration.helpers:helpers.py:367 Calling: GET -- https://10.77.197.35:9200/test_index_unique_cluster_dbs/_search
[32mINFO    [0m integration.helpers:helpers.py:367 Calling: DELETE -- https://10.77.197.144:9200/test_index_unique_cluster_dbs/
[32mINFO    [0m integration.ha.helpers:helpers.py:247 Continuous writes result: namespace(max_stored_id=401, count=402, last_expected_id=401)
[32mINFO    [0m integration.helpers:helpers.py:367 Calling: GET -- https://10.77.197.144:9200/series_index/_search_shards
[32mINFO    [0m integration.ha.conftest:conftest.py:39 



The writes have been cleared.




[32mINFO    [0m pytest_operator.plugin:plugin.py:862 Model status:

Model  Controller           Cloud/Region         Version  SLA          Timestamp
test   localhost-localhost  localhost/localhost  3.5.3    unsupported  02:54:13Z

App                       Version  Status   Scale  Charm                     Channel        Rev  Exposed  Message
opensearch                         active       2  opensearch                                 0  no       
second-opensearch                  blocked      1  opensearch                                 0  no       1 or more 'replica' shards are not assigned, please scale your application up.
self-signed-certificates           active       1  self-signed-certificates  latest/stable  155  no       

Unit                         Workload     Agent      Machine  Public address  Ports     Message
opensearch/0*                active       idle       1        10.77.197.144   9200/tcp  
opensearch/1                 active       idle       2        10.77.197.120   9200/tcp  
second-opensearch/0*         maintenance  executing  3        10.77.197.35    9200/tcp  (remove) cleaning up prior to charm deletion
self-signed-certificates/0*  active       idle       0        10.77.197.160             

Machine  State    Address        Inst id        Base          AZ  Message
0        started  10.77.197.160  juju-d46c8d-0  ubuntu@22.04      Running
1        started  10.77.197.144  juju-d46c8d-1  ubuntu@22.04      Running
2        started  10.77.197.120  juju-d46c8d-2  ubuntu@22.04      Running
3        started  10.77.197.35   juju-d46c8d-3  ubuntu@22.04      Running

[32mINFO    [0m pytest_operator.plugin:plugin.py:868 Juju error logs:

machine-0: 02:39:11 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-0: 02:39:11 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-self-signed-certificates-0: 02:39:11 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-1: 02:39:24 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-1: 02:39:24 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-opensearch-0: 02:39:24 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-2: 02:39:29 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-2: 02:39:29 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-opensearch-1: 02:39:29 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
unit-opensearch-0: 02:46:32 ERROR unit.opensearch/0.juju-log certificates:3: err:  / out: keytool error: java.lang.Exception: Keystore file does not exist: /var/snap/opensearch/current/etc/opensearch/certificates/ca.p12

unit-opensearch-1: 02:46:37 ERROR unit.opensearch/1.juju-log certificates:3: err:  / out: keytool error: java.lang.Exception: Keystore file does not exist: /var/snap/opensearch/current/etc/opensearch/certificates/ca.p12

unit-opensearch-0: 02:46:37 ERROR unit.opensearch/0.juju-log certificates:3: Cannot connect to the OpenSearch server...
unit-opensearch-0: 02:46:39 ERROR unit.opensearch/0.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-0: 02:46:39 ERROR unit.opensearch/0.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-0: 02:46:39 ERROR unit.opensearch/0.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-1: 02:46:42 ERROR unit.opensearch/1.juju-log certificates:3: Cannot connect to the OpenSearch server...
unit-opensearch-0: 02:46:42 ERROR unit.opensearch/0.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-1: 02:46:43 ERROR unit.opensearch/1.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-1: 02:46:44 ERROR unit.opensearch/1.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-1: 02:46:45 ERROR unit.opensearch/1.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-0: 02:46:45 ERROR unit.opensearch/0.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-1: 02:46:46 ERROR unit.opensearch/1.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-1: 02:46:47 ERROR unit.opensearch/1.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-1: 02:46:48 ERROR unit.opensearch/1.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-1: 02:46:48 ERROR unit.opensearch/1.juju-log opensearch-peers:2: Cannot connect to the OpenSearch server...
unit-opensearch-0: 02:46:48 ERROR unit.opensearch/0.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-1: 02:46:49 ERROR unit.opensearch/1.juju-log node-lock-fallback:0: Cannot connect to the OpenSearch server...
unit-opensearch-1: 02:46:50 ERROR unit.opensearch/1.juju-log node-lock-fallback:0: Cannot connect to the OpenSearch server...
unit-opensearch-1: 02:46:52 ERROR unit.opensearch/1.juju-log node-lock-fallback:0: Cannot connect to the OpenSearch server...
unit-opensearch-1: 02:46:53 ERROR unit.opensearch/1.juju-log node-lock-fallback:0: Cannot connect to the OpenSearch server...
unit-opensearch-1: 02:46:54 ERROR unit.opensearch/1.juju-log opensearch-peers:2: Cannot connect to the OpenSearch server...
unit-opensearch-1: 02:46:55 ERROR unit.opensearch/1.juju-log opensearch-peers:2: Cannot connect to the OpenSearch server...
unit-opensearch-1: 02:46:56 ERROR unit.opensearch/1.juju-log opensearch-peers:2: Cannot connect to the OpenSearch server...
unit-opensearch-1: 02:47:04 ERROR unit.opensearch/1.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-1: 02:47:08 ERROR unit.opensearch/1.juju-log opensearch-peers:2: Cannot connect to the OpenSearch server...
unit-opensearch-1: 02:47:09 ERROR unit.opensearch/1.juju-log opensearch-peers:2: Cannot connect to the OpenSearch server...
machine-3: 02:50:37 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-3: 02:50:37 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-second-opensearch-0: 02:50:37 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
unit-second-opensearch-0: 02:51:50 ERROR unit.second-opensearch/0.juju-log certificates:7: err:  / out: keytool error: java.lang.Exception: Keystore file does not exist: /var/snap/opensearch/current/etc/opensearch/certificates/ca.p12

unit-second-opensearch-0: 02:51:54 ERROR unit.second-opensearch/0.juju-log certificates:7: Cannot connect to the OpenSearch server...
unit-second-opensearch-0: 02:51:55 ERROR unit.second-opensearch/0.juju-log certificates:7: Cannot connect to the OpenSearch server...
unit-second-opensearch-0: 02:51:55 ERROR unit.second-opensearch/0.juju-log certificates:7: Cannot connect to the OpenSearch server...
unit-second-opensearch-0: 02:51:58 ERROR unit.second-opensearch/0.juju-log certificates:7: Cannot connect to the OpenSearch server...
unit-second-opensearch-0: 02:52:01 ERROR unit.second-opensearch/0.juju-log certificates:7: Cannot connect to the OpenSearch server...
unit-second-opensearch-0: 02:52:04 ERROR unit.second-opensearch/0.juju-log certificates:7: Cannot connect to the OpenSearch server...
unit-second-opensearch-0: 02:53:55 ERROR juju.worker.uniter resolver loop error: preparing operation "run relation-departed (7; unit: self-signed-certificates/0, departee: second-opensearch/0) hook" for second-opensearch/0: secret "secret:cs3k2hojqp81srhm74j0" not found (not found)
unit-second-opensearch-0: 02:53:55 ERROR juju.worker.dependency "uniter" manifold worker returned unexpected error: preparing operation "run relation-departed (7; unit: self-signed-certificates/0, departee: second-opensearch/0) hook" for second-opensearch/0: secret "secret:cs3k2hojqp81srhm74j0" not found (not found)
unit-second-opensearch-0: 02:54:04 ERROR unit.second-opensearch/0.juju-log Cannot connect to the OpenSearch server...
unit-second-opensearch-0: 02:54:06 ERROR juju.worker.dependency "uniter" manifold worker returned unexpected error: relation scope id "2c33d1ea-e178-4641-899b-95b3ddd46c8d:r#5#second-opensearch": settings 2c33d1ea-e178-4641-899b-95b3ddd46c8d:r#5#second-opensearch not found (not found)

[32mINFO    [0m pytest_operator.plugin:plugin.py:947 Forgetting model main...