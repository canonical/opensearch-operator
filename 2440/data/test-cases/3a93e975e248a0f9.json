{"uid":"3a93e975e248a0f9","name":"test_safe_scale_down_remove_leaders","fullName":"tests.integration.ha.test_horizontal_scaling#test_safe_scale_down_remove_leaders","historyId":"111cc3e87f9c72bee400577f246a6b19","time":{"start":1723084467865,"stop":1723085396609,"duration":928744},"description":"Tests the removal of specific units (elected cm, juju leader, node with prim shard).\n\n    The goal of this test is to make sure that:\n     - the CM reelection happens successfully.\n     - the leader-elected event gets triggered successfully and\n        leadership related events on the charm work correctly, i.e: roles reassigning.\n     - the primary shards reelection happens successfully.\n    It is worth noting that we're going into this test with an odd number of units.\n    ","descriptionHtml":"<p>Tests the removal of specific units (elected cm, juju leader, node with prim shard).</p>\n<pre><code>The goal of this test is to make sure that:\n - the CM reelection happens successfully.\n - the leader-elected event gets triggered successfully and\n    leadership related events on the charm work correctly, i.e: roles reassigning.\n - the primary shards reelection happens successfully.\nIt is worth noting that we're going into this test with an odd number of units.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1723082278052,"stop":1723082278053,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1723082278053,"stop":1723082278053,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1723082278053,"stop":1723082278289,"duration":236},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"c_writes","time":{"start":1723084462083,"stop":1723084462341,"duration":258},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1723084462083,"stop":1723084462083,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"c_writes_runner","time":{"start":1723084462341,"stop":1723084467861,"duration":5520},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Tests the removal of specific units (elected cm, juju leader, node with prim shard).\n\n    The goal of this test is to make sure that:\n     - the CM reelection happens successfully.\n     - the leader-elected event gets triggered successfully and\n        leadership related events on the charm work correctly, i.e: roles reassigning.\n     - the primary shards reelection happens successfully.\n    It is worth noting that we're going into this test with an odd number of units.\n    ","status":"passed","steps":[],"attachments":[{"uid":"fccf9e3b5ff6df59","name":"log","source":"fccf9e3b5ff6df59.txt","type":"text/plain","size":93503}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"c_writes_runner::finalizer","time":{"start":1723085396612,"stop":1723085400304,"duration":3692},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1723085400306,"stop":1723085400306,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1723085400306,"stop":1723085400829,"duration":523},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1723085400830,"stop":1723085400830,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1723085400830,"stop":1723085400830,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1723085400830,"stop":1723085400831,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"group(1)"},{"name":"tag","value":"runner(['self-hosted', 'linux', 'X64', 'jammy', 'xlarge'])"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha"},{"name":"suite","value":"test_horizontal_scaling"},{"name":"host","value":"xlarge-71-90f8515fdd6cebe5db509901"},{"name":"thread","value":"10380-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha.test_horizontal_scaling"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"af0a9673f3acdf0c","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":1,"passed":11,"unknown":1,"total":13},"items":[{"uid":"77ec1e02d68490f8","reportUrl":"../2428//#testresult/77ec1e02d68490f8","status":"passed","time":{"start":1722998887009,"stop":1722999862127,"duration":975118}},{"uid":"ae0f9486faa74db1","reportUrl":"../2422//#testresult/ae0f9486faa74db1","status":"passed","time":{"start":1722911679361,"stop":1722912626734,"duration":947373}},{"uid":"f2d586635aa0f03","reportUrl":"../2403//#testresult/f2d586635aa0f03","status":"passed","time":{"start":1722826015337,"stop":1722826901478,"duration":886141}},{"uid":"d68bc335f288fb28","reportUrl":"../2401//#testresult/d68bc335f288fb28","status":"passed","time":{"start":1722653035517,"stop":1722654186508,"duration":1150991}},{"uid":"1f88ca114c8ec819","reportUrl":"../2395//#testresult/1f88ca114c8ec819","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1722565459500,"stop":1722565459500,"duration":0}},{"uid":"df513d0333334f5f","reportUrl":"../2388//#testresult/df513d0333334f5f","status":"passed","time":{"start":1722480382904,"stop":1722481609295,"duration":1226391}},{"uid":"561222b02f783c95","reportUrl":"../2382//#testresult/561222b02f783c95","status":"passed","time":{"start":1722394960795,"stop":1722396152665,"duration":1191870}},{"uid":"d3c24fab38a1dbe9","reportUrl":"../2376//#testresult/d3c24fab38a1dbe9","status":"passed","time":{"start":1722307036076,"stop":1722307872514,"duration":836438}},{"uid":"e1e9356e02375cbe","reportUrl":"../2371//#testresult/e1e9356e02375cbe","status":"passed","time":{"start":1722220652290,"stop":1722221653136,"duration":1000846}},{"uid":"c9ad5e3b203169af","reportUrl":"../2368//#testresult/c9ad5e3b203169af","status":"passed","time":{"start":1722134161643,"stop":1722135077357,"duration":915714}},{"uid":"6af2affe1d42100e","reportUrl":"../2360//#testresult/6af2affe1d42100e","status":"passed","time":{"start":1722046998220,"stop":1722048018223,"duration":1020003}},{"uid":"13a43d3a1dd4e741","reportUrl":"../2346//#testresult/13a43d3a1dd4e741","status":"unknown","time":{}}]},"tags":["asyncio","group(1)","runner(['self-hosted', 'linux', 'X64', 'jammy', 'xlarge'])"]},"source":"3a93e975e248a0f9.json","parameterValues":[]}