[32mINFO    [0m pytest_operator.plugin:plugin.py:862 Model status:

Model  Controller           Cloud/Region         Version  SLA          Timestamp
test   localhost-localhost  localhost/localhost  3.5.3    unsupported  03:28:17Z

App                       Version  Status  Scale  Charm                     Channel        Rev  Exposed  Message
application                        active      1  application                                0  no       
opensearch                         active      3  opensearch                                 0  no       
opensearch-dashboards              active      1  opensearch-dashboards     2/edge          22  no       
self-signed-certificates           active      1  self-signed-certificates  latest/stable  155  no       

Unit                         Workload  Agent      Machine  Public address  Ports     Message
application/0*               active    idle       2        10.119.242.142            
opensearch-dashboards/0*     active    idle       1        10.119.242.74   5601/tcp  
opensearch/0*                active    executing  3        10.119.242.55   9200/tcp  
opensearch/1                 active    executing  4        10.119.242.179  9200/tcp  
opensearch/3                 active    executing  6        10.119.242.156            
self-signed-certificates/0*  active    idle       0        10.119.242.149            

Machine  State    Address         Inst id        Base          AZ  Message
0        started  10.119.242.149  juju-f663d7-0  ubuntu@22.04      Running
1        started  10.119.242.74   juju-f663d7-1  ubuntu@22.04      Running
2        started  10.119.242.142  juju-f663d7-2  ubuntu@22.04      Running
3        started  10.119.242.55   juju-f663d7-3  ubuntu@22.04      Running
4        started  10.119.242.179  juju-f663d7-4  ubuntu@22.04      Running
6        started  10.119.242.156  juju-f663d7-6  ubuntu@22.04      Running

[32mINFO    [0m pytest_operator.plugin:plugin.py:868 Juju error logs:

machine-1: 02:49:41 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-1: 02:49:41 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-opensearch-dashboards-0: 02:49:41 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-0: 02:49:46 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-0: 02:49:46 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-self-signed-certificates-0: 02:49:46 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-5: 02:49:48 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-5: 02:49:48 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-opensearch-2: 02:49:49 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-2: 02:49:57 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-2: 02:49:57 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-application-0: 02:49:57 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-4: 02:50:19 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-4: 02:50:19 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-opensearch-1: 02:50:19 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
unit-application-0: 02:51:11 ERROR unit.application/0.juju-log relation <ops.model.Relation first-index:7> didn't connect
unit-application-0: 02:51:11 ERROR unit.application/0.juju-log connection check to opensearch charm failed
machine-3: 02:51:21 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-3: 02:51:21 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-opensearch-0: 02:51:21 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
unit-application-0: 02:52:01 ERROR unit.application/0.juju-log relation <ops.model.Relation first-index:7> didn't connect
unit-application-0: 02:52:01 ERROR unit.application/0.juju-log connection check to opensearch charm failed
unit-application-0: 02:52:58 ERROR unit.application/0.juju-log relation <ops.model.Relation first-index:7> didn't connect
unit-application-0: 02:52:58 ERROR unit.application/0.juju-log connection check to opensearch charm failed
unit-application-0: 02:54:08 ERROR unit.application/0.juju-log relation <ops.model.Relation first-index:7> didn't connect
unit-application-0: 02:54:08 ERROR unit.application/0.juju-log connection check to opensearch charm failed
unit-application-0: 02:55:16 ERROR unit.application/0.juju-log relation <ops.model.Relation first-index:7> didn't connect
unit-application-0: 02:55:16 ERROR unit.application/0.juju-log connection check to opensearch charm failed
unit-application-0: 02:56:24 ERROR unit.application/0.juju-log relation <ops.model.Relation first-index:7> didn't connect
unit-application-0: 02:56:24 ERROR unit.application/0.juju-log connection check to opensearch charm failed
unit-application-0: 02:57:20 ERROR unit.application/0.juju-log relation <ops.model.Relation first-index:7> didn't connect
unit-application-0: 02:57:20 ERROR unit.application/0.juju-log connection check to opensearch charm failed
unit-opensearch-2: 02:58:17 ERROR unit.opensearch/2.juju-log certificates:6: err:  / out: keytool error: java.lang.Exception: Keystore file does not exist: /var/snap/opensearch/current/etc/opensearch/certificates/ca.p12

unit-opensearch-2: 02:58:23 ERROR unit.opensearch/2.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-2: 02:58:24 ERROR unit.opensearch/2.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-2: 02:58:25 ERROR unit.opensearch/2.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-2: 02:58:25 ERROR unit.opensearch/2.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-2: 02:58:25 ERROR unit.opensearch/2.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-2: 02:58:29 ERROR unit.opensearch/2.juju-log Cannot connect to the OpenSearch server...
unit-application-0: 02:58:31 ERROR unit.application/0.juju-log relation <ops.model.Relation first-index:7> didn't connect
unit-application-0: 02:58:31 ERROR unit.application/0.juju-log connection check to opensearch charm failed
unit-opensearch-2: 02:58:32 ERROR unit.opensearch/2.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-2: 02:58:35 ERROR unit.opensearch/2.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-2: 02:58:38 ERROR unit.opensearch/2.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-2: 02:58:41 ERROR unit.opensearch/2.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-0: 02:58:44 ERROR unit.opensearch/0.juju-log certificates:6: err:  / out: keytool error: java.lang.Exception: Keystore file does not exist: /var/snap/opensearch/current/etc/opensearch/certificates/ca.p12

unit-opensearch-1: 02:58:44 ERROR unit.opensearch/1.juju-log certificates:6: err:  / out: keytool error: java.lang.Exception: Keystore file does not exist: /var/snap/opensearch/current/etc/opensearch/certificates/ca.p12

unit-opensearch-0: 02:58:50 ERROR unit.opensearch/0.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-1: 02:58:50 ERROR unit.opensearch/1.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-0: 02:58:51 ERROR unit.opensearch/0.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-1: 02:58:51 ERROR unit.opensearch/1.juju-log Cannot connect to the OpenSearch server...
unit-application-0: 02:58:52 ERROR unit.application/0.juju-log writing cert to /tmp/test_cert.ca.
unit-application-0: 02:58:52 ERROR unit.application/0.juju-log writing cert to /tmp/test_cert.ca.
unit-application-0: 02:58:52 ERROR unit.application/0.juju-log writing cert to /tmp/test_cert.ca.
unit-opensearch-0: 02:58:52 ERROR unit.opensearch/0.juju-log node-lock-fallback:4: Cannot connect to the OpenSearch server...
unit-opensearch-1: 02:58:52 ERROR unit.opensearch/1.juju-log node-lock-fallback:4: Cannot connect to the OpenSearch server...
unit-opensearch-0: 02:58:53 ERROR unit.opensearch/0.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-1: 02:58:53 ERROR unit.opensearch/1.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-0: 02:58:54 ERROR unit.opensearch/0.juju-log certificates:6: Cannot connect to the OpenSearch server...
unit-opensearch-1: 02:58:55 ERROR unit.opensearch/1.juju-log certificates:6: Cannot connect to the OpenSearch server...
unit-opensearch-0: 02:58:57 ERROR unit.opensearch/0.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-1: 02:58:57 ERROR unit.opensearch/1.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-1: 02:58:59 ERROR unit.opensearch/1.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-1: 02:59:01 ERROR unit.opensearch/1.juju-log Cannot connect to the OpenSearch server...
unit-application-0: 02:59:24 ERROR unit.application/0.juju-log relation <ops.model.Relation first-index:7> didn't connect
unit-application-0: 02:59:24 ERROR unit.application/0.juju-log connection check to opensearch charm failed
unit-application-0: 03:00:16 ERROR unit.application/0.juju-log relation <ops.model.Relation first-index:7> didn't connect
unit-application-0: 03:00:16 ERROR unit.application/0.juju-log connection check to opensearch charm failed
unit-application-0: 03:01:10 ERROR unit.application/0.juju-log relation <ops.model.Relation first-index:7> didn't connect
unit-application-0: 03:01:10 ERROR unit.application/0.juju-log connection check to opensearch charm failed
unit-opensearch-0: 03:02:01 ERROR unit.opensearch/0.juju-log Cannot connect to the OpenSearch server...
unit-application-0: 03:02:03 ERROR unit.application/0.juju-log relation <ops.model.Relation first-index:7> didn't connect
unit-application-0: 03:02:03 ERROR unit.application/0.juju-log connection check to opensearch charm failed
unit-application-0: 03:02:04 ERROR unit.application/0.juju-log writing cert to /tmp/test_cert.ca.
unit-application-0: 03:02:04 ERROR unit.application/0.juju-log writing cert to /tmp/test_cert.ca.
unit-application-0: 03:02:04 ERROR unit.application/0.juju-log writing cert to /tmp/test_cert.ca.
unit-opensearch-1: 03:02:04 ERROR unit.opensearch/1.juju-log Cannot connect to the OpenSearch server...
unit-application-0: 03:02:05 ERROR unit.application/0.juju-log first-index:7: writing cert to /tmp/test_cert.ca.
unit-application-0: 03:02:19 ERROR unit.application/0.juju-log writing cert to /tmp/test_cert.ca.
unit-application-0: 03:02:19 ERROR unit.application/0.juju-log writing cert to /tmp/test_cert.ca.
unit-application-0: 03:02:19 ERROR unit.application/0.juju-log writing cert to /tmp/test_cert.ca.
unit-opensearch-dashboards-0: 03:05:11 ERROR unit.opensearch-dashboards/0.juju-log Request GET to http://10.119.242.74:5601/api/status with payload: None failed. 
HTTPConnectionPool(host='10.119.242.74', port=5601): Max retries exceeded with url: /api/status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x759a3372a590>: Failed to establish a new connection: [Errno 111] Connection refused'))
unit-opensearch-2: 03:05:17 ERROR juju.worker.uniter resolver loop error: preparing operation "run storage-detaching (opensearch-data/2) hook" for opensearch/2: secret "secret:cs2v2il3hca1sr8m4780" not found (not found)
unit-opensearch-2: 03:05:17 ERROR juju.worker.dependency "uniter" manifold worker returned unexpected error: preparing operation "run storage-detaching (opensearch-data/2) hook" for opensearch/2: secret "secret:cs2v2il3hca1sr8m4780" not found (not found)
unit-opensearch-2: 03:05:30 ERROR unit.opensearch/2.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-2: 03:05:48 ERROR unit.opensearch/2.juju-log certificates:6: Error reading secret: 'NoneType' object has no attribute 'get'
unit-opensearch-dashboards-0: 03:06:24 ERROR unit.opensearch-dashboards/0.juju-log Request GET to http://10.119.242.74:5601/api/status with payload: None failed. 
401 Client Error: Unauthorized for url: http://10.119.242.74:5601/api/status
unit-opensearch-dashboards-0: 03:06:24 ERROR unit.opensearch-dashboards/0.juju-log Uncaught exception while in charm code:
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-dashboards-0/charm/./src/charm.py", line 317, in <module>
    main(OpensearchDasboardsCharm)
  File "/var/lib/juju/agents/unit-opensearch-dashboards-0/charm/venv/ops/main.py", line 551, in main
    manager.run()
  File "/var/lib/juju/agents/unit-opensearch-dashboards-0/charm/venv/ops/main.py", line 530, in run
    self._emit()
  File "/var/lib/juju/agents/unit-opensearch-dashboards-0/charm/venv/ops/main.py", line 519, in _emit
    _emit_charm_event(self.charm, self.dispatcher.event_name)
  File "/var/lib/juju/agents/unit-opensearch-dashboards-0/charm/venv/ops/main.py", line 147, in _emit_charm_event
    event_to_emit.emit(*args, **kwargs)
  File "/var/lib/juju/agents/unit-opensearch-dashboards-0/charm/venv/ops/framework.py", line 348, in emit
    framework._emit(event)
  File "/var/lib/juju/agents/unit-opensearch-dashboards-0/charm/venv/ops/framework.py", line 860, in _emit
    self._reemit(event_path)
  File "/var/lib/juju/agents/unit-opensearch-dashboards-0/charm/venv/ops/framework.py", line 950, in _reemit
    custom_handler(event)
  File "/var/lib/juju/agents/unit-opensearch-dashboards-0/charm/./src/charm.py", line 202, in reconcile
    unit_healthy, unit_msg = self.health_manager.unit_healthy()
  File "/var/lib/juju/agents/unit-opensearch-dashboards-0/charm/src/managers/health.py", line 112, in unit_healthy
    return self.status_ok()
  File "/var/lib/juju/agents/unit-opensearch-dashboards-0/charm/src/managers/health.py", line 55, in status_ok
    if status_data["status"]["overall"]["state"] == "green":
UnboundLocalError: local variable 'status_data' referenced before assignment
unit-opensearch-dashboards-0: 03:06:24 ERROR juju.worker.uniter.operation hook "update-status" (via hook dispatching script: dispatch) failed: exit status 1
unit-opensearch-dashboards-0: 03:06:53 ERROR unit.opensearch-dashboards/0.juju-log Request GET to http://10.119.242.74:5601/api/status with payload: None failed. 
HTTPConnectionPool(host='10.119.242.74', port=5601): Max retries exceeded with url: /api/status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7410f031e3b0>: Failed to establish a new connection: [Errno 111] Connection refused'))
unit-opensearch-dashboards-0: 03:06:54 ERROR unit.opensearch-dashboards/0.juju-log opensearch-client:8: Request GET to http://10.119.242.74:5601/api/status with payload: None failed. 
HTTPConnectionPool(host='10.119.242.74', port=5601): Max retries exceeded with url: /api/status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7a0de9880b50>: Failed to establish a new connection: [Errno 111] Connection refused'))
machine-6: 03:10:56 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-6: 03:10:56 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-opensearch-3: 03:10:56 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk

[32mINFO    [0m pytest_operator.plugin:plugin.py:947 Forgetting model main...