[32mINFO    [0m juju.model:model.py:2098 Deploying local:opensearch-0
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:329 



[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:330 Model  Controller           Cloud/Region         Version  SLA          Timestamp
test   localhost-localhost  localhost/localhost  3.5.3    unsupported  02:08:18Z

App                       Version  Status   Scale  Charm                     Channel        Rev  Exposed  Message
opensearch                         active       2  opensearch                                 0  no       
second-opensearch                  waiting    0/1  opensearch                                 0  no       waiting for machine
self-signed-certificates           active       1  self-signed-certificates  latest/stable  155  no       

Unit                         Workload  Agent       Machine  Public address  Ports     Message
opensearch/0*                active    idle        1        10.21.177.55    9200/tcp  
opensearch/1                 active    idle        2        10.21.177.118   9200/tcp  
second-opensearch/0          waiting   allocating  3                                  waiting for machine
self-signed-certificates/0*  active    executing   0        10.21.177.156             

Machine  State    Address        Inst id        Base          AZ  Message
0        started  10.21.177.156  juju-ace498-0  ubuntu@22.04      Running
1        started  10.21.177.55   juju-ace498-1  ubuntu@22.04      Running
2        started  10.21.177.118  juju-ace498-2  ubuntu@22.04      Running
3        pending                 pending        ubuntu@22.04      

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:08:18 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.cfb* -- (10.21.177.55) -- [idle (since: 02:06:48)] active: 
		opensearch-1.cfb  -- (10.21.177.118) -- [idle (since: 02:08:07)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:08:29 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.cfb* -- (10.21.177.55) -- [idle (since: 02:06:48)] active: 
		opensearch-1.cfb  -- (10.21.177.118) -- [idle (since: 02:08:07)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:08:40 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.cfb* -- (10.21.177.55) -- [idle (since: 02:06:48)] active: 
		opensearch-1.cfb  -- (10.21.177.118) -- [idle (since: 02:08:07)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:08:51 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.cfb* -- (10.21.177.55) -- [idle (since: 02:06:48)] active: 
		opensearch-1.cfb  -- (10.21.177.118) -- [idle (since: 02:08:07)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:09:02 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.cfb* -- (10.21.177.55) -- [idle (since: 02:06:48)] active: 
		opensearch-1.cfb  -- (10.21.177.118) -- [idle (since: 02:08:07)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:09:13 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.cfb* -- (10.21.177.55) -- [idle (since: 02:06:48)] active: 
		opensearch-1.cfb  -- (10.21.177.118) -- [idle (since: 02:08:07)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:09:25 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: second-opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: second waiting -- message: waiting for machine
		second-opensearch-0.434  -- (10.21.177.11) -- [allocating (since: 02:08:18)] waiting: waiting for machine

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:09:52 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: second-opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: second maintenance -- message: Installing OpenSearch...
		second-opensearch-0.434* -- (10.21.177.11) -- [executing (since: 02:09:48)] maintenance: Installing OpenSearch...

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:10:04 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: second-opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: second maintenance -- message: Installing OpenSearch...
		second-opensearch-0.434* -- (10.21.177.11) -- [executing (since: 02:09:48)] maintenance: Installing OpenSearch...

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:10:16 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: second-opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: second maintenance -- message: Installing OpenSearch...
		second-opensearch-0.434* -- (10.21.177.11) -- [executing (since: 02:09:48)] maintenance: Installing OpenSearch...

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:10:28 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: second-opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: second maintenance -- message: Installing OpenSearch...
		second-opensearch-0.434* -- (10.21.177.11) -- [executing (since: 02:09:48)] maintenance: Installing OpenSearch...

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:10:40 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: second-opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: second active -- message: None
		second-opensearch-0.434* -- (10.21.177.11) -- [executing (since: 02:10:40)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:10:51 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: second-opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: second active -- message: None
		second-opensearch-0.434* -- (10.21.177.11) -- [executing (since: 02:10:43)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:11:03 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: second-opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: second active -- message: None
		second-opensearch-0.434* -- (10.21.177.11) -- [executing (since: 02:10:43)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:11:15 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: second-opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: second maintenance -- message: Waiting for TLS to be fully configured...
		second-opensearch-0.434* -- (10.21.177.11) -- [executing (since: 02:11:16)] maintenance: Waiting for TLS to be fully configured...

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:11:27 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: second-opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: second waiting -- message: Waiting for OpenSearch to start...
		second-opensearch-0.434* -- (10.21.177.11) -- [executing (since: 02:11:23)] waiting: Waiting for OpenSearch to start...

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:11:39 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: second-opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: second active -- message: None
		second-opensearch-0.434* -- (10.21.177.11) -- [executing (since: 02:11:37)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:11:51 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: second-opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: second active -- message: None
		second-opensearch-0.434* -- (10.21.177.11) -- [idle (since: 02:11:50)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:12:02 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: second-opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: second active -- message: None
		second-opensearch-0.434* -- (10.21.177.11) -- [idle (since: 02:11:50)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:12:14 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: second-opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: second active -- message: None
		second-opensearch-0.434* -- (10.21.177.11) -- [idle (since: 02:11:50)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:12:26 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: second-opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: second active -- message: None
		second-opensearch-0.434* -- (10.21.177.11) -- [idle (since: 02:11:50)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:12:37 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: second-opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: second active -- message: None
		second-opensearch-0.434* -- (10.21.177.11) -- [idle (since: 02:11:50)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:12:49 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: second-opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: second active -- message: None
		second-opensearch-0.434* -- (10.21.177.11) -- [idle (since: 02:11:50)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:13:01 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: second-opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: second active -- message: None
		second-opensearch-0.434* -- (10.21.177.11) -- [idle (since: 02:11:50)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:13:13 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:348 02:13:15 -- Waiting for model: complete.



[32mINFO    [0m integration.helpers:helpers.py:367 Calling: PUT -- https://10.21.177.55:9200/test_index_unique_cluster_dbs/_doc/1
[32mINFO    [0m integration.helpers:helpers.py:367 Calling: POST -- https://10.21.177.55:9200/test_index_unique_cluster_dbs/_refresh
[32mINFO    [0m integration.helpers:helpers.py:367 Calling: PUT -- https://10.21.177.11:9200/test_index_unique_cluster_dbs/_doc/2
[32mINFO    [0m integration.helpers:helpers.py:367 Calling: POST -- https://10.21.177.11:9200/test_index_unique_cluster_dbs/_refresh
[32mINFO    [0m integration.helpers:helpers.py:367 Calling: GET -- https://10.21.177.55:9200/test_index_unique_cluster_dbs/_search
[32mINFO    [0m integration.helpers:helpers.py:367 Calling: GET -- https://10.21.177.11:9200/test_index_unique_cluster_dbs/_search
[32mINFO    [0m integration.helpers:helpers.py:367 Calling: DELETE -- https://10.21.177.55:9200/test_index_unique_cluster_dbs/
[32mINFO    [0m integration.ha.helpers:helpers.py:247 Continuous writes result: namespace(max_stored_id=415, count=416, last_expected_id=415)
[32mINFO    [0m integration.helpers:helpers.py:367 Calling: GET -- https://10.21.177.55:9200/series_index/_search_shards
[32mINFO    [0m integration.ha.conftest:conftest.py:39 



The writes have been cleared.




[32mINFO    [0m pytest_operator.plugin:plugin.py:862 Model status:

Model  Controller           Cloud/Region         Version  SLA          Timestamp
test   localhost-localhost  localhost/localhost  3.5.3    unsupported  02:13:51Z

App                       Version  Status  Scale  Charm                     Channel        Rev  Exposed  Message
opensearch                         active      2  opensearch                                 0  no       
self-signed-certificates           active      1  self-signed-certificates  latest/stable  155  no       

Unit                         Workload  Agent  Machine  Public address  Ports     Message
opensearch/0*                active    idle   1        10.21.177.55    9200/tcp  
opensearch/1                 active    idle   2        10.21.177.118   9200/tcp  
self-signed-certificates/0*  active    idle   0        10.21.177.156             

Machine  State    Address        Inst id        Base          AZ  Message
0        started  10.21.177.156  juju-ace498-0  ubuntu@22.04      Running
1        started  10.21.177.55   juju-ace498-1  ubuntu@22.04      Running
2        started  10.21.177.118  juju-ace498-2  ubuntu@22.04      Running

[32mINFO    [0m pytest_operator.plugin:plugin.py:868 Juju error logs:

machine-1: 01:52:16 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-1: 01:52:16 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-opensearch-0: 01:52:16 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-2: 01:52:23 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-2: 01:52:23 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-opensearch-1: 01:52:23 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-0: 01:53:25 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-0: 01:53:25 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-self-signed-certificates-0: 01:53:25 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
unit-opensearch-0: 02:01:05 ERROR unit.opensearch/0.juju-log certificates:3: err:  / out: keytool error: java.lang.Exception: Keystore file does not exist: /var/snap/opensearch/current/etc/opensearch/certificates/ca.p12

unit-opensearch-0: 02:01:10 ERROR unit.opensearch/0.juju-log opensearch-peers:0: Cannot connect to the OpenSearch server...
unit-opensearch-0: 02:01:11 ERROR unit.opensearch/0.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-0: 02:01:11 ERROR unit.opensearch/0.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-0: 02:01:12 ERROR unit.opensearch/0.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-0: 02:01:15 ERROR unit.opensearch/0.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-0: 02:01:18 ERROR unit.opensearch/0.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-0: 02:01:21 ERROR unit.opensearch/0.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-1: 02:04:59 ERROR unit.opensearch/1.juju-log certificates:3: err:  / out: keytool error: java.lang.Exception: Keystore file does not exist: /var/snap/opensearch/current/etc/opensearch/certificates/ca.p12

unit-opensearch-1: 02:05:03 ERROR unit.opensearch/1.juju-log certificates:3: Cannot connect to the OpenSearch server...
unit-opensearch-1: 02:05:03 ERROR unit.opensearch/1.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-1: 02:05:04 ERROR unit.opensearch/1.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-1: 02:05:05 ERROR unit.opensearch/1.juju-log node-lock-fallback:1: Cannot connect to the OpenSearch server...
unit-opensearch-1: 02:05:06 ERROR unit.opensearch/1.juju-log certificates:3: Cannot connect to the OpenSearch server...
unit-opensearch-1: 02:05:07 ERROR unit.opensearch/1.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-1: 02:05:08 ERROR unit.opensearch/1.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-1: 02:05:09 ERROR unit.opensearch/1.juju-log node-lock-fallback:1: Cannot connect to the OpenSearch server...
unit-opensearch-1: 02:05:10 ERROR unit.opensearch/1.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-1: 02:05:11 ERROR unit.opensearch/1.juju-log Cannot connect to the OpenSearch server...
unit-opensearch-1: 02:05:11 ERROR unit.opensearch/1.juju-log node-lock-fallback:1: Cannot connect to the OpenSearch server...
unit-opensearch-1: 02:05:12 ERROR unit.opensearch/1.juju-log opensearch-peers:0: Cannot connect to the OpenSearch server...
unit-opensearch-1: 02:05:13 ERROR unit.opensearch/1.juju-log node-lock-fallback:1: Cannot connect to the OpenSearch server...
unit-opensearch-1: 02:05:14 ERROR unit.opensearch/1.juju-log opensearch-peers:0: Cannot connect to the OpenSearch server...
unit-opensearch-1: 02:05:15 ERROR unit.opensearch/1.juju-log opensearch-peers:0: Cannot connect to the OpenSearch server...
machine-3: 02:09:37 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-3: 02:09:37 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-second-opensearch-0: 02:09:37 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
unit-second-opensearch-0: 02:11:19 ERROR unit.second-opensearch/0.juju-log certificates:7: err:  / out: keytool error: java.lang.Exception: Keystore file does not exist: /var/snap/opensearch/current/etc/opensearch/certificates/ca.p12

unit-second-opensearch-0: 02:11:24 ERROR unit.second-opensearch/0.juju-log certificates:7: Cannot connect to the OpenSearch server...
unit-second-opensearch-0: 02:11:24 ERROR unit.second-opensearch/0.juju-log certificates:7: Cannot connect to the OpenSearch server...
unit-second-opensearch-0: 02:11:24 ERROR unit.second-opensearch/0.juju-log certificates:7: Cannot connect to the OpenSearch server...
unit-second-opensearch-0: 02:11:27 ERROR unit.second-opensearch/0.juju-log certificates:7: Cannot connect to the OpenSearch server...
unit-second-opensearch-0: 02:11:30 ERROR unit.second-opensearch/0.juju-log certificates:7: Cannot connect to the OpenSearch server...
unit-second-opensearch-0: 02:11:33 ERROR unit.second-opensearch/0.juju-log certificates:7: Cannot connect to the OpenSearch server...
unit-second-opensearch-0: 02:13:38 ERROR unit.second-opensearch/0.juju-log Cannot connect to the OpenSearch server...
unit-second-opensearch-0: 02:13:39 ERROR unit.second-opensearch/0.juju-log certificates:7: Error reading secret: 'NoneType' object has no attribute 'get'

[32mINFO    [0m pytest_operator.plugin:plugin.py:947 Forgetting model main...