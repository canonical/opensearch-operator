[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:329 



[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:330 Model  Controller           Cloud/Region         Version  SLA          Timestamp
test   localhost-localhost  localhost/localhost  3.5.3    unsupported  01:57:22Z

App                       Version  Status  Scale  Charm                     Channel        Rev  Exposed  Message
opensearch                         active      3  opensearch                                 0  no       
self-signed-certificates           active      1  self-signed-certificates  latest/stable  155  no       

Unit                         Workload  Agent      Machine  Public address  Ports     Message
opensearch/0*                active    executing  0        10.94.62.215    9200/tcp  
opensearch/1                 active    executing  1        10.94.62.252    9200/tcp  
opensearch/2                 active    executing  2        10.94.62.31     9200/tcp  
self-signed-certificates/0*  active    idle       3        10.94.62.148              

Machine  State    Address       Inst id        Base          AZ  Message
0        started  10.94.62.215  juju-121f05-0  ubuntu@22.04      Running
1        started  10.94.62.252  juju-121f05-1  ubuntu@22.04      Running
2        started  10.94.62.31   juju-121f05-2  ubuntu@22.04      Running
3        started  10.94.62.148  juju-121f05-3  ubuntu@22.04      Running

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


01:57:22 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:277 	App: opensearch - Units - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:278 
	app: opensearch active -- message: None
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 01:57:13)] active: 
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 01:57:22)] active: 
		opensearch-2.1ce  -- (10.94.62.31) -- [executing (since: 01:57:13)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


01:57:34 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Applying new CA certificate...
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 01:57:33)] maintenance: Applying new CA certificate...
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 01:57:24)] waiting: Waiting for OpenSearch to start...
		opensearch-2.1ce  -- (10.94.62.31) -- [executing (since: 01:57:33)] maintenance: Applying new CA certificate...

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


01:57:46 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Applying new CA certificate...
		opensearch-0.1ce* -- (10.94.62.215) -- [idle (since: 01:57:37)] maintenance: Applying new CA certificate...
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 01:57:24)] waiting: Waiting for OpenSearch to start...
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 01:57:38)] maintenance: Applying new CA certificate...

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


01:57:58 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Applying new CA certificate...
		opensearch-0.1ce* -- (10.94.62.215) -- [idle (since: 01:57:57)] maintenance: Applying new CA certificate...
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 01:57:58)] maintenance: Waiting for TLS to be fully configured...
		opensearch-2.1ce  -- (10.94.62.31) -- [executing (since: 01:57:48)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


01:58:10 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Applying new CA certificate...
		opensearch-0.1ce* -- (10.94.62.215) -- [idle (since: 01:57:57)] maintenance: Applying new CA certificate...
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 01:57:58)] maintenance: Waiting for TLS to be fully configured...
		opensearch-2.1ce  -- (10.94.62.31) -- [executing (since: 01:57:48)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


01:58:21 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Applying new CA certificate...
		opensearch-0.1ce* -- (10.94.62.215) -- [idle (since: 01:57:57)] maintenance: Applying new CA certificate...
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 01:57:58)] maintenance: Waiting for TLS to be fully configured...
		opensearch-2.1ce  -- (10.94.62.31) -- [executing (since: 01:57:48)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


01:58:33 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Applying new CA certificate...
		opensearch-0.1ce* -- (10.94.62.215) -- [idle (since: 01:57:57)] maintenance: Applying new CA certificate...
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 01:57:58)] maintenance: Waiting for TLS to be fully configured...
		opensearch-2.1ce  -- (10.94.62.31) -- [executing (since: 01:57:48)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


01:58:45 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Applying new CA certificate...
		opensearch-0.1ce* -- (10.94.62.215) -- [idle (since: 01:57:57)] maintenance: Applying new CA certificate...
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 01:57:58)] maintenance: Waiting for TLS to be fully configured...
		opensearch-2.1ce  -- (10.94.62.31) -- [executing (since: 01:57:48)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


01:58:57 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Applying new CA certificate...
		opensearch-0.1ce* -- (10.94.62.215) -- [idle (since: 01:57:57)] maintenance: Applying new CA certificate...
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 01:57:58)] maintenance: Waiting for TLS to be fully configured...
		opensearch-2.1ce  -- (10.94.62.31) -- [executing (since: 01:57:48)] waiting: Waiting for OpenSearch to start...

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


01:59:09 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Applying new CA certificate...
		opensearch-0.1ce* -- (10.94.62.215) -- [idle (since: 01:57:57)] maintenance: Applying new CA certificate...
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 01:57:58)] maintenance: Waiting for TLS to be fully configured...
		opensearch-2.1ce  -- (10.94.62.31) -- [executing (since: 01:57:48)] waiting: Waiting for OpenSearch to start...

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


01:59:21 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 01:59:12)] waiting: The OpenSearch service stopped.
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 01:59:16)] maintenance: Waiting for TLS to be fully configured...
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 01:59:20)] maintenance: Waiting for TLS to be fully configured...

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


01:59:32 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 01:59:12)] waiting: The OpenSearch service stopped.
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 01:59:16)] maintenance: Waiting for TLS to be fully configured...
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 01:59:20)] maintenance: Waiting for TLS to be fully configured...

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


01:59:44 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 01:59:12)] waiting: The OpenSearch service stopped.
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 01:59:16)] maintenance: Waiting for TLS to be fully configured...
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 01:59:20)] maintenance: Waiting for TLS to be fully configured...

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


01:59:55 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 01:59:12)] waiting: The OpenSearch service stopped.
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 01:59:16)] maintenance: Waiting for TLS to be fully configured...
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 01:59:20)] maintenance: Waiting for TLS to be fully configured...

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:00:08 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 01:59:12)] waiting: The OpenSearch service stopped.
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 01:59:16)] maintenance: Waiting for TLS to be fully configured...
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 01:59:20)] maintenance: Waiting for TLS to be fully configured...

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:00:19 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 01:59:12)] waiting: The OpenSearch service stopped.
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 01:59:16)] maintenance: Waiting for TLS to be fully configured...
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 01:59:20)] maintenance: Waiting for TLS to be fully configured...

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:00:31 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 01:59:12)] waiting: Waiting for OpenSearch to start...
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 01:59:16)] maintenance: Waiting for TLS to be fully configured...
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 01:59:20)] maintenance: Waiting for TLS to be fully configured...

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:00:43 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:00:41)] maintenance: Waiting for TLS to be fully configured...
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:00:39)] maintenance: Waiting for TLS to be fully configured...
		opensearch-2.1ce  -- (10.94.62.31) -- [executing (since: 02:00:39)] maintenance: Waiting for TLS to be fully configured...

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:00:55 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:00:43)] maintenance: Waiting for TLS to be fully configured...
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:00:52)] maintenance: Waiting for TLS to be fully configured...
		opensearch-2.1ce  -- (10.94.62.31) -- [executing (since: 02:00:39)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:01:06 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:00:43)] maintenance: Waiting for TLS to be fully configured...
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:01:04)] maintenance: Waiting for TLS to be fully configured...
		opensearch-2.1ce  -- (10.94.62.31) -- [executing (since: 02:00:39)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:01:19 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:00:43)] maintenance: Waiting for TLS to be fully configured...
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:01:04)] maintenance: Waiting for TLS to be fully configured...
		opensearch-2.1ce  -- (10.94.62.31) -- [executing (since: 02:00:39)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:01:30 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:00:43)] maintenance: Waiting for TLS to be fully configured...
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:01:04)] maintenance: Waiting for TLS to be fully configured...
		opensearch-2.1ce  -- (10.94.62.31) -- [executing (since: 02:00:39)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:01:42 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:01:34)] maintenance: Waiting for TLS to be fully configured...
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:01:04)] maintenance: Waiting for TLS to be fully configured...
		opensearch-2.1ce  -- (10.94.62.31) -- [executing (since: 02:00:39)] waiting: The OpenSearch service stopped.

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:01:54 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:01:46)] maintenance: Waiting for TLS to be fully configured...
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:01:04)] maintenance: Waiting for TLS to be fully configured...
		opensearch-2.1ce  -- (10.94.62.31) -- [executing (since: 02:00:39)] waiting: Waiting for OpenSearch to start...

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:02:06 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:02:04)] maintenance: Waiting for TLS to be fully configured...
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:01:04)] maintenance: Waiting for TLS to be fully configured...
		opensearch-2.1ce  -- (10.94.62.31) -- [executing (since: 02:00:39)] waiting: Waiting for OpenSearch to start...

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:02:17 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:02:04)] maintenance: Waiting for TLS to be fully configured...
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:01:04)] waiting: The OpenSearch service stopped.
		opensearch-2.1ce  -- (10.94.62.31) -- [executing (since: 02:02:17)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:02:30 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:02:24)] maintenance: Waiting for TLS to be fully configured...
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:01:04)] waiting: The OpenSearch service stopped.
		opensearch-2.1ce  -- (10.94.62.31) -- [executing (since: 02:02:30)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:02:42 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:02:24)] maintenance: Waiting for TLS to be fully configured...
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:01:04)] waiting: The OpenSearch service stopped.
		opensearch-2.1ce  -- (10.94.62.31) -- [executing (since: 02:02:42)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:02:53 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:02:24)] maintenance: Waiting for TLS to be fully configured...
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:01:04)] waiting: The OpenSearch service stopped.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:02:53)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:03:05 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:02:24)] maintenance: Waiting for TLS to be fully configured...
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:01:04)] waiting: The OpenSearch service stopped.
		opensearch-2.1ce  -- (10.94.62.31) -- [executing (since: 02:03:05)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:03:17 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:02:24)] maintenance: Waiting for TLS to be fully configured...
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:01:04)] waiting: Waiting for OpenSearch to start...
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:03:17)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:03:29 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:02:24)] maintenance: Waiting for TLS to be fully configured...
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:01:04)] waiting: Waiting for OpenSearch to start...
		opensearch-2.1ce  -- (10.94.62.31) -- [executing (since: 02:03:28)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:03:41 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:02:24)] maintenance: Waiting for TLS to be fully configured...
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:01:04)] waiting: Waiting for OpenSearch to start...
		opensearch-2.1ce  -- (10.94.62.31) -- [executing (since: 02:03:41)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:03:53 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:02:24)] maintenance: Waiting for TLS to be fully configured...
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:01:04)] waiting: Waiting for OpenSearch to start...
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:03:53)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:04:05 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:02:24)] maintenance: Waiting for TLS to be fully configured...
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:01:04)] waiting: The OpenSearch service is stopping.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:04:05)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:04:17 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:02:24)] maintenance: Waiting for TLS to be fully configured...
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:01:04)] waiting: Waiting for OpenSearch to start...
		opensearch-2.1ce  -- (10.94.62.31) -- [executing (since: 02:04:16)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:04:29 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:02:24)] maintenance: Waiting for TLS to be fully configured...
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:01:04)] waiting: Waiting for OpenSearch to start...
		opensearch-2.1ce  -- (10.94.62.31) -- [executing (since: 02:04:29)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:04:40 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:02:24)] maintenance: Waiting for TLS to be fully configured...
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:01:04)] waiting: Waiting for OpenSearch to start...
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:04:40)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:04:53 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:02:24)] maintenance: Waiting for TLS to be fully configured...
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:01:04)] waiting: Waiting for OpenSearch to start...
		opensearch-2.1ce  -- (10.94.62.31) -- [executing (since: 02:04:53)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:05:04 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:02:24)] maintenance: Waiting for TLS to be fully configured...
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:01:04)] waiting: Waiting for OpenSearch to start...
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:05:04)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:05:16 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:02:24)] maintenance: Waiting for TLS to be fully configured...
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:01:04)] waiting: Waiting for OpenSearch to start...
		opensearch-2.1ce  -- (10.94.62.31) -- [executing (since: 02:05:16)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:05:28 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:02:24)] maintenance: Waiting for TLS to be fully configured...
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:01:04)] waiting: Waiting for OpenSearch to start...
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:05:28)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:05:39 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:02:24)] maintenance: Waiting for TLS to be fully configured...
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:01:04)] waiting: Waiting for OpenSearch to start...
		opensearch-2.1ce  -- (10.94.62.31) -- [executing (since: 02:05:39)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:05:51 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:02:24)] maintenance: Waiting for TLS to be fully configured...
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:01:04)] waiting: Waiting for OpenSearch to start...
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:05:51)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:06:04 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:02:24)] maintenance: Waiting for TLS to be fully configured...
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:01:04)] waiting: Waiting for OpenSearch to start...
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:06:04)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:06:15 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:02:24)] maintenance: Waiting for TLS to be fully configured...
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:01:04)] waiting: Waiting for OpenSearch to start...
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:06:15)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:06:27 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:06:24)] maintenance: Waiting for TLS to be fully configured...
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:01:04)] waiting: Waiting for OpenSearch to start...
		opensearch-2.1ce  -- (10.94.62.31) -- [executing (since: 02:06:27)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:06:39 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:06:38)] maintenance: Waiting for TLS to be fully configured...
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:01:04)] waiting: Waiting for OpenSearch to start...
		opensearch-2.1ce  -- (10.94.62.31) -- [executing (since: 02:06:39)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:06:51 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:06:50)] maintenance: Waiting for TLS to be fully configured...
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:01:04)] waiting: Waiting for OpenSearch to start...
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:06:51)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:07:02 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:07:01)] maintenance: Waiting for TLS to be fully configured...
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:01:04)] waiting: Waiting for OpenSearch to start...
		opensearch-2.1ce  -- (10.94.62.31) -- [executing (since: 02:07:02)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:07:15 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:07:14)] maintenance: Waiting for TLS to be fully configured...
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:01:04)] waiting: The OpenSearch service is stopping.
		opensearch-2.1ce  -- (10.94.62.31) -- [executing (since: 02:07:13)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:07:26 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:07:25)] maintenance: Waiting for TLS to be fully configured...
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:01:04)] waiting: Waiting for OpenSearch to start...
		opensearch-2.1ce  -- (10.94.62.31) -- [executing (since: 02:07:26)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:07:38 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:07:32)] maintenance: Waiting for TLS to be fully configured...
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:01:04)] waiting: Waiting for OpenSearch to start...
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:07:38)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:07:50 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:07:47)] maintenance: Waiting for TLS to be fully configured...
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:01:04)] waiting: Waiting for OpenSearch to start...
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:07:50)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:08:02 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:07:59)] maintenance: Waiting for TLS to be fully configured...
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:01:04)] waiting: Waiting for OpenSearch to start...
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:08:01)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:08:13 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:08:12)] maintenance: Waiting for TLS to be fully configured...
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:01:04)] waiting: Waiting for OpenSearch to start...
		opensearch-2.1ce  -- (10.94.62.31) -- [executing (since: 02:08:12)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:08:26 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:08:24)] maintenance: Waiting for TLS to be fully configured...
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:01:04)] waiting: Waiting for OpenSearch to start...
		opensearch-2.1ce  -- (10.94.62.31) -- [executing (since: 02:08:26)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:08:38 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:08:38)] maintenance: Waiting for TLS to be fully configured...
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:01:04)] waiting: Waiting for OpenSearch to start...
		opensearch-2.1ce  -- (10.94.62.31) -- [executing (since: 02:08:37)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:08:49 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:08:48)] maintenance: Waiting for TLS to be fully configured...
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:01:04)] waiting: Waiting for OpenSearch to start...
		opensearch-2.1ce  -- (10.94.62.31) -- [executing (since: 02:08:49)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:09:01 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:09:00)] maintenance: Waiting for TLS to be fully configured...
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:01:04)] waiting: Waiting for OpenSearch to start...
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:09:01)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:09:13 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:09:12)] maintenance: Waiting for TLS to be fully configured...
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:01:04)] waiting: Waiting for OpenSearch to start...
		opensearch-2.1ce  -- (10.94.62.31) -- [executing (since: 02:09:13)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:09:25 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:09:25)] maintenance: Waiting for TLS to be fully configured...
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:01:04)] waiting: Waiting for OpenSearch to start...
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:09:23)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:09:37 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:09:35)] maintenance: Waiting for TLS to be fully configured...
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:01:04)] waiting: Waiting for OpenSearch to start...
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:09:37)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:09:49 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:09:48)] maintenance: Waiting for TLS to be fully configured...
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:01:04)] waiting: Waiting for OpenSearch to start...
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:09:47)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:10:01 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:09:56)] maintenance: Waiting for TLS to be fully configured...
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:01:04)] waiting: Waiting for OpenSearch to start...
		opensearch-2.1ce  -- (10.94.62.31) -- [executing (since: 02:10:01)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:10:12 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:10)] maintenance: Waiting for TLS to be fully configured...
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:01:04)] waiting: Waiting for OpenSearch to start...
		opensearch-2.1ce  -- (10.94.62.31) -- [executing (since: 02:10:11)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:10:24 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:23)] maintenance: Waiting for TLS to be fully configured...
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:10:23)] waiting: Waiting for OpenSearch to start...
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:10:23)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:10:36 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch maintenance -- message: Waiting for TLS to be fully configured...
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:34)] maintenance: Waiting for TLS to be fully configured...
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 02:10:34)] waiting: Waiting for OpenSearch to start...
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:10:34)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:10:48 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 02:10:46)] waiting: Waiting for OpenSearch to start...
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:10:45)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:11:00 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:10:52)] waiting: Waiting for OpenSearch to start...
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:10:51)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:11:12 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:10:52)] waiting: Waiting for OpenSearch to start...
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:10:51)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:11:23 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:10:52)] waiting: Waiting for OpenSearch to start...
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:10:51)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:11:35 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:10:52)] waiting: Waiting for OpenSearch to start...
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:10:51)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:11:47 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:10:52)] waiting: Waiting for OpenSearch to start...
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:10:51)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:11:59 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:10:52)] waiting: Waiting for OpenSearch to start...
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:10:51)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:12:11 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:10:52)] waiting: Waiting for OpenSearch to start...
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:10:51)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:12:22 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:10:52)] waiting: Waiting for OpenSearch to start...
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:10:51)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:12:34 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:10:52)] waiting: Waiting for OpenSearch to start...
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:10:51)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:12:46 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:10:52)] waiting: Waiting for OpenSearch to start...
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:10:51)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:12:57 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:10:52)] waiting: Waiting for OpenSearch to start...
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:10:51)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:13:10 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:10:52)] waiting: Waiting for OpenSearch to start...
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:10:51)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:13:21 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:10:52)] waiting: Waiting for OpenSearch to start...
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:10:51)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:13:33 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:10:52)] waiting: Waiting for OpenSearch to start...
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:10:51)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:13:45 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:10:52)] waiting: Waiting for OpenSearch to start...
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:10:51)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:13:56 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:10:52)] waiting: Waiting for OpenSearch to start...
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:10:51)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:14:08 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:10:52)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:10:51)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:14:20 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:10:52)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:10:51)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:14:32 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:10:52)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:10:51)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:14:43 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:10:52)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:10:51)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:14:55 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:10:52)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:10:51)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:15:06 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:10:52)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:10:51)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:15:18 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:10:52)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:10:51)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:15:30 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:10:52)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:10:51)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:15:42 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:10:52)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:10:51)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:15:54 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:10:52)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:10:51)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:16:05 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:10:52)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:10:51)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:16:17 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:10:52)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:10:51)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:16:29 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:10:52)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:10:51)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:16:41 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:10:52)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:10:51)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:16:53 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:10:52)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:10:51)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:17:04 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:17:04)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:17:03)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:17:16 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 02:17:05)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:17:03)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:17:28 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 02:17:05)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:17:03)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:17:39 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 02:17:05)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:17:03)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:17:52 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 02:17:05)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:17:03)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:18:03 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 02:17:05)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:17:03)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:18:15 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 02:17:05)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:17:03)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:18:27 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 02:17:05)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:17:03)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:18:38 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 02:17:05)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:17:03)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:18:50 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 02:17:05)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:17:03)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:19:02 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 02:17:05)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:17:03)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:19:14 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 02:17:05)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:17:03)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:19:26 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 02:17:05)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:17:03)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:19:37 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 02:17:05)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:17:03)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:19:49 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 02:17:05)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:17:03)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:20:00 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 02:17:05)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:17:03)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:20:13 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 02:17:05)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:17:03)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:20:25 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 02:17:05)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:17:03)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:20:36 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 02:17:05)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:17:03)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:20:48 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 02:17:05)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:17:03)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:21:00 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 02:17:05)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:17:03)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:21:11 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 02:17:05)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:17:03)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:21:24 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 02:17:05)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:17:03)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:21:35 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 02:17:05)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:17:03)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:21:47 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 02:17:05)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:17:03)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:21:59 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 02:17:05)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:17:03)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:22:10 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 02:17:05)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:17:03)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:22:22 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 02:17:05)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:17:03)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:22:35 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 02:17:05)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:17:03)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:22:46 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 02:17:05)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:17:03)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:22:58 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 02:17:05)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:17:03)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:23:10 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 02:17:05)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:17:03)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:23:22 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 02:17:05)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:17:03)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:23:33 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 02:17:05)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:17:03)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:23:46 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 02:17:05)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:17:03)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:23:58 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 02:17:05)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:17:03)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:24:09 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 02:17:05)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:17:03)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:24:21 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 02:17:05)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:17:03)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:24:33 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 02:17:05)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:17:03)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:24:44 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 02:17:05)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:17:03)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:24:57 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 02:17:05)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:17:03)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:25:09 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 02:17:05)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:17:03)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:25:20 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 02:17:05)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:17:03)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:25:32 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 02:17:05)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:17:03)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:25:44 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 02:17:05)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:17:03)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:25:55 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:10:43)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 02:17:05)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:17:03)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:26:08 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:26:05)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [executing (since: 02:26:07)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [executing (since: 02:26:07)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:26:20 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:26:05)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 02:26:10)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:26:10)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:26:31 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:26:05)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 02:26:10)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:26:10)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:26:43 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:26:05)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 02:26:10)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:26:10)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:26:55 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:26:05)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 02:26:10)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:26:10)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:27:06 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:26:05)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 02:26:10)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:26:10)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:27:19 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:26:05)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 02:26:10)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:26:10)] active: 

[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:337 


02:27:31 -- Waiting for model...
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:261 	App: opensearch - conditions unmet.
[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:262 
	app: opensearch waiting -- message: The OpenSearch service is stopping.
		opensearch-0.1ce* -- (10.94.62.215) -- [executing (since: 02:26:05)] waiting: The OpenSearch service is stopping.
		opensearch-1.1ce  -- (10.94.62.252) -- [idle (since: 02:26:10)] waiting: The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
		opensearch-2.1ce  -- (10.94.62.31) -- [idle (since: 02:26:10)] active: 

[1m[31mERROR   [0m integration.helpers_deployments:helpers_deployments.py:352 wait_until -- Timed out!



[32mINFO    [0m integration.helpers_deployments:helpers_deployments.py:353 Model  Controller           Cloud/Region         Version  SLA          Timestamp
test   localhost-localhost  localhost/localhost  3.5.3    unsupported  02:27:32Z

App                       Version  Status   Scale  Charm                     Channel        Rev  Exposed  Message
opensearch                         waiting      3  opensearch                                 0  no       The OpenSearch service is stopping.
self-signed-certificates           active       1  self-signed-certificates  latest/stable  155  no       

Unit                         Workload  Agent      Machine  Public address  Ports     Message
opensearch/0*                waiting   executing  0        10.94.62.215    9200/tcp  The OpenSearch service is stopping.
opensearch/1                 waiting   idle       1        10.94.62.252    9200/tcp  The shards: opensearch-1.1ce/.plugins-ml-config,.opendistro_security need to complete building.
opensearch/2                 active    idle       2        10.94.62.31     9200/tcp  
self-signed-certificates/0*  active    idle       3        10.94.62.148              

Machine  State    Address       Inst id        Base          AZ  Message
0        started  10.94.62.215  juju-121f05-0  ubuntu@22.04      Running
1        started  10.94.62.252  juju-121f05-1  ubuntu@22.04      Running
2        started  10.94.62.31   juju-121f05-2  ubuntu@22.04      Running
3        started  10.94.62.148  juju-121f05-3  ubuntu@22.04      Running

[1m[31mERROR   [0m integration.helpers_deployments:helpers_deployments.py:92 Dumping juju logs for all:
[1m[31mERROR   [0m integration.helpers_deployments:helpers_deployments.py:93 unit-opensearch-0: 02:16:11 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:16:11 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:16:11 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:16:11 INFO unit.opensearch/0.juju-log certificates:3: Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:16:11 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:16:11 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:16:11 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:16:11 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:16:11 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:16:11 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:16:11 DEBUG unit.opensearch/0.juju-log certificates:3: 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:16:11 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:16:11 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:16:11 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:16:11 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:16:11 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:16:11 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13954
unit-opensearch-0: 02:16:11 DEBUG unit.opensearch/0.juju-log certificates:3: Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23796719616, 'free_bytes': 80068583424, 'free_disk_percent': 77.1, 'used_disk_percent': 22.9}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23796719616, 'free_bytes': 80068583424, 'free_disk_percent': 77.1, 'used_disk_percent': 22.9}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23796719616, 'free_bytes': 80068583424, 'free_disk_percent': 77.1, 'used_disk_percent': 22.9}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23796719616, 'free_bytes': 80068583424, 'free_disk_percent': 77.1, 'used_disk_percent': 22.9}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23797985280, 'free_bytes': 80067317760, 'free_disk_percent': 77.1, 'used_disk_percent': 22.9}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23797985280, 'free_bytes': 80067317760, 'free_disk_percent': 77.1, 'used_disk_percent': 22.9}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 673565, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 235531, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1047562, '[.charm_node_lock][0][r]_bytes': 43027, '[.opensearch-sap-log-types-config][0][p]_bytes': 359680}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.5gb], shard size: [208b], free after allocating shard: [74.5gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.5gb], shard size: [208b], free after allocating shard: [74.5gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.5gb], shard size: [208b], free after allocating shard: [74.5gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:16:11 INFO unit.opensearch/0.juju-log certificates:3: Shards still moving before stopping Opensearch.
unit-opensearch-0: 02:16:21 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:16:21 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:16:21 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:16:21 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:16:21 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:16:21 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:16:21 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:16:21 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:16:21 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:16:21 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:16:21 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:16:21 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:16:21 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:16:21 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:16:21 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:16:21 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:16:21 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:16:21 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:16:21 INFO unit.opensearch/0.juju-log certificates:3: Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:16:21 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:16:21 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:16:21 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:16:21 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:16:21 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:16:21 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:16:21 DEBUG unit.opensearch/0.juju-log certificates:3: 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:16:21 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:16:21 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:16:21 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:16:21 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:16:21 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:16:21 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13954
unit-opensearch-0: 02:16:21 DEBUG unit.opensearch/0.juju-log certificates:3: Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23812833280, 'free_bytes': 80052469760, 'free_disk_percent': 77.1, 'used_disk_percent': 22.9}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23812833280, 'free_bytes': 80052469760, 'free_disk_percent': 77.1, 'used_disk_percent': 22.9}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23812833280, 'free_bytes': 80052469760, 'free_disk_percent': 77.1, 'used_disk_percent': 22.9}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23812833280, 'free_bytes': 80052469760, 'free_disk_percent': 77.1, 'used_disk_percent': 22.9}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23813980160, 'free_bytes': 80051322880, 'free_disk_percent': 77.1, 'used_disk_percent': 22.9}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23813980160, 'free_bytes': 80051322880, 'free_disk_percent': 77.1, 'used_disk_percent': 22.9}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 697157, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1070385, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.5gb], shard size: [208b], free after allocating shard: [74.5gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.5gb], shard size: [208b], free after allocating shard: [74.5gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.5gb], shard size: [208b], free after allocating shard: [74.5gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:16:21 INFO unit.opensearch/0.juju-log certificates:3: Shards still moving before stopping Opensearch.
unit-opensearch-0: 02:16:31 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:16:31 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:16:31 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:16:31 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:16:31 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:16:31 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:16:31 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:16:31 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:16:31 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:16:31 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:16:31 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:16:31 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:16:31 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:16:31 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:16:31 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:16:31 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:16:31 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:16:31 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:16:31 INFO unit.opensearch/0.juju-log certificates:3: Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:16:31 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:16:31 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:16:31 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:16:31 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:16:31 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:16:31 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:16:31 DEBUG unit.opensearch/0.juju-log certificates:3: 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:16:31 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:16:31 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:16:31 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:16:31 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:16:31 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:16:31 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13954
unit-opensearch-0: 02:16:31 DEBUG unit.opensearch/0.juju-log certificates:3: Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23812833280, 'free_bytes': 80052469760, 'free_disk_percent': 77.1, 'used_disk_percent': 22.9}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23812833280, 'free_bytes': 80052469760, 'free_disk_percent': 77.1, 'used_disk_percent': 22.9}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23812833280, 'free_bytes': 80052469760, 'free_disk_percent': 77.1, 'used_disk_percent': 22.9}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23812833280, 'free_bytes': 80052469760, 'free_disk_percent': 77.1, 'used_disk_percent': 22.9}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23813980160, 'free_bytes': 80051322880, 'free_disk_percent': 77.1, 'used_disk_percent': 22.9}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23813980160, 'free_bytes': 80051322880, 'free_disk_percent': 77.1, 'used_disk_percent': 22.9}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 697157, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1070385, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.5gb], shard size: [208b], free after allocating shard: [74.5gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.5gb], shard size: [208b], free after allocating shard: [74.5gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.5gb], shard size: [208b], free after allocating shard: [74.5gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:16:31 INFO unit.opensearch/0.juju-log certificates:3: Shards still moving before stopping Opensearch.
unit-opensearch-0: 02:16:41 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:16:41 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:16:41 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:16:41 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:16:41 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:16:41 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:16:41 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:16:42 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:16:42 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:16:42 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:16:42 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:16:42 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:16:42 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:16:42 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:16:42 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:16:42 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:16:42 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:16:42 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:16:42 INFO unit.opensearch/0.juju-log certificates:3: Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:16:42 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:16:42 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:16:42 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:16:42 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:16:42 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:16:42 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:16:42 DEBUG unit.opensearch/0.juju-log certificates:3: 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:16:42 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:16:42 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:16:42 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:16:42 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:16:42 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:16:42 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13954
unit-opensearch-0: 02:16:42 DEBUG unit.opensearch/0.juju-log certificates:3: Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23812833280, 'free_bytes': 80052469760, 'free_disk_percent': 77.1, 'used_disk_percent': 22.9}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23812833280, 'free_bytes': 80052469760, 'free_disk_percent': 77.1, 'used_disk_percent': 22.9}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23812833280, 'free_bytes': 80052469760, 'free_disk_percent': 77.1, 'used_disk_percent': 22.9}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23812833280, 'free_bytes': 80052469760, 'free_disk_percent': 77.1, 'used_disk_percent': 22.9}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23813980160, 'free_bytes': 80051322880, 'free_disk_percent': 77.1, 'used_disk_percent': 22.9}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23813980160, 'free_bytes': 80051322880, 'free_disk_percent': 77.1, 'used_disk_percent': 22.9}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 697157, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1070385, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.5gb], shard size: [208b], free after allocating shard: [74.5gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.5gb], shard size: [208b], free after allocating shard: [74.5gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.5gb], shard size: [208b], free after allocating shard: [74.5gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:16:42 INFO unit.opensearch/0.juju-log certificates:3: Shards still moving before stopping Opensearch.
unit-opensearch-0: 02:16:52 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:16:52 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:16:52 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:16:52 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:16:52 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:16:52 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:16:52 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:16:52 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:16:52 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:16:52 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:16:52 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:16:52 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:16:52 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:16:52 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:16:52 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:16:52 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:16:52 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:16:52 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:16:52 INFO unit.opensearch/0.juju-log certificates:3: Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:16:52 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:16:52 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:16:52 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:16:52 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:16:52 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:16:52 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:16:52 DEBUG unit.opensearch/0.juju-log certificates:3: 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:16:52 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:16:52 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:16:52 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:16:52 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:16:52 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:16:52 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13954
unit-opensearch-0: 02:16:52 DEBUG unit.opensearch/0.juju-log certificates:3: Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23855140864, 'free_bytes': 80010162176, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23855140864, 'free_bytes': 80010162176, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23855140864, 'free_bytes': 80010162176, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23855140864, 'free_bytes': 80010162176, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23856193536, 'free_bytes': 80009109504, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23856193536, 'free_bytes': 80009109504, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 713529, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1085866, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.5gb], shard size: [208b], free after allocating shard: [74.5gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.5gb], shard size: [208b], free after allocating shard: [74.5gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.5gb], shard size: [208b], free after allocating shard: [74.5gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:16:52 INFO unit.opensearch/0.juju-log certificates:3: Shards still moving before stopping Opensearch.
unit-opensearch-1: 02:17:01 DEBUG unit.opensearch/1.juju-log https://10.94.62.252:9200 "GET /_cluster/health?wait_for_status=green&timeout=1m HTTP/11" 408 463
unit-opensearch-1: 02:17:01 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:17:01 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-1: 02:17:01 DEBUG unit.opensearch/1.juju-log Error when checking if host 10.94.62.215 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.215', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-1: 02:17:01 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:17:01 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-1: 02:17:01 DEBUG unit.opensearch/1.juju-log https://10.94.62.31:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:17:01 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:17:01 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-1: 02:17:01 DEBUG unit.opensearch/1.juju-log https://10.94.62.31:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:17:01 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:17:01 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-1: 02:17:01 DEBUG unit.opensearch/1.juju-log Error when checking if host 10.94.62.215 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.215', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-1: 02:17:01 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:17:01 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-1: 02:17:01 DEBUG unit.opensearch/1.juju-log https://10.94.62.252:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:17:01 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:17:01 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-1: 02:17:01 DEBUG unit.opensearch/1.juju-log https://10.94.62.31:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:17:01 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:17:01 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-1: 02:17:01 DEBUG unit.opensearch/1.juju-log https://10.94.62.31:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:17:01 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:17:01 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-1: 02:17:01 DEBUG unit.opensearch/1.juju-log https://10.94.62.31:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-1: 02:17:01 INFO unit.opensearch/1.juju-log Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-1: 02:17:01 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:17:01 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-1: 02:17:01 DEBUG unit.opensearch/1.juju-log https://10.94.62.252:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:17:01 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:17:01 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-1: 02:17:01 DEBUG unit.opensearch/1.juju-log https://10.94.62.252:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-1: 02:17:01 DEBUG unit.opensearch/1.juju-log 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-1: 02:17:01 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:17:01 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-1: 02:17:01 DEBUG unit.opensearch/1.juju-log https://10.94.62.252:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:17:01 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:17:01 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-1: 02:17:01 DEBUG unit.opensearch/1.juju-log https://10.94.62.252:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13954
unit-opensearch-1: 02:17:01 DEBUG unit.opensearch/1.juju-log Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23855140864, 'free_bytes': 80010162176, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23855140864, 'free_bytes': 80010162176, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23855140864, 'free_bytes': 80010162176, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23855140864, 'free_bytes': 80010162176, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23856193536, 'free_bytes': 80009109504, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23856193536, 'free_bytes': 80009109504, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 713529, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1085866, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.5gb], shard size: [208b], free after allocating shard: [74.5gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.5gb], shard size: [208b], free after allocating shard: [74.5gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.5gb], shard size: [208b], free after allocating shard: [74.5gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-1: 02:17:01 INFO unit.opensearch/1.juju-log Current health of cluster: yellow-temp
unit-opensearch-1: 02:17:01 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:17:01 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-1: 02:17:01 DEBUG unit.opensearch/1.juju-log https://10.94.62.31:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:17:01 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:17:01 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-1: 02:17:01 DEBUG unit.opensearch/1.juju-log Error when checking if host 10.94.62.215 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.215', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-1: 02:17:01 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:17:01 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-1: 02:17:01 DEBUG unit.opensearch/1.juju-log Error when checking if host 10.94.62.215 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.215', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-1: 02:17:01 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:17:01 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-1: 02:17:01 DEBUG unit.opensearch/1.juju-log https://10.94.62.31:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:17:01 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:17:01 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-1: 02:17:01 DEBUG unit.opensearch/1.juju-log https://10.94.62.252:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:17:01 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:17:01 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-1: 02:17:01 DEBUG unit.opensearch/1.juju-log https://10.94.62.31:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:17:01 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:17:01 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-1: 02:17:01 DEBUG unit.opensearch/1.juju-log https://10.94.62.31:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:17:01 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:17:01 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-1: 02:17:01 DEBUG unit.opensearch/1.juju-log https://10.94.62.31:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-1: 02:17:01 DEBUG unit.opensearch/1.juju-log Set upgrade unit state to healthy
unit-opensearch-1: 02:17:01 DEBUG unit.opensearch/1.juju-log Versions before upgrade compatible with versions after upgrade previous_version_strs={'charm': '1', 'workload': '2.17.0'} self._current_versions={'charm': '1+3d27426', 'workload': '2.17.0'}
unit-opensearch-1: 02:17:01 DEBUG unit.opensearch/1.juju-log Emitting Juju event secret_changed.
unit-opensearch-1: 02:17:01 INFO unit.opensearch/1.juju-log Secret opensearch:unit:1:unit-http was not relevant for us.
unit-opensearch-1: 02:17:02 INFO juju.worker.uniter.operation ran "secret-changed" hook (via hook dispatching script: dispatch)
unit-opensearch-0: 02:17:02 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:17:02 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:17:02 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:17:02 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:17:02 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:17:02 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:17:02 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:17:02 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:17:02 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:17:02 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:17:02 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:17:02 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:17:02 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:17:02 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:17:02 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:17:02 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:17:02 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:17:02 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:17:02 INFO unit.opensearch/0.juju-log certificates:3: Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:17:02 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:17:02 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:17:02 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:17:02 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:17:02 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:17:02 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:17:02 DEBUG unit.opensearch/0.juju-log certificates:3: 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:17:02 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:17:02 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:17:02 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:17:02 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:17:02 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:17:02 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13954
unit-opensearch-0: 02:17:02 DEBUG unit.opensearch/0.juju-log certificates:3: Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23855140864, 'free_bytes': 80010162176, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23855140864, 'free_bytes': 80010162176, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23855140864, 'free_bytes': 80010162176, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23855140864, 'free_bytes': 80010162176, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23856193536, 'free_bytes': 80009109504, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23856193536, 'free_bytes': 80009109504, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 713529, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1085866, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.5gb], shard size: [208b], free after allocating shard: [74.5gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.5gb], shard size: [208b], free after allocating shard: [74.5gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.5gb], shard size: [208b], free after allocating shard: [74.5gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:17:02 INFO unit.opensearch/0.juju-log certificates:3: Shards still moving before stopping Opensearch.
unit-opensearch-2: 02:17:02 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: ops 2.15.0 up and running.
unit-opensearch-1: 02:17:02 DEBUG unit.opensearch/1.juju-log ops 2.15.0 up and running.
unit-opensearch-2: 02:17:02 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Emitting Juju event opensearch_peers_relation_changed.
unit-opensearch-2: 02:17:02 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-1: 02:17:02 DEBUG unit.opensearch/1.juju-log Emitting Juju event secret_changed.
unit-opensearch-2: 02:17:02 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-2: 02:17:02 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: https://10.94.62.31:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:17:02 INFO unit.opensearch/1.juju-log Secret opensearch:unit:1:unit-transport was not relevant for us.
unit-opensearch-2: 02:17:02 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-2: 02:17:02 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-2: 02:17:02 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: https://10.94.62.252:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:17:02 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-2: 02:17:02 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-2: 02:17:02 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: https://10.94.62.252:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:17:02 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-2: 02:17:02 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-2: 02:17:02 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Error when checking if host 10.94.62.215 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.215', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-2: 02:17:02 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-2: 02:17:02 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-2: 02:17:02 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Error when checking if host 10.94.62.215 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.215', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-2: 02:17:02 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-2: 02:17:02 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-2: 02:17:02 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: https://10.94.62.31:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:17:02 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-2: 02:17:02 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-2: 02:17:02 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: https://10.94.62.252:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:17:02 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-2: 02:17:02 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-2: 02:17:02 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: https://10.94.62.252:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:17:02 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-2: 02:17:02 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-2: 02:17:02 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: https://10.94.62.252:9200 "GET /_nodes HTTP/11" 200 53919
unit-opensearch-2: 02:17:02 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-2: 02:17:03 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-2: 02:17:03 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Error when checking if host 10.94.62.215 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.215', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-2: 02:17:03 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-2: 02:17:03 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-2: 02:17:03 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: https://10.94.62.252:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:17:03 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-2: 02:17:03 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-2: 02:17:03 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: https://10.94.62.252:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:17:03 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-2: 02:17:03 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-1: 02:17:03 INFO juju.worker.uniter.operation ran "secret-changed" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 02:17:03 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Error when checking if host 10.94.62.215 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.215', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-2: 02:17:03 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-2: 02:17:03 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-2: 02:17:03 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: https://10.94.62.31:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:17:03 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-2: 02:17:03 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-2: 02:17:03 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: https://10.94.62.252:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:17:03 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-2: 02:17:03 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-2: 02:17:03 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: https://10.94.62.252:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:17:03 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-2: 02:17:03 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-2: 02:17:03 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: https://10.94.62.252:9200 "GET /_cluster/state/metadata/voting_config_exclusions HTTP/11" 200 454
unit-opensearch-2: 02:17:03 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Current voting exclusions: {'opensearch-0.1ce'}
unit-opensearch-2: 02:17:03 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: No voting exclusions to delete, current set is {'opensearch-0.1ce'}
unit-opensearch-2: 02:17:03 INFO juju.worker.uniter.operation ran "opensearch-peers-relation-changed" hook (via hook dispatching script: dispatch)
unit-opensearch-1: 02:17:04 DEBUG unit.opensearch/1.juju-log ops 2.15.0 up and running.
unit-opensearch-1: 02:17:04 DEBUG unit.opensearch/1.juju-log Emitting Juju event secret_remove.
unit-opensearch-1: 02:17:04 INFO juju.worker.uniter.operation ran "secret-remove" hook (via hook dispatching script: dispatch)
unit-opensearch-1: 02:17:04 DEBUG unit.opensearch/1.juju-log ops 2.15.0 up and running.
unit-opensearch-1: 02:17:04 DEBUG unit.opensearch/1.juju-log Emitting Juju event secret_remove.
unit-opensearch-1: 02:17:05 INFO juju.worker.uniter.operation ran "secret-remove" hook (via hook dispatching script: dispatch)
unit-opensearch-0: 02:17:12 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:17:12 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:17:12 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:17:12 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:17:12 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:17:12 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:17:12 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:17:12 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:17:12 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:17:12 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:17:12 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:17:12 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:17:12 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:17:12 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:17:12 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:17:12 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:17:12 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:17:12 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:17:12 INFO unit.opensearch/0.juju-log certificates:3: Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:17:12 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:17:12 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:17:12 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:17:12 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:17:12 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:17:12 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:17:12 DEBUG unit.opensearch/0.juju-log certificates:3: 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:17:12 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:17:12 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:17:12 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:17:12 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:17:12 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:17:12 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13954
unit-opensearch-0: 02:17:12 DEBUG unit.opensearch/0.juju-log certificates:3: Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23855140864, 'free_bytes': 80010162176, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23855140864, 'free_bytes': 80010162176, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23855140864, 'free_bytes': 80010162176, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23855140864, 'free_bytes': 80010162176, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23856193536, 'free_bytes': 80009109504, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23856193536, 'free_bytes': 80009109504, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 713529, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1085866, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.5gb], shard size: [208b], free after allocating shard: [74.5gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.5gb], shard size: [208b], free after allocating shard: [74.5gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.5gb], shard size: [208b], free after allocating shard: [74.5gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:17:12 INFO unit.opensearch/0.juju-log certificates:3: Shards still moving before stopping Opensearch.
unit-opensearch-0: 02:17:22 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:17:22 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:17:22 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:17:22 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:17:22 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:17:22 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:17:22 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:17:22 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:17:22 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:17:22 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:17:22 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:17:22 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:17:22 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:17:22 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:17:22 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:17:22 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:17:22 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:17:22 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:17:22 INFO unit.opensearch/0.juju-log certificates:3: Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:17:22 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:17:22 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:17:22 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:17:22 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:17:23 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:17:23 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:17:23 DEBUG unit.opensearch/0.juju-log certificates:3: 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:17:23 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:17:23 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:17:23 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:17:23 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:17:23 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:17:23 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13954
unit-opensearch-0: 02:17:23 DEBUG unit.opensearch/0.juju-log certificates:3: Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23872053248, 'free_bytes': 79993249792, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23872053248, 'free_bytes': 79993249792, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23872053248, 'free_bytes': 79993249792, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23872053248, 'free_bytes': 79993249792, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23873290240, 'free_bytes': 79992012800, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23873290240, 'free_bytes': 79992012800, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 729913, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1101183, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.4gb], shard size: [208b], free after allocating shard: [74.4gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.4gb], shard size: [208b], free after allocating shard: [74.4gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.4gb], shard size: [208b], free after allocating shard: [74.4gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:17:23 INFO unit.opensearch/0.juju-log certificates:3: Shards still moving before stopping Opensearch.
unit-opensearch-0: 02:17:33 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:17:33 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:17:33 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:17:33 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:17:33 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:17:33 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:17:33 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:17:33 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:17:33 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:17:33 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:17:33 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:17:33 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:17:33 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:17:33 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:17:33 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:17:33 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:17:33 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:17:33 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:17:33 INFO unit.opensearch/0.juju-log certificates:3: Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:17:33 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:17:33 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:17:33 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:17:33 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:17:33 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:17:33 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:17:33 DEBUG unit.opensearch/0.juju-log certificates:3: 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:17:33 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:17:33 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:17:33 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:17:33 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:17:33 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:17:33 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13954
unit-opensearch-0: 02:17:33 DEBUG unit.opensearch/0.juju-log certificates:3: Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23872053248, 'free_bytes': 79993249792, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23872053248, 'free_bytes': 79993249792, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23872053248, 'free_bytes': 79993249792, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23872053248, 'free_bytes': 79993249792, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23873290240, 'free_bytes': 79992012800, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23873290240, 'free_bytes': 79992012800, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 729913, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1101183, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.4gb], shard size: [208b], free after allocating shard: [74.4gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.4gb], shard size: [208b], free after allocating shard: [74.4gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.4gb], shard size: [208b], free after allocating shard: [74.4gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:17:33 INFO unit.opensearch/0.juju-log certificates:3: Shards still moving before stopping Opensearch.
unit-opensearch-0: 02:17:43 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:17:43 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:17:43 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:17:43 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:17:43 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:17:43 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:17:43 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:17:43 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:17:43 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:17:43 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:17:43 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:17:43 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:17:43 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:17:43 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:17:43 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:17:43 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:17:43 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:17:43 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:17:43 INFO unit.opensearch/0.juju-log certificates:3: Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:17:43 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:17:43 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:17:43 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:17:43 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:17:43 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:17:43 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:17:43 DEBUG unit.opensearch/0.juju-log certificates:3: 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:17:43 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:17:43 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:17:43 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:17:43 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:17:43 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:17:43 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13954
unit-opensearch-0: 02:17:43 DEBUG unit.opensearch/0.juju-log certificates:3: Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23872053248, 'free_bytes': 79993249792, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23872053248, 'free_bytes': 79993249792, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23872053248, 'free_bytes': 79993249792, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23872053248, 'free_bytes': 79993249792, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23873290240, 'free_bytes': 79992012800, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23873290240, 'free_bytes': 79992012800, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 729913, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1101183, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.4gb], shard size: [208b], free after allocating shard: [74.4gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.4gb], shard size: [208b], free after allocating shard: [74.4gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.4gb], shard size: [208b], free after allocating shard: [74.4gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:17:43 INFO unit.opensearch/0.juju-log certificates:3: Shards still moving before stopping Opensearch.
unit-opensearch-0: 02:17:53 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:17:53 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:17:53 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:17:53 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:17:53 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:17:53 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:17:53 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:17:53 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:17:53 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:17:53 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:17:53 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:17:53 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:17:53 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:17:53 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:17:53 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:17:53 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:17:53 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:17:53 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:17:53 INFO unit.opensearch/0.juju-log certificates:3: Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:17:53 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:17:53 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:17:53 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:17:53 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:17:53 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:17:53 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:17:53 DEBUG unit.opensearch/0.juju-log certificates:3: 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:17:53 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:17:53 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:17:53 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:17:53 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:17:53 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:17:53 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13954
unit-opensearch-0: 02:17:53 DEBUG unit.opensearch/0.juju-log certificates:3: Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23879921664, 'free_bytes': 79985381376, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23879921664, 'free_bytes': 79985381376, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23879921664, 'free_bytes': 79985381376, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23879921664, 'free_bytes': 79985381376, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23881207808, 'free_bytes': 79984095232, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23881207808, 'free_bytes': 79984095232, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 753523, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1116389, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.4gb], shard size: [208b], free after allocating shard: [74.4gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.4gb], shard size: [208b], free after allocating shard: [74.4gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.4gb], shard size: [208b], free after allocating shard: [74.4gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:17:53 INFO unit.opensearch/0.juju-log certificates:3: Shards still moving before stopping Opensearch.
unit-opensearch-0: 02:18:03 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:18:03 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:18:03 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:18:03 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:18:03 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:18:03 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:18:03 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:18:03 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:18:03 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:18:03 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:18:03 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:18:03 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:18:03 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:18:03 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:18:03 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:18:03 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:18:03 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:18:03 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:18:03 INFO unit.opensearch/0.juju-log certificates:3: Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:18:03 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:18:03 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:18:03 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:18:03 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:18:03 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:18:03 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:18:03 DEBUG unit.opensearch/0.juju-log certificates:3: 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:18:03 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:18:03 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:18:03 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:18:03 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:18:03 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:18:03 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13954
unit-opensearch-0: 02:18:04 DEBUG unit.opensearch/0.juju-log certificates:3: Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23879921664, 'free_bytes': 79985381376, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23879921664, 'free_bytes': 79985381376, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23879921664, 'free_bytes': 79985381376, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23879921664, 'free_bytes': 79985381376, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23881207808, 'free_bytes': 79984095232, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23881207808, 'free_bytes': 79984095232, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 753523, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1116389, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.4gb], shard size: [208b], free after allocating shard: [74.4gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.4gb], shard size: [208b], free after allocating shard: [74.4gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.4gb], shard size: [208b], free after allocating shard: [74.4gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:18:04 INFO unit.opensearch/0.juju-log certificates:3: Shards still moving before stopping Opensearch.
unit-opensearch-0: 02:18:14 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:18:14 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:18:14 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:18:14 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:18:14 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:18:14 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:18:14 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:18:14 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:18:14 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:18:14 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:18:14 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:18:14 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:18:14 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:18:14 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:18:14 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:18:14 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:18:14 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:18:14 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:18:14 INFO unit.opensearch/0.juju-log certificates:3: Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:18:14 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:18:14 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:18:14 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:18:14 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:18:14 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:18:14 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:18:14 DEBUG unit.opensearch/0.juju-log certificates:3: 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:18:14 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:18:14 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:18:14 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:18:14 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:18:14 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:18:14 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13954
unit-opensearch-0: 02:18:14 DEBUG unit.opensearch/0.juju-log certificates:3: Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23879921664, 'free_bytes': 79985381376, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23879921664, 'free_bytes': 79985381376, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23879921664, 'free_bytes': 79985381376, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23879921664, 'free_bytes': 79985381376, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23881207808, 'free_bytes': 79984095232, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23881207808, 'free_bytes': 79984095232, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 753523, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1116389, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.4gb], shard size: [208b], free after allocating shard: [74.4gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.4gb], shard size: [208b], free after allocating shard: [74.4gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.4gb], shard size: [208b], free after allocating shard: [74.4gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:18:14 INFO unit.opensearch/0.juju-log certificates:3: Shards still moving before stopping Opensearch.
unit-self-signed-certificates-0: 02:18:19 DEBUG unit.self-signed-certificates/0.juju-log ops 2.14.0 up and running.
unit-self-signed-certificates-0: 02:18:19 DEBUG unit.self-signed-certificates/0.juju-log no relation on 'tracing': tracing not ready
unit-self-signed-certificates-0: 02:18:19 DEBUG unit.self-signed-certificates/0.juju-log Emitting Juju event update_status.
unit-self-signed-certificates-0: 02:18:19 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-1: 02:18:23 DEBUG unit.opensearch/1.juju-log ops 2.15.0 up and running.
unit-opensearch-1: 02:18:23 DEBUG unit.opensearch/1.juju-log Emitting Juju event update_status.
unit-opensearch-1: 02:18:23 DEBUG unit.opensearch/1.juju-log Executing command: sysctl -n vm.max_map_count
unit-opensearch-1: 02:18:23 DEBUG unit.opensearch/1.juju-log sysctl -n vm.max_map_count:
262144

unit-opensearch-1: 02:18:23 DEBUG unit.opensearch/1.juju-log Executing command: sysctl -n vm.swappiness
unit-opensearch-1: 02:18:23 DEBUG unit.opensearch/1.juju-log sysctl -n vm.swappiness:
0

unit-opensearch-1: 02:18:23 DEBUG unit.opensearch/1.juju-log Executing command: sysctl -n net.ipv4.tcp_retries2
unit-opensearch-1: 02:18:23 DEBUG unit.opensearch/1.juju-log sysctl -n net.ipv4.tcp_retries2:
5

unit-opensearch-1: 02:18:23 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:18:23 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-1: 02:18:23 DEBUG unit.opensearch/1.juju-log https://10.94.62.252:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:18:23 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:18:23 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-1: 02:18:23 DEBUG unit.opensearch/1.juju-log https://10.94.62.252:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:18:23 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:18:23 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-1: 02:18:23 DEBUG unit.opensearch/1.juju-log https://10.94.62.31:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:18:23 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:18:23 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-1: 02:18:23 DEBUG unit.opensearch/1.juju-log https://10.94.62.31:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:18:23 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:18:23 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-1: 02:18:23 DEBUG unit.opensearch/1.juju-log Error when checking if host 10.94.62.215 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.215', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-1: 02:18:23 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:18:23 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-1: 02:18:23 DEBUG unit.opensearch/1.juju-log Error when checking if host 10.94.62.215 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.215', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-1: 02:18:23 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:18:23 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-1: 02:18:23 DEBUG unit.opensearch/1.juju-log https://10.94.62.252:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:18:23 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:18:23 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-1: 02:18:23 DEBUG unit.opensearch/1.juju-log https://10.94.62.31:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:18:23 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:18:23 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-1: 02:18:23 DEBUG unit.opensearch/1.juju-log https://10.94.62.31:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:18:23 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:18:23 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-1: 02:18:23 DEBUG unit.opensearch/1.juju-log https://10.94.62.31:9200 "GET /_nodes HTTP/11" 200 80464
unit-opensearch-1: 02:18:23 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:18:23 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-1: 02:18:23 DEBUG unit.opensearch/1.juju-log Error when checking if host 10.94.62.215 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.215', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-1: 02:18:23 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:18:23 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-1: 02:18:23 DEBUG unit.opensearch/1.juju-log https://10.94.62.31:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:18:23 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:18:23 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-1: 02:18:23 DEBUG unit.opensearch/1.juju-log https://10.94.62.31:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:18:23 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:18:23 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-1: 02:18:23 DEBUG unit.opensearch/1.juju-log Error when checking if host 10.94.62.215 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.215', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-1: 02:18:23 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:18:23 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-1: 02:18:23 DEBUG unit.opensearch/1.juju-log https://10.94.62.252:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:18:23 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:18:23 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-1: 02:18:23 DEBUG unit.opensearch/1.juju-log https://10.94.62.31:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:18:23 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:18:23 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-1: 02:18:23 DEBUG unit.opensearch/1.juju-log https://10.94.62.31:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:18:23 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:18:23 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-1: 02:18:23 DEBUG unit.opensearch/1.juju-log https://10.94.62.31:9200 "GET /_cluster/state/metadata/voting_config_exclusions HTTP/11" 200 454
unit-opensearch-1: 02:18:23 DEBUG unit.opensearch/1.juju-log Current voting exclusions: {'opensearch-0.1ce'}
unit-opensearch-1: 02:18:23 DEBUG unit.opensearch/1.juju-log No voting exclusions to delete, current set is {'opensearch-0.1ce'}
unit-opensearch-1: 02:18:23 DEBUG unit.opensearch/1.juju-log self._app_workload_container_version='58' self._unit_workload_container_versions={'opensearch/2': '58', 'opensearch/1': '58', 'opensearch/0': '58'}
unit-opensearch-1: 02:18:23 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-0: 02:18:24 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:18:24 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:18:24 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:18:24 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:18:24 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:18:24 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:18:24 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:18:24 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:18:24 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:18:24 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:18:24 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:18:24 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:18:24 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:18:24 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:18:24 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:18:24 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:18:24 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:18:24 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:18:24 INFO unit.opensearch/0.juju-log certificates:3: Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:18:24 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:18:24 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:18:24 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:18:24 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:18:24 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:18:24 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:18:24 DEBUG unit.opensearch/0.juju-log certificates:3: 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:18:24 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:18:24 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:18:24 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:18:24 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:18:24 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:18:24 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13954
unit-opensearch-0: 02:18:24 DEBUG unit.opensearch/0.juju-log certificates:3: Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23913582592, 'free_bytes': 79951720448, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23913582592, 'free_bytes': 79951720448, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23913582592, 'free_bytes': 79951720448, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23913582592, 'free_bytes': 79951720448, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23914815488, 'free_bytes': 79950487552, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23914815488, 'free_bytes': 79950487552, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 768471, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1139706, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.4gb], shard size: [208b], free after allocating shard: [74.4gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.4gb], shard size: [208b], free after allocating shard: [74.4gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.4gb], shard size: [208b], free after allocating shard: [74.4gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:18:24 INFO unit.opensearch/0.juju-log certificates:3: Shards still moving before stopping Opensearch.
unit-opensearch-0: 02:18:34 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:18:34 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:18:34 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:18:34 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:18:34 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:18:34 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:18:34 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:18:34 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:18:34 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:18:34 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:18:34 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:18:34 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:18:34 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:18:34 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:18:34 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:18:34 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:18:34 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:18:34 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:18:34 INFO unit.opensearch/0.juju-log certificates:3: Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:18:34 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:18:34 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:18:34 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:18:34 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:18:34 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:18:34 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:18:34 DEBUG unit.opensearch/0.juju-log certificates:3: 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:18:34 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:18:34 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:18:34 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:18:34 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:18:34 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:18:34 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13954
unit-opensearch-0: 02:18:34 DEBUG unit.opensearch/0.juju-log certificates:3: Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23913582592, 'free_bytes': 79951720448, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23913582592, 'free_bytes': 79951720448, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23913582592, 'free_bytes': 79951720448, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23913582592, 'free_bytes': 79951720448, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23914815488, 'free_bytes': 79950487552, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23914815488, 'free_bytes': 79950487552, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 768471, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1139706, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.4gb], shard size: [208b], free after allocating shard: [74.4gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.4gb], shard size: [208b], free after allocating shard: [74.4gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.4gb], shard size: [208b], free after allocating shard: [74.4gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:18:34 INFO unit.opensearch/0.juju-log certificates:3: Shards still moving before stopping Opensearch.
unit-opensearch-2: 02:18:35 DEBUG unit.opensearch/2.juju-log ops 2.15.0 up and running.
unit-opensearch-2: 02:18:36 DEBUG unit.opensearch/2.juju-log Emitting Juju event update_status.
unit-opensearch-2: 02:18:36 DEBUG unit.opensearch/2.juju-log Executing command: sysctl -n vm.max_map_count
unit-opensearch-2: 02:18:36 DEBUG unit.opensearch/2.juju-log sysctl -n vm.max_map_count:
262144

unit-opensearch-2: 02:18:36 DEBUG unit.opensearch/2.juju-log Executing command: sysctl -n vm.swappiness
unit-opensearch-2: 02:18:36 DEBUG unit.opensearch/2.juju-log sysctl -n vm.swappiness:
0

unit-opensearch-2: 02:18:36 DEBUG unit.opensearch/2.juju-log Executing command: sysctl -n net.ipv4.tcp_retries2
unit-opensearch-2: 02:18:36 DEBUG unit.opensearch/2.juju-log sysctl -n net.ipv4.tcp_retries2:
5

unit-opensearch-2: 02:18:36 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:18:36 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-2: 02:18:36 DEBUG unit.opensearch/2.juju-log https://10.94.62.31:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:18:36 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:18:36 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-2: 02:18:36 DEBUG unit.opensearch/2.juju-log https://10.94.62.31:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:18:36 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:18:36 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-2: 02:18:36 DEBUG unit.opensearch/2.juju-log https://10.94.62.252:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:18:36 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:18:36 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-2: 02:18:36 DEBUG unit.opensearch/2.juju-log https://10.94.62.252:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:18:36 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:18:36 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-2: 02:18:36 DEBUG unit.opensearch/2.juju-log Error when checking if host 10.94.62.215 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.215', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-2: 02:18:36 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:18:36 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-2: 02:18:36 DEBUG unit.opensearch/2.juju-log Error when checking if host 10.94.62.215 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.215', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-2: 02:18:36 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:18:36 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-2: 02:18:36 DEBUG unit.opensearch/2.juju-log https://10.94.62.31:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:18:36 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:18:36 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-2: 02:18:36 DEBUG unit.opensearch/2.juju-log https://10.94.62.252:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:18:36 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:18:36 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-2: 02:18:36 DEBUG unit.opensearch/2.juju-log https://10.94.62.252:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:18:36 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:18:36 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-2: 02:18:36 DEBUG unit.opensearch/2.juju-log https://10.94.62.31:9200 "GET /_nodes HTTP/11" 200 80464
unit-opensearch-2: 02:18:36 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:18:36 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-2: 02:18:36 DEBUG unit.opensearch/2.juju-log Error when checking if host 10.94.62.215 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.215', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-2: 02:18:36 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:18:36 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-2: 02:18:36 DEBUG unit.opensearch/2.juju-log https://10.94.62.252:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:18:36 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:18:36 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-2: 02:18:36 DEBUG unit.opensearch/2.juju-log https://10.94.62.252:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:18:36 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:18:36 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-2: 02:18:36 DEBUG unit.opensearch/2.juju-log Error when checking if host 10.94.62.215 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.215', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-2: 02:18:36 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:18:36 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-2: 02:18:36 DEBUG unit.opensearch/2.juju-log https://10.94.62.31:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:18:36 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:18:36 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-2: 02:18:36 DEBUG unit.opensearch/2.juju-log https://10.94.62.252:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:18:36 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:18:36 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-2: 02:18:36 DEBUG unit.opensearch/2.juju-log https://10.94.62.252:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:18:36 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:18:36 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-2: 02:18:36 DEBUG unit.opensearch/2.juju-log https://10.94.62.31:9200 "GET /_cluster/state/metadata/voting_config_exclusions HTTP/11" 200 454
unit-opensearch-2: 02:18:36 DEBUG unit.opensearch/2.juju-log Current voting exclusions: {'opensearch-0.1ce'}
unit-opensearch-2: 02:18:36 DEBUG unit.opensearch/2.juju-log No voting exclusions to delete, current set is {'opensearch-0.1ce'}
unit-opensearch-2: 02:18:36 DEBUG unit.opensearch/2.juju-log self._app_workload_container_version='58' self._unit_workload_container_versions={'opensearch/2': '58', 'opensearch/1': '58', 'opensearch/0': '58'}
unit-opensearch-2: 02:18:36 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-0: 02:18:44 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:18:44 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:18:44 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:18:44 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:18:44 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:18:44 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:18:44 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:18:44 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:18:44 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:18:44 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:18:44 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:18:44 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:18:44 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:18:44 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:18:44 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:18:44 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:18:44 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:18:44 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:18:44 INFO unit.opensearch/0.juju-log certificates:3: Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:18:44 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:18:44 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:18:44 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:18:44 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:18:44 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:18:44 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:18:44 DEBUG unit.opensearch/0.juju-log certificates:3: 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:18:44 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:18:44 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:18:44 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:18:44 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:18:44 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:18:44 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13954
unit-opensearch-0: 02:18:44 DEBUG unit.opensearch/0.juju-log certificates:3: Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23913582592, 'free_bytes': 79951720448, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23913582592, 'free_bytes': 79951720448, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23913582592, 'free_bytes': 79951720448, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23913582592, 'free_bytes': 79951720448, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23914815488, 'free_bytes': 79950487552, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23914815488, 'free_bytes': 79950487552, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 768471, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1139706, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.4gb], shard size: [208b], free after allocating shard: [74.4gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.4gb], shard size: [208b], free after allocating shard: [74.4gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.4gb], shard size: [208b], free after allocating shard: [74.4gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:18:44 INFO unit.opensearch/0.juju-log certificates:3: Shards still moving before stopping Opensearch.
unit-opensearch-0: 02:18:54 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:18:54 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:18:54 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:18:54 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:18:54 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:18:54 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:18:54 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:18:54 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:18:54 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:18:54 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:18:55 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:18:55 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:18:55 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:18:55 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:18:55 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:18:55 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:18:55 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:18:55 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:18:55 INFO unit.opensearch/0.juju-log certificates:3: Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:18:55 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:18:55 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:18:55 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:18:55 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:18:55 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:18:55 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:18:55 DEBUG unit.opensearch/0.juju-log certificates:3: 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:18:55 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:18:55 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:18:55 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:18:55 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:18:55 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:18:55 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13954
unit-opensearch-0: 02:18:55 DEBUG unit.opensearch/0.juju-log certificates:3: Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23929655296, 'free_bytes': 79935647744, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23929655296, 'free_bytes': 79935647744, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23929655296, 'free_bytes': 79935647744, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23929655296, 'free_bytes': 79935647744, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23930613760, 'free_bytes': 79934689280, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23930613760, 'free_bytes': 79934689280, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 784207, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1154661, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.4gb], shard size: [208b], free after allocating shard: [74.4gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.4gb], shard size: [208b], free after allocating shard: [74.4gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.4gb], shard size: [208b], free after allocating shard: [74.4gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:18:55 INFO unit.opensearch/0.juju-log certificates:3: Shards still moving before stopping Opensearch.
unit-opensearch-0: 02:19:05 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:19:05 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:19:05 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:19:05 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:19:05 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:19:05 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:19:05 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:19:05 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:19:05 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:19:05 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:19:05 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:19:05 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:19:05 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:19:05 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:19:05 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:19:05 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:19:05 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:19:05 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:19:05 INFO unit.opensearch/0.juju-log certificates:3: Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:19:05 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:19:05 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:19:05 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:19:05 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:19:05 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:19:05 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:19:05 DEBUG unit.opensearch/0.juju-log certificates:3: 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:19:05 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:19:05 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:19:05 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:19:05 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:19:05 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:19:05 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13954
unit-opensearch-0: 02:19:05 DEBUG unit.opensearch/0.juju-log certificates:3: Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23929655296, 'free_bytes': 79935647744, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23929655296, 'free_bytes': 79935647744, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23929655296, 'free_bytes': 79935647744, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23929655296, 'free_bytes': 79935647744, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23930613760, 'free_bytes': 79934689280, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23930613760, 'free_bytes': 79934689280, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 784207, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1154661, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.4gb], shard size: [208b], free after allocating shard: [74.4gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.4gb], shard size: [208b], free after allocating shard: [74.4gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.4gb], shard size: [208b], free after allocating shard: [74.4gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:19:05 INFO unit.opensearch/0.juju-log certificates:3: Shards still moving before stopping Opensearch.
unit-opensearch-0: 02:19:15 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:19:15 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:19:15 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:19:15 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:19:15 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:19:15 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:19:15 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:19:15 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:19:15 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:19:15 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:19:15 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:19:15 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:19:15 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:19:15 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:19:15 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:19:15 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:19:15 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:19:15 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:19:15 INFO unit.opensearch/0.juju-log certificates:3: Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:19:15 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:19:15 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:19:15 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:19:15 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:19:15 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:19:15 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:19:15 DEBUG unit.opensearch/0.juju-log certificates:3: 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:19:15 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:19:15 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:19:15 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:19:15 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:19:15 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:19:15 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13954
unit-opensearch-0: 02:19:15 DEBUG unit.opensearch/0.juju-log certificates:3: Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23929655296, 'free_bytes': 79935647744, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23929655296, 'free_bytes': 79935647744, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23929655296, 'free_bytes': 79935647744, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23929655296, 'free_bytes': 79935647744, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23930613760, 'free_bytes': 79934689280, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23930613760, 'free_bytes': 79934689280, 'free_disk_percent': 77.0, 'used_disk_percent': 23.0}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 784207, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1154661, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.4gb], shard size: [208b], free after allocating shard: [74.4gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.4gb], shard size: [208b], free after allocating shard: [74.4gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.4gb], shard size: [208b], free after allocating shard: [74.4gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:19:15 INFO unit.opensearch/0.juju-log certificates:3: Shards still moving before stopping Opensearch.
unit-opensearch-0: 02:19:25 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:19:25 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:19:25 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:19:25 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:19:25 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:19:25 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:19:25 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:19:25 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:19:25 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:19:25 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:19:25 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:19:25 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:19:25 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:19:25 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:19:25 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:19:25 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:19:25 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:19:25 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:19:25 INFO unit.opensearch/0.juju-log certificates:3: Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:19:25 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:19:25 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:19:25 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:19:25 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:19:25 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:19:25 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:19:25 DEBUG unit.opensearch/0.juju-log certificates:3: 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:19:25 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:19:25 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:19:25 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:19:25 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:19:25 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:19:25 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13954
unit-opensearch-0: 02:19:25 DEBUG unit.opensearch/0.juju-log certificates:3: Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23946379264, 'free_bytes': 79918923776, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23946379264, 'free_bytes': 79918923776, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23946379264, 'free_bytes': 79918923776, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23946379264, 'free_bytes': 79918923776, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23947612160, 'free_bytes': 79917690880, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23947612160, 'free_bytes': 79917690880, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 807142, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1177838, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.4gb], shard size: [208b], free after allocating shard: [74.4gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.4gb], shard size: [208b], free after allocating shard: [74.4gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.4gb], shard size: [208b], free after allocating shard: [74.4gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:19:25 INFO unit.opensearch/0.juju-log certificates:3: Shards still moving before stopping Opensearch.
unit-opensearch-0: 02:19:35 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:19:35 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:19:35 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:19:35 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:19:35 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:19:35 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:19:35 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:19:35 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:19:35 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:19:35 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:19:35 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:19:35 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:19:35 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:19:35 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:19:35 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:19:35 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:19:35 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:19:35 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:19:35 INFO unit.opensearch/0.juju-log certificates:3: Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:19:35 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:19:36 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:19:36 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:19:36 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:19:36 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:19:36 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:19:36 DEBUG unit.opensearch/0.juju-log certificates:3: 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:19:36 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:19:36 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:19:36 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:19:36 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:19:36 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:19:36 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13954
unit-opensearch-0: 02:19:36 DEBUG unit.opensearch/0.juju-log certificates:3: Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23946379264, 'free_bytes': 79918923776, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23946379264, 'free_bytes': 79918923776, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23946379264, 'free_bytes': 79918923776, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23946379264, 'free_bytes': 79918923776, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23947612160, 'free_bytes': 79917690880, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23947612160, 'free_bytes': 79917690880, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 807142, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1177838, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.4gb], shard size: [208b], free after allocating shard: [74.4gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.4gb], shard size: [208b], free after allocating shard: [74.4gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.4gb], shard size: [208b], free after allocating shard: [74.4gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:19:36 INFO unit.opensearch/0.juju-log certificates:3: Shards still moving before stopping Opensearch.
unit-opensearch-0: 02:19:46 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:19:46 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:19:46 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:19:46 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:19:46 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:19:46 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:19:46 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:19:46 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:19:46 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:19:46 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:19:46 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:19:46 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:19:46 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:19:46 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:19:46 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:19:46 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:19:46 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:19:46 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:19:46 INFO unit.opensearch/0.juju-log certificates:3: Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:19:46 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:19:46 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:19:46 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:19:46 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:19:46 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:19:46 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:19:46 DEBUG unit.opensearch/0.juju-log certificates:3: 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:19:46 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:19:46 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:19:46 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:19:46 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:19:46 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:19:46 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13954
unit-opensearch-0: 02:19:46 DEBUG unit.opensearch/0.juju-log certificates:3: Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23946379264, 'free_bytes': 79918923776, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23946379264, 'free_bytes': 79918923776, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23946379264, 'free_bytes': 79918923776, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23946379264, 'free_bytes': 79918923776, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23947612160, 'free_bytes': 79917690880, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23947612160, 'free_bytes': 79917690880, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 807142, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1177838, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.4gb], shard size: [208b], free after allocating shard: [74.4gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.4gb], shard size: [208b], free after allocating shard: [74.4gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.4gb], shard size: [208b], free after allocating shard: [74.4gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:19:46 INFO unit.opensearch/0.juju-log certificates:3: Shards still moving before stopping Opensearch.
unit-opensearch-0: 02:19:56 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:19:56 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:19:56 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:19:56 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:19:56 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:19:56 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:19:56 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:19:56 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:19:56 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:19:56 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:19:56 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:19:56 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:19:56 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:19:56 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:19:56 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:19:56 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:19:56 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:19:56 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:19:56 INFO unit.opensearch/0.juju-log certificates:3: Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:19:56 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:19:56 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:19:56 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:19:56 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:19:56 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:19:56 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:19:56 DEBUG unit.opensearch/0.juju-log certificates:3: 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:19:56 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:19:56 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:19:56 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:19:56 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:19:56 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:19:56 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13954
unit-opensearch-0: 02:19:56 DEBUG unit.opensearch/0.juju-log certificates:3: Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23954567168, 'free_bytes': 79910735872, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23954567168, 'free_bytes': 79910735872, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23954567168, 'free_bytes': 79910735872, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23954567168, 'free_bytes': 79910735872, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23955718144, 'free_bytes': 79909584896, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23955718144, 'free_bytes': 79909584896, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 823144, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1192825, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.4gb], shard size: [208b], free after allocating shard: [74.4gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.4gb], shard size: [208b], free after allocating shard: [74.4gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.4gb], shard size: [208b], free after allocating shard: [74.4gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:19:56 INFO unit.opensearch/0.juju-log certificates:3: Shards still moving before stopping Opensearch.
unit-opensearch-0: 02:20:06 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:20:06 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:20:06 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:20:06 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:20:06 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:20:06 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:20:06 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:20:06 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:20:06 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:20:06 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:20:06 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:20:06 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:20:06 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:20:06 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:20:06 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:20:06 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:20:06 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:20:06 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:20:06 INFO unit.opensearch/0.juju-log certificates:3: Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:20:06 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:20:06 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:20:06 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:20:06 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:20:06 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:20:06 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:20:06 DEBUG unit.opensearch/0.juju-log certificates:3: 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:20:06 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:20:06 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:20:06 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:20:06 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:20:06 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:20:06 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13954
unit-opensearch-0: 02:20:06 DEBUG unit.opensearch/0.juju-log certificates:3: Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23954567168, 'free_bytes': 79910735872, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23954567168, 'free_bytes': 79910735872, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23954567168, 'free_bytes': 79910735872, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23954567168, 'free_bytes': 79910735872, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23955718144, 'free_bytes': 79909584896, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23955718144, 'free_bytes': 79909584896, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 823144, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1192825, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.4gb], shard size: [208b], free after allocating shard: [74.4gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.4gb], shard size: [208b], free after allocating shard: [74.4gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.4gb], shard size: [208b], free after allocating shard: [74.4gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:20:06 INFO unit.opensearch/0.juju-log certificates:3: Shards still moving before stopping Opensearch.
unit-opensearch-0: 02:20:16 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:20:16 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:20:16 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:20:16 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:20:16 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:20:16 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:20:16 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:20:16 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:20:16 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:20:16 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:20:16 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:20:16 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:20:16 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:20:16 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:20:16 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:20:16 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:20:16 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:20:16 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:20:16 INFO unit.opensearch/0.juju-log certificates:3: Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:20:16 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:20:16 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:20:16 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:20:16 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:20:16 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:20:16 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:20:16 DEBUG unit.opensearch/0.juju-log certificates:3: 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:20:16 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:20:16 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:20:17 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:20:17 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:20:17 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:20:17 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13954
unit-opensearch-0: 02:20:17 DEBUG unit.opensearch/0.juju-log certificates:3: Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23954567168, 'free_bytes': 79910735872, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23954567168, 'free_bytes': 79910735872, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23954567168, 'free_bytes': 79910735872, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23954567168, 'free_bytes': 79910735872, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23955718144, 'free_bytes': 79909584896, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23955718144, 'free_bytes': 79909584896, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 823144, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1192825, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.4gb], shard size: [208b], free after allocating shard: [74.4gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.4gb], shard size: [208b], free after allocating shard: [74.4gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.4gb], shard size: [208b], free after allocating shard: [74.4gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:20:17 INFO unit.opensearch/0.juju-log certificates:3: Shards still moving before stopping Opensearch.
unit-opensearch-0: 02:20:27 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:20:27 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:20:27 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:20:27 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:20:27 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:20:27 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:20:27 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:20:27 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:20:27 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:20:27 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:20:27 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:20:27 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:20:27 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:20:27 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:20:27 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:20:27 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:20:27 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:20:27 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:20:27 INFO unit.opensearch/0.juju-log certificates:3: Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:20:27 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:20:27 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:20:27 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:20:27 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:20:27 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:20:27 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:20:27 DEBUG unit.opensearch/0.juju-log certificates:3: 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:20:27 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:20:27 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:20:27 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:20:27 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:20:27 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:20:27 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13954
unit-opensearch-0: 02:20:27 DEBUG unit.opensearch/0.juju-log certificates:3: Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23979970560, 'free_bytes': 79885332480, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23979970560, 'free_bytes': 79885332480, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23979970560, 'free_bytes': 79885332480, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23979970560, 'free_bytes': 79885332480, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23981084672, 'free_bytes': 79884218368, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23981084672, 'free_bytes': 79884218368, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 838945, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1208753, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.3gb], shard size: [208b], free after allocating shard: [74.3gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.3gb], shard size: [208b], free after allocating shard: [74.3gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.3gb], shard size: [208b], free after allocating shard: [74.3gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:20:27 INFO unit.opensearch/0.juju-log certificates:3: Shards still moving before stopping Opensearch.
unit-opensearch-0: 02:20:37 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:20:37 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:20:37 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:20:37 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:20:37 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:20:37 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:20:37 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:20:37 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:20:37 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:20:37 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:20:37 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:20:37 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:20:37 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:20:37 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:20:37 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:20:37 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:20:37 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:20:37 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:20:37 INFO unit.opensearch/0.juju-log certificates:3: Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:20:37 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:20:37 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:20:37 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:20:37 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:20:37 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:20:37 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:20:37 DEBUG unit.opensearch/0.juju-log certificates:3: 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:20:37 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:20:37 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:20:37 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:20:37 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:20:37 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:20:37 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13954
unit-opensearch-0: 02:20:37 DEBUG unit.opensearch/0.juju-log certificates:3: Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23979970560, 'free_bytes': 79885332480, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23979970560, 'free_bytes': 79885332480, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23979970560, 'free_bytes': 79885332480, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23979970560, 'free_bytes': 79885332480, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23981084672, 'free_bytes': 79884218368, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23981084672, 'free_bytes': 79884218368, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 838945, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1208753, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.3gb], shard size: [208b], free after allocating shard: [74.3gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.3gb], shard size: [208b], free after allocating shard: [74.3gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.3gb], shard size: [208b], free after allocating shard: [74.3gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:20:37 INFO unit.opensearch/0.juju-log certificates:3: Shards still moving before stopping Opensearch.
unit-opensearch-0: 02:20:47 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:20:47 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:20:47 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:20:47 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:20:47 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:20:47 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:20:47 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:20:47 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:20:47 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:20:47 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:20:47 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:20:47 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:20:47 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:20:47 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:20:47 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:20:47 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:20:47 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:20:47 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:20:47 INFO unit.opensearch/0.juju-log certificates:3: Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:20:47 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:20:47 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:20:47 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:20:47 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:20:47 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:20:47 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:20:47 DEBUG unit.opensearch/0.juju-log certificates:3: 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:20:47 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:20:47 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:20:47 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:20:47 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:20:47 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:20:47 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13954
unit-opensearch-0: 02:20:47 DEBUG unit.opensearch/0.juju-log certificates:3: Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23979970560, 'free_bytes': 79885332480, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23979970560, 'free_bytes': 79885332480, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23979970560, 'free_bytes': 79885332480, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23979970560, 'free_bytes': 79885332480, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23981084672, 'free_bytes': 79884218368, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23981084672, 'free_bytes': 79884218368, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 838945, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1208753, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.3gb], shard size: [208b], free after allocating shard: [74.3gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.3gb], shard size: [208b], free after allocating shard: [74.3gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.3gb], shard size: [208b], free after allocating shard: [74.3gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:20:47 INFO unit.opensearch/0.juju-log certificates:3: Shards still moving before stopping Opensearch.
unit-opensearch-0: 02:20:57 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:20:57 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:20:57 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:20:57 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:20:57 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:20:57 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:20:57 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:20:57 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:20:57 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:20:57 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:20:57 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:20:57 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:20:57 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:20:57 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:20:57 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:20:57 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:20:57 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:20:57 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:20:57 INFO unit.opensearch/0.juju-log certificates:3: Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:20:57 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:20:57 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:20:57 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:20:57 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:20:57 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:20:57 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:20:57 DEBUG unit.opensearch/0.juju-log certificates:3: 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:20:57 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:20:57 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:20:57 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:20:57 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:20:57 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:20:57 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13954
unit-opensearch-0: 02:20:57 DEBUG unit.opensearch/0.juju-log certificates:3: Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23988150272, 'free_bytes': 79877152768, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23988150272, 'free_bytes': 79877152768, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23988154368, 'free_bytes': 79877148672, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23988154368, 'free_bytes': 79877148672, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23988801536, 'free_bytes': 79876501504, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23988801536, 'free_bytes': 79876501504, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 861812, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1224555, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.3gb], shard size: [208b], free after allocating shard: [74.3gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.3gb], shard size: [208b], free after allocating shard: [74.3gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.3gb], shard size: [208b], free after allocating shard: [74.3gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:20:57 INFO unit.opensearch/0.juju-log certificates:3: Shards still moving before stopping Opensearch.
unit-opensearch-0: 02:21:07 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:21:07 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:21:07 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:21:07 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:21:08 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:21:08 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:21:08 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:21:08 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:21:08 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:21:08 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:21:08 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:21:08 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:21:08 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:21:08 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:21:08 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:21:08 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:21:08 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:21:08 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:21:08 INFO unit.opensearch/0.juju-log certificates:3: Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:21:08 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:21:08 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:21:08 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:21:08 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:21:08 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:21:08 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:21:08 DEBUG unit.opensearch/0.juju-log certificates:3: 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:21:08 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:21:08 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:21:08 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:21:08 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:21:08 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:21:08 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13954
unit-opensearch-0: 02:21:08 DEBUG unit.opensearch/0.juju-log certificates:3: Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23988150272, 'free_bytes': 79877152768, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23988150272, 'free_bytes': 79877152768, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23988154368, 'free_bytes': 79877148672, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23988154368, 'free_bytes': 79877148672, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23988801536, 'free_bytes': 79876501504, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23988801536, 'free_bytes': 79876501504, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 861812, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1224555, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.3gb], shard size: [208b], free after allocating shard: [74.3gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.3gb], shard size: [208b], free after allocating shard: [74.3gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.3gb], shard size: [208b], free after allocating shard: [74.3gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:21:08 INFO unit.opensearch/0.juju-log certificates:3: Shards still moving before stopping Opensearch.
unit-opensearch-0: 02:21:18 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:21:18 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:21:18 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:21:18 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:21:18 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:21:18 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:21:18 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:21:18 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:21:18 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:21:18 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:21:18 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:21:18 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:21:18 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:21:18 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:21:18 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:21:18 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:21:18 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:21:18 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:21:18 INFO unit.opensearch/0.juju-log certificates:3: Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:21:18 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:21:18 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:21:18 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:21:18 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:21:18 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:21:18 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:21:18 DEBUG unit.opensearch/0.juju-log certificates:3: 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:21:18 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:21:18 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:21:18 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:21:18 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:21:18 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:21:18 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13954
unit-opensearch-0: 02:21:18 DEBUG unit.opensearch/0.juju-log certificates:3: Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23988150272, 'free_bytes': 79877152768, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23988150272, 'free_bytes': 79877152768, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23988154368, 'free_bytes': 79877148672, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23988154368, 'free_bytes': 79877148672, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23988801536, 'free_bytes': 79876501504, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 23988801536, 'free_bytes': 79876501504, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 861812, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1224555, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.3gb], shard size: [208b], free after allocating shard: [74.3gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.3gb], shard size: [208b], free after allocating shard: [74.3gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.3gb], shard size: [208b], free after allocating shard: [74.3gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:21:18 INFO unit.opensearch/0.juju-log certificates:3: Shards still moving before stopping Opensearch.
unit-opensearch-0: 02:21:28 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:21:28 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:21:28 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:21:28 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:21:28 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:21:28 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:21:28 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:21:28 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:21:28 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:21:28 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:21:28 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:21:28 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:21:28 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:21:28 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:21:28 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:21:28 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:21:28 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:21:28 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:21:28 INFO unit.opensearch/0.juju-log certificates:3: Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:21:28 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:21:28 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:21:28 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:21:28 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:21:28 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:21:28 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:21:28 DEBUG unit.opensearch/0.juju-log certificates:3: 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:21:28 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:21:28 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:21:28 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:21:28 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:21:28 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:21:28 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13954
unit-opensearch-0: 02:21:28 DEBUG unit.opensearch/0.juju-log certificates:3: Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24004288512, 'free_bytes': 79861014528, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24004288512, 'free_bytes': 79861014528, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24004288512, 'free_bytes': 79861014528, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24004288512, 'free_bytes': 79861014528, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24013676544, 'free_bytes': 79851626496, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24013676544, 'free_bytes': 79851626496, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 877521, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1247478, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.3gb], shard size: [208b], free after allocating shard: [74.3gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.3gb], shard size: [208b], free after allocating shard: [74.3gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.3gb], shard size: [208b], free after allocating shard: [74.3gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:21:28 INFO unit.opensearch/0.juju-log certificates:3: Shards still moving before stopping Opensearch.
unit-opensearch-0: 02:21:38 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:21:38 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:21:38 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:21:38 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:21:38 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:21:38 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:21:38 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:21:38 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:21:38 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:21:38 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:21:38 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:21:38 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:21:38 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:21:38 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:21:38 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:21:38 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:21:38 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:21:38 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:21:38 INFO unit.opensearch/0.juju-log certificates:3: Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:21:38 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:21:38 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:21:38 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:21:38 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:21:38 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:21:38 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:21:38 DEBUG unit.opensearch/0.juju-log certificates:3: 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:21:38 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:21:38 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:21:38 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:21:38 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:21:38 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:21:38 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13954
unit-opensearch-0: 02:21:38 DEBUG unit.opensearch/0.juju-log certificates:3: Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24004288512, 'free_bytes': 79861014528, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24004288512, 'free_bytes': 79861014528, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24004288512, 'free_bytes': 79861014528, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24004288512, 'free_bytes': 79861014528, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24013676544, 'free_bytes': 79851626496, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24013676544, 'free_bytes': 79851626496, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 877521, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1247478, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.3gb], shard size: [208b], free after allocating shard: [74.3gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.3gb], shard size: [208b], free after allocating shard: [74.3gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.3gb], shard size: [208b], free after allocating shard: [74.3gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:21:38 INFO unit.opensearch/0.juju-log certificates:3: Shards still moving before stopping Opensearch.
unit-opensearch-0: 02:21:48 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:21:48 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:21:48 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:21:48 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:21:48 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:21:48 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:21:48 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:21:48 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:21:48 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:21:48 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:21:48 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:21:48 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:21:48 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:21:48 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:21:48 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:21:48 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:21:48 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:21:48 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:21:48 INFO unit.opensearch/0.juju-log certificates:3: Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:21:49 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:21:49 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:21:49 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:21:49 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:21:49 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:21:49 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:21:49 DEBUG unit.opensearch/0.juju-log certificates:3: 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:21:49 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:21:49 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:21:49 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:21:49 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:21:49 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:21:49 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13954
unit-opensearch-0: 02:21:49 DEBUG unit.opensearch/0.juju-log certificates:3: Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24004288512, 'free_bytes': 79861014528, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24004288512, 'free_bytes': 79861014528, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24004288512, 'free_bytes': 79861014528, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24004288512, 'free_bytes': 79861014528, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24013676544, 'free_bytes': 79851626496, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24013676544, 'free_bytes': 79851626496, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 877521, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1247478, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.3gb], shard size: [208b], free after allocating shard: [74.3gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.3gb], shard size: [208b], free after allocating shard: [74.3gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.3gb], shard size: [208b], free after allocating shard: [74.3gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:21:49 INFO unit.opensearch/0.juju-log certificates:3: Shards still moving before stopping Opensearch.
unit-opensearch-0: 02:21:59 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:21:59 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:21:59 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:21:59 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:21:59 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:21:59 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:21:59 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:21:59 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:21:59 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:21:59 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:21:59 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:21:59 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:21:59 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:21:59 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:21:59 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:21:59 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:21:59 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:21:59 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:21:59 INFO unit.opensearch/0.juju-log certificates:3: Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:21:59 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:21:59 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:21:59 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:21:59 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:21:59 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:21:59 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:21:59 DEBUG unit.opensearch/0.juju-log certificates:3: 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:21:59 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:21:59 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:21:59 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:21:59 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:21:59 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:21:59 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13954
unit-opensearch-0: 02:21:59 DEBUG unit.opensearch/0.juju-log certificates:3: Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24020582400, 'free_bytes': 79844720640, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24020582400, 'free_bytes': 79844720640, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24020717568, 'free_bytes': 79844585472, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24020717568, 'free_bytes': 79844585472, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24020774912, 'free_bytes': 79844528128, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24020774912, 'free_bytes': 79844528128, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 892384, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1263308, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.3gb], shard size: [208b], free after allocating shard: [74.3gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.3gb], shard size: [208b], free after allocating shard: [74.3gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.3gb], shard size: [208b], free after allocating shard: [74.3gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:21:59 INFO unit.opensearch/0.juju-log certificates:3: Shards still moving before stopping Opensearch.
unit-opensearch-0: 02:22:09 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:22:09 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:22:09 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:22:09 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:22:09 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:22:09 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:22:09 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:22:09 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:22:09 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:22:09 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:22:09 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:22:09 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:22:09 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:22:09 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:22:09 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:22:09 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:22:09 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:22:09 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:22:09 INFO unit.opensearch/0.juju-log certificates:3: Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:22:09 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:22:09 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:22:09 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:22:09 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:22:09 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:22:09 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:22:09 DEBUG unit.opensearch/0.juju-log certificates:3: 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:22:09 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:22:09 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:22:09 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:22:09 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:22:09 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:22:09 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13954
unit-opensearch-0: 02:22:09 DEBUG unit.opensearch/0.juju-log certificates:3: Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24020582400, 'free_bytes': 79844720640, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24020582400, 'free_bytes': 79844720640, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24020717568, 'free_bytes': 79844585472, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24020717568, 'free_bytes': 79844585472, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24020774912, 'free_bytes': 79844528128, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24020774912, 'free_bytes': 79844528128, 'free_disk_percent': 76.9, 'used_disk_percent': 23.1}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 892384, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1263308, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.3gb], shard size: [208b], free after allocating shard: [74.3gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.3gb], shard size: [208b], free after allocating shard: [74.3gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.3gb], shard size: [208b], free after allocating shard: [74.3gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:22:09 INFO unit.opensearch/0.juju-log certificates:3: Shards still moving before stopping Opensearch.
unit-opensearch-0: 02:22:19 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:22:19 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:22:19 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:22:19 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:22:19 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:22:19 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:22:19 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:22:19 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:22:19 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:22:19 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:22:19 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:22:19 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:22:19 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:22:19 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:22:19 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:22:19 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:22:19 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:22:19 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:22:19 INFO unit.opensearch/0.juju-log certificates:3: Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:22:19 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:22:19 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:22:19 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:22:19 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:22:19 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:22:19 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:22:19 DEBUG unit.opensearch/0.juju-log certificates:3: 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:22:19 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:22:19 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:22:19 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:22:19 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:22:19 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:22:19 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13954
unit-opensearch-0: 02:22:19 DEBUG unit.opensearch/0.juju-log certificates:3: Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24071196672, 'free_bytes': 79794106368, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24071196672, 'free_bytes': 79794106368, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24071245824, 'free_bytes': 79794057216, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24071245824, 'free_bytes': 79794057216, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24071245824, 'free_bytes': 79794057216, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24071245824, 'free_bytes': 79794057216, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 915603, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1286092, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.3gb], shard size: [208b], free after allocating shard: [74.3gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.3gb], shard size: [208b], free after allocating shard: [74.3gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.3gb], shard size: [208b], free after allocating shard: [74.3gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:22:19 INFO unit.opensearch/0.juju-log certificates:3: Shards still moving before stopping Opensearch.
unit-self-signed-certificates-0: 02:22:23 DEBUG unit.self-signed-certificates/0.juju-log ops 2.14.0 up and running.
unit-self-signed-certificates-0: 02:22:23 DEBUG unit.self-signed-certificates/0.juju-log no relation on 'tracing': tracing not ready
unit-self-signed-certificates-0: 02:22:23 DEBUG unit.self-signed-certificates/0.juju-log Emitting Juju event update_status.
unit-self-signed-certificates-0: 02:22:24 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-1: 02:22:27 DEBUG unit.opensearch/1.juju-log ops 2.15.0 up and running.
unit-opensearch-1: 02:22:27 DEBUG unit.opensearch/1.juju-log Emitting Juju event update_status.
unit-opensearch-1: 02:22:27 DEBUG unit.opensearch/1.juju-log Executing command: sysctl -n vm.max_map_count
unit-opensearch-1: 02:22:27 DEBUG unit.opensearch/1.juju-log sysctl -n vm.max_map_count:
262144

unit-opensearch-1: 02:22:27 DEBUG unit.opensearch/1.juju-log Executing command: sysctl -n vm.swappiness
unit-opensearch-1: 02:22:27 DEBUG unit.opensearch/1.juju-log sysctl -n vm.swappiness:
0

unit-opensearch-1: 02:22:27 DEBUG unit.opensearch/1.juju-log Executing command: sysctl -n net.ipv4.tcp_retries2
unit-opensearch-1: 02:22:27 DEBUG unit.opensearch/1.juju-log sysctl -n net.ipv4.tcp_retries2:
5

unit-opensearch-1: 02:22:27 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:22:27 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-1: 02:22:27 DEBUG unit.opensearch/1.juju-log https://10.94.62.252:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:22:27 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:22:27 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-1: 02:22:27 DEBUG unit.opensearch/1.juju-log https://10.94.62.252:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:22:27 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:22:27 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-1: 02:22:27 DEBUG unit.opensearch/1.juju-log https://10.94.62.31:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:22:27 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:22:27 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-1: 02:22:27 DEBUG unit.opensearch/1.juju-log https://10.94.62.31:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:22:27 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:22:27 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-1: 02:22:27 DEBUG unit.opensearch/1.juju-log Error when checking if host 10.94.62.215 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.215', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-1: 02:22:27 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:22:27 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-1: 02:22:27 DEBUG unit.opensearch/1.juju-log Error when checking if host 10.94.62.215 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.215', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-1: 02:22:27 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:22:27 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-1: 02:22:27 DEBUG unit.opensearch/1.juju-log https://10.94.62.252:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:22:27 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:22:27 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-1: 02:22:27 DEBUG unit.opensearch/1.juju-log https://10.94.62.31:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:22:27 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:22:27 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-1: 02:22:27 DEBUG unit.opensearch/1.juju-log https://10.94.62.31:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:22:27 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:22:27 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-1: 02:22:28 DEBUG unit.opensearch/1.juju-log https://10.94.62.252:9200 "GET /_nodes HTTP/11" 200 53919
unit-opensearch-1: 02:22:28 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:22:28 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-1: 02:22:28 DEBUG unit.opensearch/1.juju-log Error when checking if host 10.94.62.215 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.215', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-1: 02:22:28 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:22:28 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-1: 02:22:28 DEBUG unit.opensearch/1.juju-log Error when checking if host 10.94.62.215 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.215', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-1: 02:22:28 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:22:28 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-1: 02:22:28 DEBUG unit.opensearch/1.juju-log https://10.94.62.31:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:22:28 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:22:28 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-1: 02:22:28 DEBUG unit.opensearch/1.juju-log https://10.94.62.31:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:22:28 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:22:28 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-1: 02:22:28 DEBUG unit.opensearch/1.juju-log https://10.94.62.252:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:22:28 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:22:28 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-1: 02:22:28 DEBUG unit.opensearch/1.juju-log https://10.94.62.31:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:22:28 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:22:28 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-1: 02:22:28 DEBUG unit.opensearch/1.juju-log https://10.94.62.31:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:22:28 DEBUG unit.opensearch/1.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:22:28 DEBUG unit.opensearch/1.juju-log Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-1: 02:22:28 DEBUG unit.opensearch/1.juju-log https://10.94.62.252:9200 "GET /_cluster/state/metadata/voting_config_exclusions HTTP/11" 200 454
unit-opensearch-1: 02:22:28 DEBUG unit.opensearch/1.juju-log Current voting exclusions: {'opensearch-0.1ce'}
unit-opensearch-1: 02:22:28 DEBUG unit.opensearch/1.juju-log No voting exclusions to delete, current set is {'opensearch-0.1ce'}
unit-opensearch-1: 02:22:28 DEBUG unit.opensearch/1.juju-log self._app_workload_container_version='58' self._unit_workload_container_versions={'opensearch/2': '58', 'opensearch/1': '58', 'opensearch/0': '58'}
unit-opensearch-1: 02:22:28 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-0: 02:22:29 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:22:29 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:22:29 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:22:29 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:22:29 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:22:29 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:22:29 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:22:29 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:22:29 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:22:29 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:22:29 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:22:29 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:22:29 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:22:29 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:22:29 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:22:29 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:22:30 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:22:30 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:22:30 INFO unit.opensearch/0.juju-log certificates:3: Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:22:30 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:22:30 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:22:30 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:22:30 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:22:30 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:22:30 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:22:30 DEBUG unit.opensearch/0.juju-log certificates:3: 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:22:30 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:22:30 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:22:30 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:22:30 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:22:30 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:22:30 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13954
unit-opensearch-0: 02:22:30 DEBUG unit.opensearch/0.juju-log certificates:3: Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24071196672, 'free_bytes': 79794106368, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24071196672, 'free_bytes': 79794106368, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24071245824, 'free_bytes': 79794057216, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24071245824, 'free_bytes': 79794057216, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24071245824, 'free_bytes': 79794057216, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24071245824, 'free_bytes': 79794057216, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 915603, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1286092, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.3gb], shard size: [208b], free after allocating shard: [74.3gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.3gb], shard size: [208b], free after allocating shard: [74.3gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.3gb], shard size: [208b], free after allocating shard: [74.3gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:22:30 INFO unit.opensearch/0.juju-log certificates:3: Shards still moving before stopping Opensearch.
unit-opensearch-0: 02:22:40 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:22:40 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:22:40 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:22:40 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:22:40 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:22:40 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:22:40 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:22:40 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:22:40 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:22:40 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:22:40 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:22:40 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:22:40 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:22:40 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:22:40 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:22:40 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:22:40 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:22:40 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:22:40 INFO unit.opensearch/0.juju-log certificates:3: Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:22:40 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:22:40 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:22:40 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:22:40 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:22:40 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:22:40 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:22:40 DEBUG unit.opensearch/0.juju-log certificates:3: 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:22:40 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:22:40 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:22:40 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:22:40 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:22:40 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:22:40 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13954
unit-opensearch-0: 02:22:40 DEBUG unit.opensearch/0.juju-log certificates:3: Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24071196672, 'free_bytes': 79794106368, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24071196672, 'free_bytes': 79794106368, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24071245824, 'free_bytes': 79794057216, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24071245824, 'free_bytes': 79794057216, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24071245824, 'free_bytes': 79794057216, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24071245824, 'free_bytes': 79794057216, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 915603, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1286092, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.3gb], shard size: [208b], free after allocating shard: [74.3gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.3gb], shard size: [208b], free after allocating shard: [74.3gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.3gb], shard size: [208b], free after allocating shard: [74.3gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:22:40 INFO unit.opensearch/0.juju-log certificates:3: Shards still moving before stopping Opensearch.
unit-opensearch-0: 02:22:50 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:22:50 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:22:50 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:22:50 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:22:50 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:22:50 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:22:50 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:22:50 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:22:50 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:22:50 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:22:50 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:22:50 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:22:50 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:22:50 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:22:50 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:22:50 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:22:50 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:22:50 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:22:50 INFO unit.opensearch/0.juju-log certificates:3: Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:22:50 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:22:50 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:22:50 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:22:50 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:22:50 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:22:50 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:22:50 DEBUG unit.opensearch/0.juju-log certificates:3: 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:22:50 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:22:50 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:22:50 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:22:50 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:22:50 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:22:50 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13954
unit-opensearch-0: 02:22:50 DEBUG unit.opensearch/0.juju-log certificates:3: Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24080056320, 'free_bytes': 79785246720, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24080056320, 'free_bytes': 79785246720, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24080056320, 'free_bytes': 79785246720, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24080056320, 'free_bytes': 79785246720, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24080056320, 'free_bytes': 79785246720, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24080056320, 'free_bytes': 79785246720, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 923175, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1301417, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.3gb], shard size: [208b], free after allocating shard: [74.3gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.3gb], shard size: [208b], free after allocating shard: [74.3gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.3gb], shard size: [208b], free after allocating shard: [74.3gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:22:50 INFO unit.opensearch/0.juju-log certificates:3: Shards still moving before stopping Opensearch.
unit-opensearch-0: 02:23:00 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:23:00 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:23:00 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:23:00 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:23:00 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:23:00 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:23:00 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:23:00 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:23:00 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:23:00 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:23:00 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:23:00 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:23:00 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:23:00 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:23:00 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:23:00 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:23:00 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:23:00 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:23:00 INFO unit.opensearch/0.juju-log certificates:3: Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:23:00 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:23:00 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:23:00 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:23:00 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:23:00 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:23:00 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:23:00 DEBUG unit.opensearch/0.juju-log certificates:3: 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:23:00 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:23:00 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:23:00 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:23:00 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:23:00 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:23:00 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13954
unit-opensearch-0: 02:23:00 DEBUG unit.opensearch/0.juju-log certificates:3: Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24080056320, 'free_bytes': 79785246720, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24080056320, 'free_bytes': 79785246720, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24080056320, 'free_bytes': 79785246720, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24080056320, 'free_bytes': 79785246720, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24080056320, 'free_bytes': 79785246720, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24080056320, 'free_bytes': 79785246720, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 923175, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1301417, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.3gb], shard size: [208b], free after allocating shard: [74.3gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.3gb], shard size: [208b], free after allocating shard: [74.3gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.3gb], shard size: [208b], free after allocating shard: [74.3gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:23:00 INFO unit.opensearch/0.juju-log certificates:3: Shards still moving before stopping Opensearch.
unit-opensearch-0: 02:23:10 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:23:10 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:23:10 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:23:10 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:23:10 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:23:10 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:23:10 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:23:10 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:23:10 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:23:10 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:23:10 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:23:10 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:23:10 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:23:10 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:23:10 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:23:10 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:23:10 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:23:10 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:23:10 INFO unit.opensearch/0.juju-log certificates:3: Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:23:11 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:23:11 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:23:11 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:23:11 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:23:11 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:23:11 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:23:11 DEBUG unit.opensearch/0.juju-log certificates:3: 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:23:11 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:23:11 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:23:11 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:23:11 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:23:11 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:23:11 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13954
unit-opensearch-0: 02:23:11 DEBUG unit.opensearch/0.juju-log certificates:3: Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24080056320, 'free_bytes': 79785246720, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24080056320, 'free_bytes': 79785246720, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24080056320, 'free_bytes': 79785246720, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24080056320, 'free_bytes': 79785246720, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24080056320, 'free_bytes': 79785246720, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24080056320, 'free_bytes': 79785246720, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 923175, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1301417, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.3gb], shard size: [208b], free after allocating shard: [74.3gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.3gb], shard size: [208b], free after allocating shard: [74.3gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.3gb], shard size: [208b], free after allocating shard: [74.3gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:23:11 INFO unit.opensearch/0.juju-log certificates:3: Shards still moving before stopping Opensearch.
unit-opensearch-0: 02:23:21 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:23:21 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:23:21 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:23:21 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:23:21 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:23:21 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:23:21 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:23:21 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:23:21 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:23:21 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:23:21 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:23:21 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:23:21 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:23:21 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:23:21 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:23:21 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:23:21 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:23:21 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:23:21 INFO unit.opensearch/0.juju-log certificates:3: Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:23:21 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:23:21 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:23:21 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:23:21 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:23:21 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:23:21 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:23:21 DEBUG unit.opensearch/0.juju-log certificates:3: 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:23:21 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:23:21 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:23:21 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:23:21 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:23:21 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:23:21 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13954
unit-opensearch-0: 02:23:21 DEBUG unit.opensearch/0.juju-log certificates:3: Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24096612352, 'free_bytes': 79768690688, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24096612352, 'free_bytes': 79768690688, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24096612352, 'free_bytes': 79768690688, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24096612352, 'free_bytes': 79768690688, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24096612352, 'free_bytes': 79768690688, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24096612352, 'free_bytes': 79768690688, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 938224, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1309573, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.2gb], shard size: [208b], free after allocating shard: [74.2gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.2gb], shard size: [208b], free after allocating shard: [74.2gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.2gb], shard size: [208b], free after allocating shard: [74.2gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:23:21 INFO unit.opensearch/0.juju-log certificates:3: Shards still moving before stopping Opensearch.
unit-opensearch-2: 02:23:25 DEBUG unit.opensearch/2.juju-log ops 2.15.0 up and running.
unit-opensearch-2: 02:23:25 DEBUG unit.opensearch/2.juju-log Emitting Juju event update_status.
unit-opensearch-2: 02:23:25 DEBUG unit.opensearch/2.juju-log Executing command: sysctl -n vm.max_map_count
unit-opensearch-2: 02:23:25 DEBUG unit.opensearch/2.juju-log sysctl -n vm.max_map_count:
262144

unit-opensearch-2: 02:23:25 DEBUG unit.opensearch/2.juju-log Executing command: sysctl -n vm.swappiness
unit-opensearch-2: 02:23:25 DEBUG unit.opensearch/2.juju-log sysctl -n vm.swappiness:
0

unit-opensearch-2: 02:23:25 DEBUG unit.opensearch/2.juju-log Executing command: sysctl -n net.ipv4.tcp_retries2
unit-opensearch-2: 02:23:25 DEBUG unit.opensearch/2.juju-log sysctl -n net.ipv4.tcp_retries2:
5

unit-opensearch-2: 02:23:25 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:23:25 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-2: 02:23:25 DEBUG unit.opensearch/2.juju-log https://10.94.62.31:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:23:25 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:23:25 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-2: 02:23:25 DEBUG unit.opensearch/2.juju-log https://10.94.62.31:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:23:25 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:23:25 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-2: 02:23:25 DEBUG unit.opensearch/2.juju-log Error when checking if host 10.94.62.215 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.215', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-2: 02:23:25 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:23:25 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-2: 02:23:25 DEBUG unit.opensearch/2.juju-log https://10.94.62.252:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:23:25 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:23:25 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-2: 02:23:25 DEBUG unit.opensearch/2.juju-log https://10.94.62.252:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:23:25 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:23:25 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-2: 02:23:25 DEBUG unit.opensearch/2.juju-log Error when checking if host 10.94.62.215 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.215', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-2: 02:23:25 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:23:25 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-2: 02:23:25 DEBUG unit.opensearch/2.juju-log https://10.94.62.31:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:23:25 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:23:25 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-2: 02:23:25 DEBUG unit.opensearch/2.juju-log https://10.94.62.252:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:23:25 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:23:25 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-2: 02:23:25 DEBUG unit.opensearch/2.juju-log https://10.94.62.252:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:23:25 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:23:25 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-2: 02:23:25 DEBUG unit.opensearch/2.juju-log https://10.94.62.252:9200 "GET /_nodes HTTP/11" 200 53919
unit-opensearch-2: 02:23:25 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:23:25 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-2: 02:23:25 DEBUG unit.opensearch/2.juju-log https://10.94.62.252:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:23:25 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:23:25 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-2: 02:23:25 DEBUG unit.opensearch/2.juju-log Error when checking if host 10.94.62.215 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.215', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-2: 02:23:25 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:23:25 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-2: 02:23:25 DEBUG unit.opensearch/2.juju-log https://10.94.62.252:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:23:25 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:23:25 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-2: 02:23:25 DEBUG unit.opensearch/2.juju-log Error when checking if host 10.94.62.215 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.215', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-2: 02:23:25 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:23:25 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-2: 02:23:25 DEBUG unit.opensearch/2.juju-log https://10.94.62.31:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:23:25 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:23:25 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-2: 02:23:25 DEBUG unit.opensearch/2.juju-log https://10.94.62.252:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:23:25 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:23:25 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-2: 02:23:25 DEBUG unit.opensearch/2.juju-log https://10.94.62.252:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:23:25 DEBUG unit.opensearch/2.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:23:25 DEBUG unit.opensearch/2.juju-log Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-2: 02:23:25 DEBUG unit.opensearch/2.juju-log https://10.94.62.31:9200 "GET /_cluster/state/metadata/voting_config_exclusions HTTP/11" 200 454
unit-opensearch-2: 02:23:25 DEBUG unit.opensearch/2.juju-log Current voting exclusions: {'opensearch-0.1ce'}
unit-opensearch-2: 02:23:25 DEBUG unit.opensearch/2.juju-log No voting exclusions to delete, current set is {'opensearch-0.1ce'}
unit-opensearch-2: 02:23:25 DEBUG unit.opensearch/2.juju-log self._app_workload_container_version='58' self._unit_workload_container_versions={'opensearch/2': '58', 'opensearch/1': '58', 'opensearch/0': '58'}
unit-opensearch-2: 02:23:26 INFO juju.worker.uniter.operation ran "update-status" hook (via hook dispatching script: dispatch)
unit-opensearch-0: 02:23:31 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:23:31 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:23:31 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:23:31 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:23:31 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:23:31 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:23:31 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:23:31 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:23:31 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:23:31 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:23:31 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:23:31 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:23:31 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:23:31 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:23:31 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:23:31 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:23:31 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:23:31 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:23:31 INFO unit.opensearch/0.juju-log certificates:3: Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:23:31 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:23:31 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:23:31 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:23:31 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:23:31 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:23:31 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:23:31 DEBUG unit.opensearch/0.juju-log certificates:3: 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:23:31 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:23:31 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:23:31 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:23:31 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:23:31 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:23:31 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13954
unit-opensearch-0: 02:23:31 DEBUG unit.opensearch/0.juju-log certificates:3: Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24096612352, 'free_bytes': 79768690688, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24096612352, 'free_bytes': 79768690688, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24096612352, 'free_bytes': 79768690688, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24096612352, 'free_bytes': 79768690688, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24096612352, 'free_bytes': 79768690688, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24096612352, 'free_bytes': 79768690688, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 938224, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1309573, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.2gb], shard size: [208b], free after allocating shard: [74.2gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.2gb], shard size: [208b], free after allocating shard: [74.2gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.2gb], shard size: [208b], free after allocating shard: [74.2gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:23:31 INFO unit.opensearch/0.juju-log certificates:3: Shards still moving before stopping Opensearch.
unit-opensearch-0: 02:23:41 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:23:41 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:23:41 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:23:41 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:23:41 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:23:41 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:23:41 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:23:41 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:23:41 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:23:41 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:23:41 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:23:41 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:23:41 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:23:41 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:23:41 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:23:41 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:23:41 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:23:41 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:23:41 INFO unit.opensearch/0.juju-log certificates:3: Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:23:41 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:23:41 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:23:41 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:23:41 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:23:41 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:23:41 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:23:41 DEBUG unit.opensearch/0.juju-log certificates:3: 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:23:41 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:23:41 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:23:41 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:23:41 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:23:41 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:23:41 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13954
unit-opensearch-0: 02:23:41 DEBUG unit.opensearch/0.juju-log certificates:3: Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24096612352, 'free_bytes': 79768690688, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24096612352, 'free_bytes': 79768690688, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24096612352, 'free_bytes': 79768690688, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24096612352, 'free_bytes': 79768690688, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24096612352, 'free_bytes': 79768690688, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24096612352, 'free_bytes': 79768690688, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 938224, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1309573, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.2gb], shard size: [208b], free after allocating shard: [74.2gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.2gb], shard size: [208b], free after allocating shard: [74.2gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.2gb], shard size: [208b], free after allocating shard: [74.2gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:23:41 INFO unit.opensearch/0.juju-log certificates:3: Shards still moving before stopping Opensearch.
unit-opensearch-0: 02:23:51 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:23:51 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:23:51 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:23:51 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:23:51 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:23:51 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:23:51 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:23:51 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:23:51 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:23:51 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:23:51 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:23:51 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:23:51 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:23:51 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:23:51 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:23:51 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:23:51 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:23:51 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:23:51 INFO unit.opensearch/0.juju-log certificates:3: Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:23:51 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:23:52 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:23:52 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:23:52 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:23:52 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:23:52 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:23:52 DEBUG unit.opensearch/0.juju-log certificates:3: 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:23:52 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:23:52 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:23:52 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:23:52 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:23:52 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:23:52 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13954
unit-opensearch-0: 02:23:52 DEBUG unit.opensearch/0.juju-log certificates:3: Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24112930816, 'free_bytes': 79752372224, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24112930816, 'free_bytes': 79752372224, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24112930816, 'free_bytes': 79752372224, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24112930816, 'free_bytes': 79752372224, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24112930816, 'free_bytes': 79752372224, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24112930816, 'free_bytes': 79752372224, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 961618, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1324712, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.2gb], shard size: [208b], free after allocating shard: [74.2gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.2gb], shard size: [208b], free after allocating shard: [74.2gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.2gb], shard size: [208b], free after allocating shard: [74.2gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:23:52 INFO unit.opensearch/0.juju-log certificates:3: Shards still moving before stopping Opensearch.
unit-opensearch-0: 02:24:02 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:24:02 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:24:02 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:24:02 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:24:02 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:24:02 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:24:02 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:24:02 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:24:02 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:24:02 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:24:02 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:24:02 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:24:02 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:24:02 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:24:02 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:24:02 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:24:02 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:24:02 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:24:02 INFO unit.opensearch/0.juju-log certificates:3: Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:24:02 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:24:02 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:24:02 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:24:02 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:24:02 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:24:02 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:24:02 DEBUG unit.opensearch/0.juju-log certificates:3: 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:24:02 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:24:02 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:24:02 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:24:02 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:24:02 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:24:02 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13954
unit-opensearch-0: 02:24:02 DEBUG unit.opensearch/0.juju-log certificates:3: Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24112930816, 'free_bytes': 79752372224, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24112930816, 'free_bytes': 79752372224, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24112930816, 'free_bytes': 79752372224, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24112930816, 'free_bytes': 79752372224, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24112930816, 'free_bytes': 79752372224, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24112930816, 'free_bytes': 79752372224, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 961618, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1324712, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.2gb], shard size: [208b], free after allocating shard: [74.2gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.2gb], shard size: [208b], free after allocating shard: [74.2gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.2gb], shard size: [208b], free after allocating shard: [74.2gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:24:02 INFO unit.opensearch/0.juju-log certificates:3: Shards still moving before stopping Opensearch.
unit-opensearch-0: 02:24:12 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:24:12 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:24:12 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:24:12 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:24:12 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:24:12 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:24:12 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:24:12 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:24:12 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:24:12 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:24:12 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:24:12 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:24:12 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:24:12 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:24:12 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:24:12 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:24:12 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:24:12 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:24:12 INFO unit.opensearch/0.juju-log certificates:3: Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:24:12 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:24:12 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:24:12 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:24:12 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:24:12 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:24:12 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:24:12 DEBUG unit.opensearch/0.juju-log certificates:3: 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:24:12 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:24:12 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:24:12 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:24:12 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:24:12 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:24:12 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13954
unit-opensearch-0: 02:24:12 DEBUG unit.opensearch/0.juju-log certificates:3: Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24112930816, 'free_bytes': 79752372224, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24112930816, 'free_bytes': 79752372224, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24112930816, 'free_bytes': 79752372224, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24112930816, 'free_bytes': 79752372224, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24112930816, 'free_bytes': 79752372224, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24112930816, 'free_bytes': 79752372224, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 961618, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1324712, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.2gb], shard size: [208b], free after allocating shard: [74.2gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.2gb], shard size: [208b], free after allocating shard: [74.2gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.2gb], shard size: [208b], free after allocating shard: [74.2gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:24:12 INFO unit.opensearch/0.juju-log certificates:3: Shards still moving before stopping Opensearch.
unit-opensearch-0: 02:24:22 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:24:22 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:24:22 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:24:22 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:24:22 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:24:22 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:24:22 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:24:22 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:24:22 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:24:22 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:24:22 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:24:22 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:24:22 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:24:22 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:24:22 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:24:22 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:24:22 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:24:22 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:24:22 INFO unit.opensearch/0.juju-log certificates:3: Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:24:22 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:24:22 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:24:22 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:24:22 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:24:22 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:24:22 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:24:22 DEBUG unit.opensearch/0.juju-log certificates:3: 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:24:22 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:24:22 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:24:22 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:24:22 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:24:22 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:24:22 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13954
unit-opensearch-0: 02:24:22 DEBUG unit.opensearch/0.juju-log certificates:3: Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24130162688, 'free_bytes': 79735140352, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24130162688, 'free_bytes': 79735140352, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24130162688, 'free_bytes': 79735140352, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24130162688, 'free_bytes': 79735140352, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24130162688, 'free_bytes': 79735140352, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24130162688, 'free_bytes': 79735140352, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 976539, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1348350, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.2gb], shard size: [208b], free after allocating shard: [74.2gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.2gb], shard size: [208b], free after allocating shard: [74.2gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.2gb], shard size: [208b], free after allocating shard: [74.2gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:24:22 INFO unit.opensearch/0.juju-log certificates:3: Shards still moving before stopping Opensearch.
unit-opensearch-0: 02:24:32 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:24:32 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:24:32 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:24:32 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:24:32 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:24:32 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:24:32 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:24:32 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:24:32 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:24:32 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:24:32 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:24:32 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:24:32 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:24:32 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:24:32 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:24:32 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:24:32 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:24:32 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:24:32 INFO unit.opensearch/0.juju-log certificates:3: Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:24:32 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:24:32 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:24:32 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:24:32 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:24:32 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:24:32 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:24:32 DEBUG unit.opensearch/0.juju-log certificates:3: 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:24:32 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:24:33 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:24:33 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:24:33 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:24:33 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:24:33 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13954
unit-opensearch-0: 02:24:33 DEBUG unit.opensearch/0.juju-log certificates:3: Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24130162688, 'free_bytes': 79735140352, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24130162688, 'free_bytes': 79735140352, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24130162688, 'free_bytes': 79735140352, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24130162688, 'free_bytes': 79735140352, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24130162688, 'free_bytes': 79735140352, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24130162688, 'free_bytes': 79735140352, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 976539, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1348350, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.2gb], shard size: [208b], free after allocating shard: [74.2gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.2gb], shard size: [208b], free after allocating shard: [74.2gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.2gb], shard size: [208b], free after allocating shard: [74.2gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:24:33 INFO unit.opensearch/0.juju-log certificates:3: Shards still moving before stopping Opensearch.
unit-opensearch-0: 02:24:43 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:24:43 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:24:43 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:24:43 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:24:43 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:24:43 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:24:43 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:24:43 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:24:43 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:24:43 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:24:43 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:24:43 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:24:43 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:24:43 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:24:43 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:24:43 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:24:43 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:24:43 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:24:43 INFO unit.opensearch/0.juju-log certificates:3: Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:24:43 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:24:43 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:24:43 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:24:43 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:24:43 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:24:43 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:24:43 DEBUG unit.opensearch/0.juju-log certificates:3: 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:24:43 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:24:43 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:24:43 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:24:43 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:24:43 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:24:43 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13954
unit-opensearch-0: 02:24:43 DEBUG unit.opensearch/0.juju-log certificates:3: Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24130162688, 'free_bytes': 79735140352, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24130162688, 'free_bytes': 79735140352, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24130162688, 'free_bytes': 79735140352, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24130162688, 'free_bytes': 79735140352, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24130162688, 'free_bytes': 79735140352, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24130162688, 'free_bytes': 79735140352, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 976539, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1348350, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.2gb], shard size: [208b], free after allocating shard: [74.2gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.2gb], shard size: [208b], free after allocating shard: [74.2gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.2gb], shard size: [208b], free after allocating shard: [74.2gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:24:43 INFO unit.opensearch/0.juju-log certificates:3: Shards still moving before stopping Opensearch.
unit-opensearch-0: 02:24:53 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:24:53 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:24:53 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:24:53 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:24:53 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:24:53 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:24:53 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:24:53 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:24:53 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:24:53 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:24:53 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:24:53 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:24:53 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:24:53 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:24:53 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:24:53 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:24:53 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:24:53 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:24:53 INFO unit.opensearch/0.juju-log certificates:3: Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:24:53 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:24:53 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:24:53 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:24:53 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:24:53 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:24:53 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:24:53 DEBUG unit.opensearch/0.juju-log certificates:3: 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:24:53 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:24:53 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:24:53 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:24:53 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:24:53 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:24:53 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13954
unit-opensearch-0: 02:24:53 DEBUG unit.opensearch/0.juju-log certificates:3: Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24147021824, 'free_bytes': 79718281216, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24147021824, 'free_bytes': 79718281216, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24147021824, 'free_bytes': 79718281216, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24147021824, 'free_bytes': 79718281216, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24147021824, 'free_bytes': 79718281216, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24147021824, 'free_bytes': 79718281216, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 999790, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1364104, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.2gb], shard size: [208b], free after allocating shard: [74.2gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.2gb], shard size: [208b], free after allocating shard: [74.2gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.2gb], shard size: [208b], free after allocating shard: [74.2gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:24:53 INFO unit.opensearch/0.juju-log certificates:3: Shards still moving before stopping Opensearch.
unit-opensearch-0: 02:25:03 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:25:03 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:25:03 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:25:03 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:25:03 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:25:03 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:25:03 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:25:03 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:25:03 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:25:03 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:25:03 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:25:03 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:25:03 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:25:03 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:25:03 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:25:03 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:25:03 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:25:03 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:25:03 INFO unit.opensearch/0.juju-log certificates:3: Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:25:03 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:25:03 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:25:03 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:25:03 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:25:03 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:25:03 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:25:03 DEBUG unit.opensearch/0.juju-log certificates:3: 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:25:03 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:25:03 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:25:03 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:25:03 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:25:03 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:25:03 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13954
unit-opensearch-0: 02:25:03 DEBUG unit.opensearch/0.juju-log certificates:3: Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24147021824, 'free_bytes': 79718281216, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24147021824, 'free_bytes': 79718281216, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24147021824, 'free_bytes': 79718281216, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24147021824, 'free_bytes': 79718281216, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24147021824, 'free_bytes': 79718281216, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24147021824, 'free_bytes': 79718281216, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 999790, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1364104, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.2gb], shard size: [208b], free after allocating shard: [74.2gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.2gb], shard size: [208b], free after allocating shard: [74.2gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.2gb], shard size: [208b], free after allocating shard: [74.2gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:25:03 INFO unit.opensearch/0.juju-log certificates:3: Shards still moving before stopping Opensearch.
unit-opensearch-0: 02:25:13 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:25:13 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:25:13 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:25:13 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:25:13 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:25:13 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:25:13 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:25:13 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:25:13 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:25:13 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:25:13 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:25:13 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:25:13 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:25:13 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:25:13 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:25:13 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:25:13 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:25:13 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:25:13 INFO unit.opensearch/0.juju-log certificates:3: Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:25:13 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:25:13 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:25:13 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:25:13 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:25:13 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:25:13 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:25:13 DEBUG unit.opensearch/0.juju-log certificates:3: 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:25:13 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:25:13 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:25:13 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:25:13 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:25:13 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:25:13 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13954
unit-opensearch-0: 02:25:13 DEBUG unit.opensearch/0.juju-log certificates:3: Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24147021824, 'free_bytes': 79718281216, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24147021824, 'free_bytes': 79718281216, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24147021824, 'free_bytes': 79718281216, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24147021824, 'free_bytes': 79718281216, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24147021824, 'free_bytes': 79718281216, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24147021824, 'free_bytes': 79718281216, 'free_disk_percent': 76.8, 'used_disk_percent': 23.2}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 999790, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1364104, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.2gb], shard size: [208b], free after allocating shard: [74.2gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.2gb], shard size: [208b], free after allocating shard: [74.2gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.2gb], shard size: [208b], free after allocating shard: [74.2gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:25:13 INFO unit.opensearch/0.juju-log certificates:3: Shards still moving before stopping Opensearch.
unit-opensearch-0: 02:25:23 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:25:23 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:25:23 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:25:23 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:25:23 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:25:24 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:25:24 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:25:24 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:25:24 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:25:24 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:25:24 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:25:24 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:25:24 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:25:24 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:25:24 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:25:24 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:25:24 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:25:24 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:25:24 INFO unit.opensearch/0.juju-log certificates:3: Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:25:24 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:25:24 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:25:24 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:25:24 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:25:24 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:25:24 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:25:24 DEBUG unit.opensearch/0.juju-log certificates:3: 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:25:24 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:25:24 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:25:24 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:25:24 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:25:24 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:25:24 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13955
unit-opensearch-0: 02:25:24 DEBUG unit.opensearch/0.juju-log certificates:3: Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24155648000, 'free_bytes': 79709655040, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24155648000, 'free_bytes': 79709655040, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24155648000, 'free_bytes': 79709655040, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24155648000, 'free_bytes': 79709655040, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24155648000, 'free_bytes': 79709655040, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24155648000, 'free_bytes': 79709655040, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 1014732, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1387318, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.2gb], shard size: [208b], free after allocating shard: [74.2gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.2gb], shard size: [208b], free after allocating shard: [74.2gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.2gb], shard size: [208b], free after allocating shard: [74.2gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:25:24 INFO unit.opensearch/0.juju-log certificates:3: Shards still moving before stopping Opensearch.
unit-opensearch-0: 02:25:34 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:25:34 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:25:34 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:25:34 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:25:34 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:25:34 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:25:34 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:25:34 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:25:34 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:25:34 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:25:34 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:25:34 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:25:34 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:25:34 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:25:34 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:25:34 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:25:34 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:25:34 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:25:34 INFO unit.opensearch/0.juju-log certificates:3: Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:25:34 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:25:34 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:25:34 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:25:34 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:25:34 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:25:34 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:25:34 DEBUG unit.opensearch/0.juju-log certificates:3: 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:25:34 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:25:34 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:25:34 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:25:34 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:25:34 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:25:34 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13955
unit-opensearch-0: 02:25:34 DEBUG unit.opensearch/0.juju-log certificates:3: Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24155648000, 'free_bytes': 79709655040, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24155648000, 'free_bytes': 79709655040, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24155648000, 'free_bytes': 79709655040, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24155648000, 'free_bytes': 79709655040, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24155648000, 'free_bytes': 79709655040, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24155648000, 'free_bytes': 79709655040, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 1014732, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1387318, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.2gb], shard size: [208b], free after allocating shard: [74.2gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.2gb], shard size: [208b], free after allocating shard: [74.2gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.2gb], shard size: [208b], free after allocating shard: [74.2gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:25:34 INFO unit.opensearch/0.juju-log certificates:3: Shards still moving before stopping Opensearch.
unit-opensearch-0: 02:25:44 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:25:44 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:25:44 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:25:44 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:25:44 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:25:44 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:25:44 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:25:44 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:25:44 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:25:44 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:25:44 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:25:44 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:25:44 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:25:44 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:25:44 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:25:44 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:25:44 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:25:44 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:25:44 INFO unit.opensearch/0.juju-log certificates:3: Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:25:44 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:25:44 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:25:44 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:25:44 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:25:44 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:25:44 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:25:44 DEBUG unit.opensearch/0.juju-log certificates:3: 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:25:44 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:25:44 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:25:44 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:25:44 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:25:44 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:25:44 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13955
unit-opensearch-0: 02:25:44 DEBUG unit.opensearch/0.juju-log certificates:3: Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24155648000, 'free_bytes': 79709655040, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24155648000, 'free_bytes': 79709655040, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24155648000, 'free_bytes': 79709655040, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24155648000, 'free_bytes': 79709655040, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24155648000, 'free_bytes': 79709655040, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24155648000, 'free_bytes': 79709655040, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 1014732, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1387318, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.2gb], shard size: [208b], free after allocating shard: [74.2gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.2gb], shard size: [208b], free after allocating shard: [74.2gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.2gb], shard size: [208b], free after allocating shard: [74.2gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:25:44 INFO unit.opensearch/0.juju-log certificates:3: Shards still moving before stopping Opensearch.
unit-opensearch-0: 02:25:54 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:25:54 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:25:54 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:25:54 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:25:54 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:25:54 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:25:54 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:25:54 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:25:54 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:25:54 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:25:54 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:25:54 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:25:54 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:25:54 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:25:54 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:25:54 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:25:54 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:25:54 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:25:54 INFO unit.opensearch/0.juju-log certificates:3: Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:25:54 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:25:54 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:25:54 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:25:54 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:25:54 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:25:54 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:25:54 DEBUG unit.opensearch/0.juju-log certificates:3: 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:25:54 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:25:54 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:25:54 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:25:54 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:25:54 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:25:54 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13955
unit-opensearch-0: 02:25:54 DEBUG unit.opensearch/0.juju-log certificates:3: Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24172019712, 'free_bytes': 79693283328, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24172019712, 'free_bytes': 79693283328, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24172019712, 'free_bytes': 79693283328, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24172019712, 'free_bytes': 79693283328, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24172019712, 'free_bytes': 79693283328, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24172019712, 'free_bytes': 79693283328, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 1030434, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1402228, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.2gb], shard size: [208b], free after allocating shard: [74.2gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.2gb], shard size: [208b], free after allocating shard: [74.2gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.2gb], shard size: [208b], free after allocating shard: [74.2gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:25:54 INFO unit.opensearch/0.juju-log certificates:3: Shards still moving before stopping Opensearch.
unit-opensearch-0: 02:26:04 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:26:04 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:26:04 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:26:04 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:26:04 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:26:04 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:26:04 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:26:04 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:26:04 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:26:04 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:26:04 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:26:04 DEBUG unit.opensearch/0.juju-log certificates:3: Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:26:04 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:26:04 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:26:04 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:26:04 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:26:04 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:26:05 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:26:05 INFO unit.opensearch/0.juju-log certificates:3: Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:26:05 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:26:05 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:26:05 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:26:05 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:26:05 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:26:05 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:26:05 DEBUG unit.opensearch/0.juju-log certificates:3: 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:26:05 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:26:05 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:26:05 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:26:05 DEBUG unit.opensearch/0.juju-log certificates:3: Getting secret app:admin-password
unit-opensearch-0: 02:26:05 DEBUG unit.opensearch/0.juju-log certificates:3: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:26:05 DEBUG unit.opensearch/0.juju-log certificates:3: https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13955
unit-opensearch-0: 02:26:05 DEBUG unit.opensearch/0.juju-log certificates:3: Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24172019712, 'free_bytes': 79693283328, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24172019712, 'free_bytes': 79693283328, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24172019712, 'free_bytes': 79693283328, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24172019712, 'free_bytes': 79693283328, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24172019712, 'free_bytes': 79693283328, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24172019712, 'free_bytes': 79693283328, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 1030434, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1402228, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.2gb], shard size: [208b], free after allocating shard: [74.2gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.2gb], shard size: [208b], free after allocating shard: [74.2gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.2gb], shard size: [208b], free after allocating shard: [74.2gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:26:05 INFO unit.opensearch/0.juju-log certificates:3: Shards still moving before stopping Opensearch.
unit-opensearch-0: 02:26:05 ERROR unit.opensearch/0.juju-log certificates:3: Shards haven't completed relocating.
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 318, in request
    resp = call(urls)
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 256, in call
    for attempt in Retrying(
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/tenacity/__init__.py", line 443, in __iter__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 289, in call
    response.raise_for_status()
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 500 Server Error: Internal Server Error for url: https://10.94.62.215:9200/_plugins/_security/api/ssl/http/reloadcerts

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_base_charm.py", line 816, in on_tls_conf_set
    self.tls.reload_tls_certificates()
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_tls.py", line 812, in reload_tls_certificates
    self.charm.opensearch.request(
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_distro.py", line 334, in request
    raise OpenSearchHttpError(
charms.opensearch.v0.opensearch_exceptions.OpenSearchHttpError: HTTP error self.response_code=500
self.response_body={'error': {'root_cause': [{'type': 'i_o_exception', 'reason': 'OpenSearchSecurityException[Error while initializing HTTP SSL layer: java.lang.Exception: New Certs do not have valid Issuer DN, Subject DN or SAN.]; nested: Exception[New Certs do not have valid Issuer DN, Subject DN or SAN.];'}], 'type': 'i_o_exception', 'reason': 'OpenSearchSecurityException[Error while initializing HTTP SSL layer: java.lang.Exception: New Certs do not have valid Issuer DN, Subject DN or SAN.]; nested: Exception[New Certs do not have valid Issuer DN, Subject DN or SAN.];', 'caused_by': {'type': 'security_exception', 'reason': 'Error while initializing HTTP SSL layer: java.lang.Exception: New Certs do not have valid Issuer DN, Subject DN or SAN.', 'caused_by': {'type': 'exception', 'reason': 'New Certs do not have valid Issuer DN, Subject DN or SAN.'}}}, 'status': 500}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_tls.py", line 280, in _on_certificate_available
    self.charm.on_tls_conf_set(event, scope, cert_type, renewal)
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_base_charm.py", line 819, in on_tls_conf_set
    self._restart_opensearch_event.emit()
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/ops/framework.py", line 348, in emit
    framework._emit(event)
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/ops/framework.py", line 860, in _emit
    self._reemit(event_path)
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/ops/framework.py", line 950, in _reemit
    custom_handler(event)
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_base_charm.py", line 1217, in _restart_opensearch
    self._stop_opensearch(restart=True)
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_base_charm.py", line 1202, in _stop_opensearch
    self.health.wait_for_shards_relocation()
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/tenacity/__init__.py", line 336, in wrapped_f
    return copy(f, *args, **kw)
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/tenacity/__init__.py", line 475, in __call__
    do = self.iter(retry_state=retry_state)
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/tenacity/__init__.py", line 376, in iter
    result = action(retry_state)
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/tenacity/__init__.py", line 418, in exc_check
    raise retry_exc.reraise()
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/tenacity/__init__.py", line 185, in reraise
    raise self.last_attempt.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 451, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 403, in __get_result
    raise self._exception
  File "/var/lib/juju/agents/unit-opensearch-0/charm/venv/tenacity/__init__.py", line 478, in __call__
    result = fn(*args, **kwargs)
  File "/var/lib/juju/agents/unit-opensearch-0/charm/lib/charms/opensearch/v0/opensearch_health.py", line 145, in wait_for_shards_relocation
    raise OpenSearchHAError("Shards haven't completed relocating.")
charms.opensearch.v0.opensearch_exceptions.OpenSearchHAError: Shards haven't completed relocating.
unit-opensearch-0: 02:26:05 DEBUG unit.opensearch/0.juju-log certificates:3: Deferring <CertificateAvailableEvent via OpenSearchOperatorCharm/TLSCertificatesRequiresV3[certificates]/on/certificate_available[2587]>.
unit-opensearch-0: 02:26:05 INFO juju.worker.uniter.operation ran "certificates-relation-changed" hook (via hook dispatching script: dispatch)
unit-opensearch-2: 02:26:06 DEBUG unit.opensearch/2.juju-log ops 2.15.0 up and running.
unit-opensearch-1: 02:26:06 DEBUG unit.opensearch/1.juju-log ops 2.15.0 up and running.
unit-opensearch-2: 02:26:06 DEBUG unit.opensearch/2.juju-log Emitting Juju event secret_changed.
unit-opensearch-0: 02:26:06 DEBUG unit.opensearch/0.juju-log ops 2.15.0 up and running.
unit-opensearch-1: 02:26:06 DEBUG unit.opensearch/1.juju-log Emitting Juju event secret_changed.
unit-opensearch-0: 02:26:06 DEBUG unit.opensearch/0.juju-log Re-emitting deferred event <CertificateAvailableEvent via OpenSearchOperatorCharm/TLSCertificatesRequiresV3[certificates]/on/certificate_available[346]>.
unit-opensearch-0: 02:26:06 DEBUG unit.opensearch/0.juju-log app.app-admin TLS certificate available.
unit-opensearch-0: 02:26:06 DEBUG unit.opensearch/0.juju-log Putting secret object app:app-admin
unit-opensearch-0: 02:26:06 DEBUG unit.opensearch/0.juju-log Executing command: openssl pkcs12 -in /var/snap/opensearch/current/etc/opensearch/certificates/ca.p12 -passin pass:xxx
unit-opensearch-0: 02:26:06 DEBUG unit.opensearch/0.juju-log Executing command: openssl pkcs12 -export -in /tmp/tmp31sl5tww.cert -inkey /tmp/tmpveezuw_3.pem -out /var/snap/opensearch/current/etc/opensearch/certificates/app-admin.p12 -name app-admin -passout pass:xxx
unit-opensearch-0: 02:26:06 DEBUG unit.opensearch/0.juju-log Executing command: sudo chmod +r /var/snap/opensearch/current/etc/opensearch/certificates/app-admin.p12
unit-opensearch-0: 02:26:06 INFO unit.opensearch/0.juju-log TLS certificate for app-admin stored.
unit-opensearch-0: 02:26:06 DEBUG unit.opensearch/0.juju-log Executing command: openssl pkcs12 -in /var/snap/opensearch/current/etc/opensearch/certificates/ca.p12 -passin pass:xxx
unit-opensearch-0: 02:26:06 DEBUG unit.opensearch/0.juju-log Executing command: openssl pkcs12 -in /var/snap/opensearch/current/etc/opensearch/certificates/ca.p12 -passin pass:xxx
unit-opensearch-0: 02:26:06 DEBUG unit.opensearch/0.juju-log Executing command: openssl pkcs12 -export -in /tmp/tmpesz2hl3y.cert -inkey /tmp/tmpg48z0__3.pem -out /var/snap/opensearch/current/etc/opensearch/certificates/app-admin.p12 -name app-admin -passout pass:xxx
unit-opensearch-0: 02:26:06 DEBUG unit.opensearch/0.juju-log Executing command: sudo chmod +r /var/snap/opensearch/current/etc/opensearch/certificates/app-admin.p12
unit-opensearch-0: 02:26:06 INFO unit.opensearch/0.juju-log TLS certificate for app-admin stored.
unit-opensearch-0: 02:26:06 DEBUG unit.opensearch/0.juju-log Executing command: openssl pkcs12 -in /var/snap/opensearch/current/etc/opensearch/certificates/ca.p12 -passin pass:xxx
unit-opensearch-0: 02:26:06 DEBUG unit.opensearch/0.juju-log Executing command: openssl x509 -in /tmp/tmp5m5pauit -noout -issuer
unit-opensearch-0: 02:26:06 DEBUG unit.opensearch/0.juju-log Executing command: openssl pkcs12 -in /var/snap/opensearch/current/etc/opensearch/certificates/unit-transport.p12 -nodes -passin pass:xxx | openssl x509 -noout -issuer
unit-opensearch-2: 02:26:06 DEBUG unit.opensearch/2.juju-log Secret change for app-admin
unit-opensearch-0: 02:26:06 DEBUG unit.opensearch/0.juju-log Executing command: openssl pkcs12 -in /var/snap/opensearch/current/etc/opensearch/certificates/unit-http.p12 -nodes -passin pass:xxx | openssl x509 -noout -issuer
unit-opensearch-0: 02:26:06 DEBUG unit.opensearch/0.juju-log Executing command: openssl pkcs12 -in /var/snap/opensearch/current/etc/opensearch/certificates/app-admin.p12 -nodes -passin pass:xxx | openssl x509 -noout -issuer
unit-opensearch-0: 02:26:06 DEBUG unit.opensearch/0.juju-log Executing command: openssl pkcs12 -in /var/snap/opensearch/current/etc/opensearch/certificates/ca.p12 -passin pass:xxx
unit-opensearch-0: 02:26:06 DEBUG unit.opensearch/0.juju-log Executing command: openssl x509 -in /tmp/tmpgu12my1z -noout -issuer
unit-opensearch-0: 02:26:06 DEBUG unit.opensearch/0.juju-log Executing command: openssl pkcs12 -in /var/snap/opensearch/current/etc/opensearch/certificates/unit-transport.p12 -nodes -passin pass:xxx | openssl x509 -noout -issuer
unit-opensearch-0: 02:26:06 DEBUG unit.opensearch/0.juju-log Executing command: openssl pkcs12 -in /var/snap/opensearch/current/etc/opensearch/certificates/unit-http.p12 -nodes -passin pass:xxx | openssl x509 -noout -issuer
unit-opensearch-0: 02:26:06 DEBUG unit.opensearch/0.juju-log Executing command: openssl pkcs12 -in /var/snap/opensearch/current/etc/opensearch/certificates/app-admin.p12 -nodes -passin pass:xxx | openssl x509 -noout -issuer
unit-opensearch-0: 02:26:06 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:06 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:26:06 DEBUG unit.opensearch/0.juju-log https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:26:06 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:26:06 DEBUG unit.opensearch/0.juju-log https://10.94.62.215:9200 "PUT /_plugins/_security/api/ssl/http/reloadcerts HTTP/11" 500 840
unit-opensearch-0: 02:26:06 DEBUG unit.opensearch/0.juju-log Request PUT to https://10.94.62.215:9200/_plugins/_security/api/ssl/http/reloadcerts with payload: None failed.(Attempts left: 2)
	Error: 500 Server Error: Internal Server Error for url: https://10.94.62.215:9200/_plugins/_security/api/ssl/http/reloadcerts
unit-opensearch-2: 02:26:06 INFO juju.worker.uniter.operation ran "secret-changed" hook (via hook dispatching script: dispatch)
unit-opensearch-1: 02:26:07 DEBUG unit.opensearch/1.juju-log Secret change for app-admin
unit-opensearch-1: 02:26:07 INFO juju.worker.uniter.operation ran "secret-changed" hook (via hook dispatching script: dispatch)
unit-opensearch-0: 02:26:07 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:26:07 DEBUG unit.opensearch/0.juju-log https://10.94.62.215:9200 "PUT /_plugins/_security/api/ssl/http/reloadcerts HTTP/11" 500 840
unit-opensearch-0: 02:26:07 DEBUG unit.opensearch/0.juju-log Request PUT to https://10.94.62.215:9200/_plugins/_security/api/ssl/http/reloadcerts with payload: None failed.(Attempts left: 1)
	Error: 500 Server Error: Internal Server Error for url: https://10.94.62.215:9200/_plugins/_security/api/ssl/http/reloadcerts
unit-opensearch-2: 02:26:08 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: ops 2.15.0 up and running.
unit-opensearch-1: 02:26:08 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: ops 2.15.0 up and running.
unit-opensearch-2: 02:26:08 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Emitting Juju event opensearch_peers_relation_changed.
unit-opensearch-2: 02:26:08 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-2: 02:26:08 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-2: 02:26:08 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: https://10.94.62.31:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:26:08 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: Emitting Juju event opensearch_peers_relation_changed.
unit-opensearch-2: 02:26:08 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-2: 02:26:08 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-1: 02:26:08 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-2: 02:26:08 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: https://10.94.62.252:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:26:08 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-2: 02:26:08 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-1: 02:26:08 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-2: 02:26:08 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Error when checking if host 10.94.62.215 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.215', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-2: 02:26:08 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-1: 02:26:08 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: https://10.94.62.252:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:26:08 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-2: 02:26:08 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Error when checking if host 10.94.62.215 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.215', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-2: 02:26:08 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-1: 02:26:08 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-2: 02:26:08 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-1: 02:26:08 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-2: 02:26:08 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: https://10.94.62.252:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:26:08 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: Error when checking if host 10.94.62.215 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.215', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-2: 02:26:08 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-1: 02:26:08 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-2: 02:26:08 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-1: 02:26:08 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-1: 02:26:08 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: Error when checking if host 10.94.62.215 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.215', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-2: 02:26:08 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: https://10.94.62.31:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:26:08 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-2: 02:26:08 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-1: 02:26:08 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-2: 02:26:08 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-1: 02:26:08 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: https://10.94.62.31:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:26:08 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: https://10.94.62.252:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:26:08 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-2: 02:26:08 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-1: 02:26:08 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-2: 02:26:08 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-1: 02:26:08 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: https://10.94.62.31:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:26:08 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: https://10.94.62.252:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:26:08 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-2: 02:26:08 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-1: 02:26:08 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-2: 02:26:08 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-1: 02:26:08 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: https://10.94.62.252:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:26:08 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-2: 02:26:08 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: https://10.94.62.252:9200 "GET /_nodes HTTP/11" 200 53919
unit-opensearch-1: 02:26:08 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-1: 02:26:08 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: https://10.94.62.31:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:26:08 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-1: 02:26:08 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-1: 02:26:08 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: https://10.94.62.31:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:26:08 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-1: 02:26:08 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-1: 02:26:08 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: https://10.94.62.31:9200 "GET /_nodes HTTP/11" 200 80464
unit-opensearch-2: 02:26:08 INFO juju.worker.uniter.operation ran "opensearch-peers-relation-changed" hook (via hook dispatching script: dispatch)
unit-opensearch-1: 02:26:08 INFO juju.worker.uniter.operation ran "opensearch-peers-relation-changed" hook (via hook dispatching script: dispatch)
unit-opensearch-0: 02:26:08 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:26:08 DEBUG unit.opensearch/0.juju-log https://10.94.62.215:9200 "PUT /_plugins/_security/api/ssl/http/reloadcerts HTTP/11" 500 840
unit-opensearch-0: 02:26:08 ERROR unit.opensearch/0.juju-log Error reloading TLS certificates via API: HTTP error self.response_code=500
self.response_body={'error': {'root_cause': [{'type': 'i_o_exception', 'reason': 'OpenSearchSecurityException[Error while initializing HTTP SSL layer: java.lang.Exception: New Certs do not have valid Issuer DN, Subject DN or SAN.]; nested: Exception[New Certs do not have valid Issuer DN, Subject DN or SAN.];'}], 'type': 'i_o_exception', 'reason': 'OpenSearchSecurityException[Error while initializing HTTP SSL layer: java.lang.Exception: New Certs do not have valid Issuer DN, Subject DN or SAN.]; nested: Exception[New Certs do not have valid Issuer DN, Subject DN or SAN.];', 'caused_by': {'type': 'security_exception', 'reason': 'Error while initializing HTTP SSL layer: java.lang.Exception: New Certs do not have valid Issuer DN, Subject DN or SAN.', 'caused_by': {'type': 'exception', 'reason': 'New Certs do not have valid Issuer DN, Subject DN or SAN.'}}}, 'status': 500}
unit-opensearch-0: 02:26:08 ERROR unit.opensearch/0.juju-log Could not reload TLS certificates via API, will restart.
unit-opensearch-0: 02:26:08 DEBUG unit.opensearch/0.juju-log Emitting custom event <_RestartOpenSearch via OpenSearchOperatorCharm/_restart_opensearch_event[2593]>.
unit-opensearch-0: 02:26:08 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:08 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:26:08 DEBUG unit.opensearch/0.juju-log https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:26:08 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:08 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:26:08 DEBUG unit.opensearch/0.juju-log Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log [Node lock] 1+ opensearch nodes online
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log https://10.94.62.215:9200 "GET /_nodes HTTP/11" 200 53919
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log [Node lock] Opensearch online_nodes=2
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log https://10.94.62.215:9200 "GET /.charm_node_lock/_source/0 HTTP/11" 200 33
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log [Node lock] Acquired via opensearch
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log [Node lock] Released peer lock as leader unit
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log [Node lock] (leader) cleared peer lock
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log [Node lock] Released redundant peer lock (if held)
unit-opensearch-2: 02:26:09 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: ops 2.15.0 up and running.
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:26:09 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: ops 2.15.0 up and running.
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-2: 02:26:09 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Emitting Juju event opensearch_peers_relation_changed.
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:26:09 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: Emitting Juju event opensearch_peers_relation_changed.
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-2: 02:26:09 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:26:09 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-2: 02:26:09 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:26:09 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:26:09 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: https://10.94.62.31:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-1: 02:26:09 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: https://10.94.62.252:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:26:09 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log https://10.94.62.215:9200 "GET /_nodes HTTP/11" 200 53919
unit-opensearch-2: 02:26:09 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:26:09 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-2: 02:26:09 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Error when checking if host 10.94.62.215 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.215', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-1: 02:26:09 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-2: 02:26:09 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:26:09 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-1: 02:26:09 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: Error when checking if host 10.94.62.215 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.215', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:26:09 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-1: 02:26:09 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-2: 02:26:09 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: https://10.94.62.252:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:26:09 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-1: 02:26:09 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: Error when checking if host 10.94.62.215 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.215', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-1: 02:26:09 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log https://10.94.62.215:9200 "GET /_nodes HTTP/11" 200 53919
unit-opensearch-2: 02:26:09 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-1: 02:26:09 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-2: 02:26:09 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: https://10.94.62.252:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:26:09 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: https://10.94.62.31:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:26:09 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-1: 02:26:09 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-2: 02:26:09 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:26:09 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-2: 02:26:09 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Error when checking if host 10.94.62.215 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.215', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-2: 02:26:09 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-1: 02:26:09 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: https://10.94.62.31:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:26:09 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-1: 02:26:09 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-1: 02:26:09 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-2: 02:26:09 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: https://10.94.62.31:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-2: 02:26:09 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-1: 02:26:09 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: https://10.94.62.252:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:26:09 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-1: 02:26:09 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-1: 02:26:09 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-2: 02:26:09 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: https://10.94.62.252:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:26:09 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: https://10.94.62.31:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:26:09 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-1: 02:26:09 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-2: 02:26:09 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-1: 02:26:09 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:26:09 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: https://10.94.62.252:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:26:09 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: https://10.94.62.31:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:26:09 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-2: 02:26:09 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-1: 02:26:09 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-1: 02:26:09 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log https://10.94.62.215:9200 "GET /_nodes/B6fM7_9fTTqnnQvAv9EuMQ HTTP/11" 200 26885
unit-opensearch-2: 02:26:09 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: https://10.94.62.252:9200 "GET /_nodes HTTP/11" 200 53919
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-1: 02:26:09 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: https://10.94.62.31:9200 "GET /_nodes HTTP/11" 200 80464
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-2: 02:26:09 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-1: 02:26:09 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-2: 02:26:09 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-1: 02:26:09 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:26:09 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Error when checking if host 10.94.62.215 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.215', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-1: 02:26:09 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: https://10.94.62.31:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:26:09 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-1: 02:26:09 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-2: 02:26:09 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-1: 02:26:09 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-2: 02:26:09 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Error when checking if host 10.94.62.215 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.215', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-1: 02:26:09 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: Error when checking if host 10.94.62.215 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.215', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:26:09 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-1: 02:26:09 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-2: 02:26:09 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-1: 02:26:09 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-1: 02:26:09 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: Error when checking if host 10.94.62.215 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.215', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-2: 02:26:09 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: https://10.94.62.252:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:26:09 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:26:09 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-1: 02:26:09 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-2: 02:26:09 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-1: 02:26:09 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: https://10.94.62.31:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:26:09 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: https://10.94.62.252:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:26:09 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-2: 02:26:09 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-1: 02:26:09 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-2: 02:26:09 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-1: 02:26:09 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: https://10.94.62.252:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:26:09 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: https://10.94.62.31:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:26:09 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-2: 02:26:09 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-2: 02:26:09 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-1: 02:26:09 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log https://10.94.62.215:9200 "POST /_cluster/voting_config_exclusions?node_names=opensearch-0.1ce&timeout=1m HTTP/11" 200 0
unit-opensearch-0: 02:26:09 DEBUG unit.opensearch/0.juju-log Added voting, response: 200
unit-opensearch-1: 02:26:09 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: https://10.94.62.31:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:26:09 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: https://10.94.62.252:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:26:09 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-2: 02:26:09 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-1: 02:26:09 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-2: 02:26:09 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-1: 02:26:09 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: https://10.94.62.31:9200 "GET / HTTP/11" 200 573
unit-opensearch-2: 02:26:09 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: https://10.94.62.252:9200 "GET / HTTP/11" 200 573
unit-opensearch-1: 02:26:09 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-2: 02:26:09 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Getting secret app:admin-password
unit-opensearch-1: 02:26:09 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-2: 02:26:09 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-1: 02:26:09 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: https://10.94.62.31:9200 "GET /_cluster/state/metadata/voting_config_exclusions HTTP/11" 200 454
unit-opensearch-2: 02:26:09 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: https://10.94.62.31:9200 "GET /_cluster/state/metadata/voting_config_exclusions HTTP/11" 200 454
unit-opensearch-1: 02:26:09 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: Current voting exclusions: {'opensearch-0.1ce'}
unit-opensearch-2: 02:26:09 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: Current voting exclusions: {'opensearch-0.1ce'}
unit-opensearch-1: 02:26:09 DEBUG unit.opensearch/1.juju-log opensearch-peers:2: No voting exclusions to delete, current set is {'opensearch-0.1ce'}
unit-opensearch-2: 02:26:09 DEBUG unit.opensearch/2.juju-log opensearch-peers:2: No voting exclusions to delete, current set is {'opensearch-0.1ce'}
unit-opensearch-2: 02:26:10 INFO juju.worker.uniter.operation ran "opensearch-peers-relation-changed" hook (via hook dispatching script: dispatch)
unit-opensearch-1: 02:26:10 INFO juju.worker.uniter.operation ran "opensearch-peers-relation-changed" hook (via hook dispatching script: dispatch)
unit-opensearch-0: 02:26:14 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:14 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:26:14 DEBUG unit.opensearch/0.juju-log Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:26:14 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:14 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:26:14 DEBUG unit.opensearch/0.juju-log Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:26:14 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:14 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:26:14 DEBUG unit.opensearch/0.juju-log Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:26:14 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:14 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:26:14 DEBUG unit.opensearch/0.juju-log Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:26:14 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:14 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:26:14 DEBUG unit.opensearch/0.juju-log https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:26:14 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:14 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:26:14 DEBUG unit.opensearch/0.juju-log https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:26:14 INFO unit.opensearch/0.juju-log Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:26:14 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:14 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:26:14 DEBUG unit.opensearch/0.juju-log https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:26:14 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:14 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:26:15 DEBUG unit.opensearch/0.juju-log https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:26:15 DEBUG unit.opensearch/0.juju-log 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:26:15 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:15 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:26:15 DEBUG unit.opensearch/0.juju-log https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:26:15 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:15 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:26:15 DEBUG unit.opensearch/0.juju-log https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13955
unit-opensearch-0: 02:26:15 DEBUG unit.opensearch/0.juju-log Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24172019712, 'free_bytes': 79693283328, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24172019712, 'free_bytes': 79693283328, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24172019712, 'free_bytes': 79693283328, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24172019712, 'free_bytes': 79693283328, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24172019712, 'free_bytes': 79693283328, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24172019712, 'free_bytes': 79693283328, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 1030434, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1402228, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.2gb], shard size: [208b], free after allocating shard: [74.2gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.2gb], shard size: [208b], free after allocating shard: [74.2gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.2gb], shard size: [208b], free after allocating shard: [74.2gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:26:15 INFO unit.opensearch/0.juju-log Shards still moving before stopping Opensearch.
unit-opensearch-0: 02:26:25 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:25 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:26:25 DEBUG unit.opensearch/0.juju-log Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:26:25 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:25 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:26:25 DEBUG unit.opensearch/0.juju-log Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:26:25 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:25 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:26:25 DEBUG unit.opensearch/0.juju-log Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:26:25 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:25 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:26:25 DEBUG unit.opensearch/0.juju-log Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:26:25 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:25 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:26:25 DEBUG unit.opensearch/0.juju-log https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:26:25 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:25 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:26:25 DEBUG unit.opensearch/0.juju-log https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:26:25 INFO unit.opensearch/0.juju-log Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:26:25 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:25 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:26:25 DEBUG unit.opensearch/0.juju-log https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:26:25 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:25 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:26:25 DEBUG unit.opensearch/0.juju-log https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:26:25 DEBUG unit.opensearch/0.juju-log 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:26:25 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:25 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:26:25 DEBUG unit.opensearch/0.juju-log https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:26:25 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:25 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:26:25 DEBUG unit.opensearch/0.juju-log https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13955
unit-opensearch-0: 02:26:25 DEBUG unit.opensearch/0.juju-log Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24218718208, 'free_bytes': 79646584832, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24218718208, 'free_bytes': 79646584832, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24218718208, 'free_bytes': 79646584832, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24218718208, 'free_bytes': 79646584832, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24218734592, 'free_bytes': 79646568448, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24218734592, 'free_bytes': 79646568448, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 1045434, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1417300, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.1gb], shard size: [208b], free after allocating shard: [74.1gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.1gb], shard size: [208b], free after allocating shard: [74.1gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.1gb], shard size: [208b], free after allocating shard: [74.1gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:26:25 INFO unit.opensearch/0.juju-log Shards still moving before stopping Opensearch.
unit-opensearch-0: 02:26:35 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:35 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:26:35 DEBUG unit.opensearch/0.juju-log Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:26:35 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:35 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:26:35 DEBUG unit.opensearch/0.juju-log Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:26:35 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:35 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:26:35 DEBUG unit.opensearch/0.juju-log Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:26:35 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:35 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:26:35 DEBUG unit.opensearch/0.juju-log Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:26:35 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:35 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:26:35 DEBUG unit.opensearch/0.juju-log https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:26:35 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:35 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:26:35 DEBUG unit.opensearch/0.juju-log https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:26:35 INFO unit.opensearch/0.juju-log Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:26:35 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:35 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:26:35 DEBUG unit.opensearch/0.juju-log https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:26:35 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:35 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:26:35 DEBUG unit.opensearch/0.juju-log https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:26:35 DEBUG unit.opensearch/0.juju-log 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:26:35 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:35 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:26:35 DEBUG unit.opensearch/0.juju-log https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:26:35 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:35 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:26:35 DEBUG unit.opensearch/0.juju-log https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13955
unit-opensearch-0: 02:26:35 DEBUG unit.opensearch/0.juju-log Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24218718208, 'free_bytes': 79646584832, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24218718208, 'free_bytes': 79646584832, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24218718208, 'free_bytes': 79646584832, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24218718208, 'free_bytes': 79646584832, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24218734592, 'free_bytes': 79646568448, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24218734592, 'free_bytes': 79646568448, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 1045434, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1417300, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.1gb], shard size: [208b], free after allocating shard: [74.1gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.1gb], shard size: [208b], free after allocating shard: [74.1gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.1gb], shard size: [208b], free after allocating shard: [74.1gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:26:35 INFO unit.opensearch/0.juju-log Shards still moving before stopping Opensearch.
unit-opensearch-0: 02:26:45 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:45 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:26:45 DEBUG unit.opensearch/0.juju-log Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:26:45 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:45 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:26:45 DEBUG unit.opensearch/0.juju-log Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:26:45 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:45 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:26:45 DEBUG unit.opensearch/0.juju-log Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:26:45 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:45 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:26:45 DEBUG unit.opensearch/0.juju-log Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:26:45 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:45 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:26:45 DEBUG unit.opensearch/0.juju-log https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:26:45 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:45 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:26:45 DEBUG unit.opensearch/0.juju-log https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:26:45 INFO unit.opensearch/0.juju-log Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:26:45 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:45 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:26:45 DEBUG unit.opensearch/0.juju-log https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:26:45 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:45 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:26:45 DEBUG unit.opensearch/0.juju-log https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:26:45 DEBUG unit.opensearch/0.juju-log 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:26:45 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:45 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:26:45 DEBUG unit.opensearch/0.juju-log https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:26:45 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:45 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:26:45 DEBUG unit.opensearch/0.juju-log https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13955
unit-opensearch-0: 02:26:45 DEBUG unit.opensearch/0.juju-log Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24218718208, 'free_bytes': 79646584832, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24218718208, 'free_bytes': 79646584832, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24218718208, 'free_bytes': 79646584832, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24218718208, 'free_bytes': 79646584832, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24218734592, 'free_bytes': 79646568448, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24218734592, 'free_bytes': 79646568448, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 1045434, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1417300, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.1gb], shard size: [208b], free after allocating shard: [74.1gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.1gb], shard size: [208b], free after allocating shard: [74.1gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.1gb], shard size: [208b], free after allocating shard: [74.1gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:26:45 INFO unit.opensearch/0.juju-log Shards still moving before stopping Opensearch.
unit-opensearch-0: 02:26:55 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:55 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:26:55 DEBUG unit.opensearch/0.juju-log Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:26:55 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:55 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:26:55 DEBUG unit.opensearch/0.juju-log Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:26:55 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:55 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:26:55 DEBUG unit.opensearch/0.juju-log Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:26:55 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:55 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:26:55 DEBUG unit.opensearch/0.juju-log Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:26:55 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:55 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:26:55 DEBUG unit.opensearch/0.juju-log https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:26:55 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:55 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:26:55 DEBUG unit.opensearch/0.juju-log https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:26:55 INFO unit.opensearch/0.juju-log Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:26:55 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:55 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:26:55 DEBUG unit.opensearch/0.juju-log https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:26:55 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:55 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:26:55 DEBUG unit.opensearch/0.juju-log https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:26:55 DEBUG unit.opensearch/0.juju-log 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:26:55 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:55 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:26:55 DEBUG unit.opensearch/0.juju-log https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:26:55 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:26:55 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:26:55 DEBUG unit.opensearch/0.juju-log https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13955
unit-opensearch-0: 02:26:55 DEBUG unit.opensearch/0.juju-log Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24243671040, 'free_bytes': 79621632000, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24243671040, 'free_bytes': 79621632000, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24243671040, 'free_bytes': 79621632000, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24243671040, 'free_bytes': 79621632000, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24243798016, 'free_bytes': 79621505024, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24243798016, 'free_bytes': 79621505024, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 1060450, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1432733, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.1gb], shard size: [208b], free after allocating shard: [74.1gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.1gb], shard size: [208b], free after allocating shard: [74.1gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.1gb], shard size: [208b], free after allocating shard: [74.1gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:26:55 INFO unit.opensearch/0.juju-log Shards still moving before stopping Opensearch.
unit-opensearch-0: 02:27:05 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:27:05 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:27:05 DEBUG unit.opensearch/0.juju-log Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:27:05 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:27:06 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:27:06 DEBUG unit.opensearch/0.juju-log Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:27:06 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:27:06 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:27:06 DEBUG unit.opensearch/0.juju-log Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:27:06 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:27:06 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:27:06 DEBUG unit.opensearch/0.juju-log Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:27:06 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:27:06 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:27:06 DEBUG unit.opensearch/0.juju-log https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:27:06 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:27:06 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:27:06 DEBUG unit.opensearch/0.juju-log https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:27:06 INFO unit.opensearch/0.juju-log Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:27:06 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:27:06 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:27:06 DEBUG unit.opensearch/0.juju-log https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:27:06 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:27:06 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:27:06 DEBUG unit.opensearch/0.juju-log https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:27:06 DEBUG unit.opensearch/0.juju-log 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:27:06 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:27:06 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:27:06 DEBUG unit.opensearch/0.juju-log https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:27:06 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:27:06 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:27:06 DEBUG unit.opensearch/0.juju-log https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13955
unit-opensearch-0: 02:27:06 DEBUG unit.opensearch/0.juju-log Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24243671040, 'free_bytes': 79621632000, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24243671040, 'free_bytes': 79621632000, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24243671040, 'free_bytes': 79621632000, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24243671040, 'free_bytes': 79621632000, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24243798016, 'free_bytes': 79621505024, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24243798016, 'free_bytes': 79621505024, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 1060450, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1432733, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.1gb], shard size: [208b], free after allocating shard: [74.1gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.1gb], shard size: [208b], free after allocating shard: [74.1gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.1gb], shard size: [208b], free after allocating shard: [74.1gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:27:06 INFO unit.opensearch/0.juju-log Shards still moving before stopping Opensearch.
unit-opensearch-0: 02:27:16 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:27:16 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:27:16 DEBUG unit.opensearch/0.juju-log Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:27:16 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:27:16 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:27:16 DEBUG unit.opensearch/0.juju-log Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:27:16 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:27:16 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:27:16 DEBUG unit.opensearch/0.juju-log Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:27:16 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:27:16 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:27:16 DEBUG unit.opensearch/0.juju-log Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:27:16 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:27:16 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:27:16 DEBUG unit.opensearch/0.juju-log https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:27:16 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:27:16 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:27:16 DEBUG unit.opensearch/0.juju-log https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:27:16 INFO unit.opensearch/0.juju-log Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:27:16 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:27:16 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:27:16 DEBUG unit.opensearch/0.juju-log https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:27:16 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:27:16 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:27:16 DEBUG unit.opensearch/0.juju-log https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:27:16 DEBUG unit.opensearch/0.juju-log 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:27:16 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:27:16 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:27:16 DEBUG unit.opensearch/0.juju-log https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:27:16 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:27:16 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:27:16 DEBUG unit.opensearch/0.juju-log https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13955
unit-opensearch-0: 02:27:16 DEBUG unit.opensearch/0.juju-log Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24243671040, 'free_bytes': 79621632000, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24243671040, 'free_bytes': 79621632000, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24243671040, 'free_bytes': 79621632000, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24243671040, 'free_bytes': 79621632000, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24243798016, 'free_bytes': 79621505024, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24243798016, 'free_bytes': 79621505024, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 1060450, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1432733, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.1gb], shard size: [208b], free after allocating shard: [74.1gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.1gb], shard size: [208b], free after allocating shard: [74.1gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.1gb], shard size: [208b], free after allocating shard: [74.1gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:27:16 INFO unit.opensearch/0.juju-log Shards still moving before stopping Opensearch.
unit-opensearch-0: 02:27:26 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:27:26 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:27:26 DEBUG unit.opensearch/0.juju-log Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:27:26 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:27:26 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:27:26 DEBUG unit.opensearch/0.juju-log Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:27:26 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:27:26 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.31:9200
unit-opensearch-0: 02:27:26 DEBUG unit.opensearch/0.juju-log Error when checking if host 10.94.62.31 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.31', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:27:26 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:27:26 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.252:9200
unit-opensearch-0: 02:27:26 DEBUG unit.opensearch/0.juju-log Error when checking if host 10.94.62.252 is up: HTTP error self.response_code=None
self.response_text="HTTPSConnectionPool(host='10.94.62.252', port=9200): Max retries exceeded with url: / (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1007)')))"
unit-opensearch-0: 02:27:26 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:27:26 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:27:26 DEBUG unit.opensearch/0.juju-log https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:27:26 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:27:26 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:27:26 DEBUG unit.opensearch/0.juju-log https://10.94.62.215:9200 "GET /_cluster/health HTTP/11" 200 464
unit-opensearch-0: 02:27:26 INFO unit.opensearch/0.juju-log Health: {'cluster_name': 'opensearch-omsy', 'status': 'yellow', 'timed_out': False, 'number_of_nodes': 3, 'number_of_data_nodes': 3, 'discovered_master': True, 'discovered_cluster_manager': True, 'active_primary_shards': 6, 'active_shards': 12, 'relocating_shards': 0, 'initializing_shards': 2, 'unassigned_shards': 3, 'delayed_unassigned_shards': 0, 'number_of_pending_tasks': 0, 'number_of_in_flight_fetch': 0, 'task_max_waiting_in_queue_millis': 0, 'active_shards_percent_as_number': 70.58823529411765}
unit-opensearch-0: 02:27:26 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:27:26 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:27:26 DEBUG unit.opensearch/0.juju-log https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:27:26 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:27:26 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:27:26 DEBUG unit.opensearch/0.juju-log https://10.94.62.215:9200 "GET /_cluster/state/routing_table,metadata,nodes HTTP/11" 200 11878
unit-opensearch-0: 02:27:26 DEBUG unit.opensearch/0.juju-log 

Health: yellow -- Shards: [{'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.plugins-ml-config', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-observability', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': 'series_index', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': 'series_index', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opensearch-sap-log-types-config', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.opendistro_security', 'shard': '0', 'prirep': 'r', 'state': 'INITIALIZING', 'ip': '10.94.62.252', 'node': 'opensearch-1.1ce', 'unassigned.reason': 'REPLICA_ADDED'}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'STARTED', 'ip': '10.94.62.31', 'node': 'opensearch-2.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'p', 'state': 'STARTED', 'ip': '10.94.62.215', 'node': 'opensearch-0.1ce', 'unassigned.reason': None}, {'index': '.charm_node_lock', 'shard': '0', 'prirep': 'r', 'state': 'UNASSIGNED', 'ip': None, 'node': None, 'unassigned.reason': 'REPLICA_ADDED'}]


unit-opensearch-0: 02:27:26 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:27:26 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:27:26 DEBUG unit.opensearch/0.juju-log https://10.94.62.215:9200 "GET / HTTP/11" 200 573
unit-opensearch-0: 02:27:26 DEBUG unit.opensearch/0.juju-log Getting secret app:admin-password
unit-opensearch-0: 02:27:26 DEBUG unit.opensearch/0.juju-log Starting new HTTPS connection (1): 10.94.62.215:9200
unit-opensearch-0: 02:27:26 DEBUG unit.opensearch/0.juju-log https://10.94.62.215:9200 "GET /_cluster/allocation/explain?include_disk_info=true&include_yes_decisions=true HTTP/11" 200 13955
unit-opensearch-0: 02:27:26 DEBUG unit.opensearch/0.juju-log Allocation explanations: {'index': '.opensearch-observability', 'shard': 0, 'primary': False, 'current_state': 'unassigned', 'unassigned_info': {'reason': 'REPLICA_ADDED', 'at': '2024-09-26T02:10:50.173Z', 'last_allocation_status': 'no_attempt'}, 'cluster_info': {'nodes': {'eJvsILx7R2KBiUVtDVZlrg': {'node_name': 'opensearch-2.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24252039168, 'free_bytes': 79613263872, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24252039168, 'free_bytes': 79613263872, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}}, 'tWAbbPxwTfGVHA9b4c-RoQ': {'node_name': 'opensearch-1.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24252145664, 'free_bytes': 79613157376, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24252145664, 'free_bytes': 79613157376, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}}, 'B6fM7_9fTTqnnQvAv9EuMQ': {'node_name': 'opensearch-0.1ce', 'least_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24252145664, 'free_bytes': 79613157376, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}, 'most_available': {'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total_bytes': 103865303040, 'used_bytes': 24252145664, 'free_bytes': 79613157376, 'free_disk_percent': 76.7, 'used_disk_percent': 23.3}}}, 'shard_sizes': {'[.charm_node_lock][0][p]_bytes': 13548, '[.plugins-ml-config][0][r]_bytes': 4030, '[series_index][0][r]_bytes': 1083786, '[.opendistro_security][0][p]_bytes': 54935, '[.plugins-ml-config][0][p]_bytes': 4030, '[.opendistro_security][0][r]_bytes': 54935, '[.opensearch-observability][0][r]_bytes': 208, '[.opensearch-sap-log-types-config][0][r]_bytes': 120144, '[.opensearch-observability][0][p]_bytes': 208, '[series_index][0][p]_bytes': 1448137, '[.charm_node_lock][0][r]_bytes': 39816, '[.opensearch-sap-log-types-config][0][p]_bytes': 114087}, 'shard_paths': {'[.opendistro_security][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=tz5x9pOGSiyRnTfNyfSnJA], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[54935]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=iVUkoTwcRweM6XI0jWqY_A]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=G8xoWjc-Sl6m1nE02ruqRQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=kVb7K3_3QYOr5rjWProsGw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[tWAbbPxwTfGVHA9b4c-RoQ], [R], recovery_source[peer recovery], s[INITIALIZING], a[id=vG3d2FW7RzSc5Z-6ABg8sQ], unassigned_info[[reason=REPLICA_ADDED], at[2024-09-26T02:10:50.173Z], delayed=false, allocation_status[no_attempt]], expected_shard_size[4030]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=YnOHt_w7QHW5qxBCDxihuQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opendistro_security][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=XsmFsjVUSQCKhbxIXNKjDw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.opensearch-sap-log-types-config][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=oHwZo33-SNKlGnTEpE1Urw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=aX5VwnnhT0uH5RtNMml3Zg]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.charm_node_lock][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=KDgv4SdjQDi-2zKcl_LETw]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[.plugins-ml-config][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=oNl6FIeXSZeE86eV6Dc-oQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', '[series_index][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=tm_lLjmFSeiL-KYTc8vTqQ]': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0'}, 'reserved_sizes': [{'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'path': '/var/snap/opensearch/common/var/lib/opensearch/nodes/0', 'total': 0, 'shards': ['[.charm_node_lock][0]', '[.opendistro_security][0]', '[.plugins-ml-config][0]', '[.opensearch-sap-log-types-config][0]', '[series_index][0]', '[.opensearch-observability][0]']}]}, 'can_allocate': 'throttled', 'allocate_explanation': 'allocation temporarily throttled', 'node_allocation_decisions': [{'node_id': 'tWAbbPxwTfGVHA9b4c-RoQ', 'node_name': 'opensearch-1.1ce', 'transport_address': '10.94.62.252:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'throttled', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'YES', 'explanation': 'this node does not hold a copy of this shard'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.1gb], shard size: [208b], free after allocating shard: [74.1gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of incoming shard recoveries [2], cluster setting [cluster.routing.allocation.node_concurrent_incoming_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'B6fM7_9fTTqnnQvAv9EuMQ', 'node_name': 'opensearch-0.1ce', 'transport_address': '10.94.62.215:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 208}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[B6fM7_9fTTqnnQvAv9EuMQ], [P], s[STARTED], a[id=hP7CueY1SVG1pgnnokVlwA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.1gb], shard size: [208b], free after allocating shard: [74.1gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}, {'node_id': 'eJvsILx7R2KBiUVtDVZlrg', 'node_name': 'opensearch-2.1ce', 'transport_address': '10.94.62.31:9300', 'node_attributes': {'app_id': 'db5f0cc1-dcdf-45b2-8481-358300121f05/opensearch', 'shard_indexing_pressure_enabled': 'true'}, 'node_decision': 'no', 'store': {'matching_size_in_bytes': 0}, 'deciders': [{'decider': 'max_retry', 'decision': 'YES', 'explanation': 'shard has no previous failures'}, {'decider': 'replica_after_primary_active', 'decision': 'YES', 'explanation': 'primary shard for this replica is already active'}, {'decider': 'cluster_concurrent_recoveries', 'decision': 'YES', 'explanation': 'undefined cluster concurrent recoveries'}, {'decider': 'enable', 'decision': 'YES', 'explanation': 'all allocations are allowed'}, {'decider': 'node_version', 'decision': 'YES', 'explanation': 'can allocate replica shard to a node with version [2.17.0] since this is equal-or-newer than the primary version [2.17.0]'}, {'decider': 'snapshot_in_progress', 'decision': 'YES', 'explanation': 'the shard is not being snapshotted'}, {'decider': 'restore_in_progress', 'decision': 'YES', 'explanation': 'ignored as shard is not being recovered from a snapshot'}, {'decider': 'filter', 'decision': 'YES', 'explanation': 'node passes include/exclude/require filters'}, {'decider': 'same_shard', 'decision': 'NO', 'explanation': 'a copy of this shard is already allocated to this node [[.opensearch-observability][0], node[eJvsILx7R2KBiUVtDVZlrg], [R], s[STARTED], a[id=Ld_ZHIhARtapQcivfvjSrA]]'}, {'decider': 'disk_threshold', 'decision': 'YES', 'explanation': 'enough disk for shard on node, free: [74.1gb], shard size: [208b], free after allocating shard: [74.1gb]'}, {'decider': 'throttling', 'decision': 'THROTTLE', 'explanation': 'reached the limit of outgoing shard recoveries [2] on the node [B6fM7_9fTTqnnQvAv9EuMQ] which holds the primary, cluster setting [cluster.routing.allocation.node_concurrent_outgoing_recoveries=2] (can also be set via [cluster.routing.allocation.node_concurrent_recoveries])'}, {'decider': 'shards_limit', 'decision': 'YES', 'explanation': 'total shard limits are disabled: [index: -1, cluster: -1] <= 0'}, {'decider': 'awareness', 'decision': 'YES', 'explanation': 'allocation awareness is not enabled, set cluster setting [cluster.routing.allocation.awareness.attributes] to enable it'}, {'decider': 'load_awareness', 'decision': 'YES', 'explanation': 'overload awareness allocation is not enabled, set cluster setting [cluster.routing.allocation.load_awareness.skew_factor] and cluster setting [cluster.routing.allocation.load_awareness.provisioned_capacity] to enable it'}, {'decider': 'target_pool', 'decision': 'YES', 'explanation': 'Routing pools are compatible. Shard pool: [LOCAL_ONLY], node pool: [LOCAL_ONLY]'}, {'decider': 'remote_store_migration', 'decision': 'YES', 'explanation': '[none migration_direction]: replica shard copy can be allocated to a non-remote node for strict compatibility mode'}]}]}


unit-opensearch-0: 02:27:26 INFO unit.opensearch/0.juju-log Shards still moving before stopping Opensearch.

[1m[31mERROR   [0m integration.helpers_deployments:helpers_deployments.py:94