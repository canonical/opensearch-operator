# Copyright 2023 Canonical Ltd.
# See LICENSE file for licensing details.

options:
  init_hold:
    type: boolean
    default: false
    description: Whether a cluster should wait for a peer_cluster relation to be initialized and started.

  cluster_name:
    type: string
    default: ""
    description: |
      The name of the cluster. 
      This option can only be set once per deployment. Once the cluster has been initialised, further changes 
      to this option will be ignored. This setting is crucial to the cluster formation: only sub-clusters 
      with the same name can form a fleet. 
      If this option is left unset, and `init_hold` is false, the cluster name will be autogenerated. 
      If `init_hold` is true, the cluster name will be set by the peer-cluster relation data.
      If set, and `init_hold` is false, the configured value will be used. If `init_hold` is true and 
      the sub-cluster names do not match once related, the application will be put into Blocked state, 
      and the cluster formation will not begin.

  roles:
    type: string
    default: ""
    description: |
      Comma separated list of the roles assigned to the nodes of this cluster. This option may contain spaces 
      before/after the role names, make sure you remove leading/trailing spaces when splitting this list. 
      Leave this setting blank to allow auto-assignment of roles.
      Only the the built-in roles are checked against, namely: 
        cluster_manager, data, data.hot, data.warm, data.cold, ingest, coordinating, voting_only, ml.
      Other dynamic roles are not validated.

  plugin_opensearch_knn:
    default: false
    type: boolean
    description: Enable opensearch-knn
